"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@solana+spl-token@0.1.8_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10";
exports.ids = ["vendor-chunks/@solana+spl-token@0.1.8_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@solana+spl-token@0.1.8_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/@solana/spl-token/lib/index.esm.js":
/*!************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@solana+spl-token@0.1.8_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/@solana/spl-token/lib/index.esm.js ***!
  \************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ASSOCIATED_TOKEN_PROGRAM_ID: () => (/* binding */ ASSOCIATED_TOKEN_PROGRAM_ID),\n/* harmony export */   AccountLayout: () => (/* binding */ AccountLayout),\n/* harmony export */   MintLayout: () => (/* binding */ MintLayout),\n/* harmony export */   NATIVE_MINT: () => (/* binding */ NATIVE_MINT),\n/* harmony export */   TOKEN_PROGRAM_ID: () => (/* binding */ TOKEN_PROGRAM_ID),\n/* harmony export */   Token: () => (/* binding */ Token),\n/* harmony export */   u64: () => (/* binding */ u64)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(ssr)/./node_modules/.pnpm/@babel+runtime@7.27.1/node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assert */ \"assert\");\n/* harmony import */ var assert__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(assert__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.2/node_modules/bn.js/lib/bn.js\");\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bn_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var buffer_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! buffer-layout */ \"(ssr)/./node_modules/.pnpm/buffer-layout@1.2.2/node_modules/buffer-layout/lib/Layout.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @solana/web3.js */ \"(ssr)/./node_modules/.pnpm/@solana+web3.js@1.98.2_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/@solana/web3.js/lib/index.esm.js\");\n\n\n\n\n\n\n//      \n/**\n * Layout for a public key\n */ const publicKey = (property = \"publicKey\")=>{\n    return buffer_layout__WEBPACK_IMPORTED_MODULE_4__.blob(32, property);\n};\n/**\n * Layout for a 64bit unsigned value\n */ const uint64 = (property = \"uint64\")=>{\n    return buffer_layout__WEBPACK_IMPORTED_MODULE_4__.blob(8, property);\n};\n//      \nfunction sendAndConfirmTransaction(title, connection, transaction, ...signers) {\n    return (0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.sendAndConfirmTransaction)(connection, transaction, signers, {\n        skipPreflight: false\n    });\n}\nconst TOKEN_PROGRAM_ID = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(\"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\");\nconst ASSOCIATED_TOKEN_PROGRAM_ID = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(\"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\");\nconst FAILED_TO_FIND_ACCOUNT = \"Failed to find account\";\nconst INVALID_ACCOUNT_OWNER = \"Invalid account owner\";\n/**\n * Unfortunately, BufferLayout.encode uses an `instanceof` check for `Buffer`\n * which fails when using `publicKey.toBuffer()` directly because the bundled `Buffer`\n * class in `@solana/web3.js` is different from the bundled `Buffer` class in this package\n */ function pubkeyToBuffer(publicKey) {\n    return buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(publicKey.toBuffer());\n}\n/**\n * 64-bit value\n */ class u64 extends (bn_js__WEBPACK_IMPORTED_MODULE_3___default()) {\n    /**\n   * Convert to Buffer representation\n   */ toBuffer() {\n        const a = super.toArray().reverse();\n        const b = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(a);\n        if (b.length === 8) {\n            return b;\n        }\n        assert__WEBPACK_IMPORTED_MODULE_2___default()(b.length < 8, \"u64 too large\");\n        const zeroPad = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(8);\n        b.copy(zeroPad);\n        return zeroPad;\n    }\n    /**\n   * Construct a u64 from Buffer representation\n   */ static fromBuffer(buffer) {\n        assert__WEBPACK_IMPORTED_MODULE_2___default()(buffer.length === 8, `Invalid buffer length: ${buffer.length}`);\n        return new u64([\n            ...buffer\n        ].reverse().map((i)=>`00${i.toString(16)}`.slice(-2)).join(\"\"), 16);\n    }\n}\nfunction isAccount(accountOrPublicKey) {\n    return \"publicKey\" in accountOrPublicKey;\n}\nconst AuthorityTypeCodes = {\n    MintTokens: 0,\n    FreezeAccount: 1,\n    AccountOwner: 2,\n    CloseAccount: 3\n}; // The address of the special mint for wrapped native token.\nconst NATIVE_MINT = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(\"So11111111111111111111111111111111111111112\");\n/**\n * Information about the mint\n */ const MintLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u32(\"mintAuthorityOption\"),\n    publicKey(\"mintAuthority\"),\n    uint64(\"supply\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"isInitialized\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u32(\"freezeAuthorityOption\"),\n    publicKey(\"freezeAuthority\")\n]);\n/**\n * Information about an account\n */ /**\n * @private\n */ const AccountLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n    publicKey(\"mint\"),\n    publicKey(\"owner\"),\n    uint64(\"amount\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u32(\"delegateOption\"),\n    publicKey(\"delegate\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"state\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u32(\"isNativeOption\"),\n    uint64(\"isNative\"),\n    uint64(\"delegatedAmount\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u32(\"closeAuthorityOption\"),\n    publicKey(\"closeAuthority\")\n]);\n/**\n * Information about an multisig\n */ /**\n * @private\n */ const MultisigLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"m\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"n\"),\n    buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"is_initialized\"),\n    publicKey(\"signer1\"),\n    publicKey(\"signer2\"),\n    publicKey(\"signer3\"),\n    publicKey(\"signer4\"),\n    publicKey(\"signer5\"),\n    publicKey(\"signer6\"),\n    publicKey(\"signer7\"),\n    publicKey(\"signer8\"),\n    publicKey(\"signer9\"),\n    publicKey(\"signer10\"),\n    publicKey(\"signer11\")\n]);\n/**\n * An ERC20-like Token\n */ class Token {\n    /**\n   * @private\n   */ /**\n   * The public key identifying this mint\n   */ /**\n   * Program Identifier for the Token program\n   */ /**\n   * Program Identifier for the Associated Token program\n   */ /**\n   * Fee payer\n   */ /**\n   * Create a Token object attached to the specific mint\n   *\n   * @param connection The connection to use\n   * @param token Public key of the mint\n   * @param programId token programId\n   * @param payer Payer of fees\n   */ constructor(connection, publicKey, programId, payer){\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"connection\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"publicKey\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"programId\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"associatedProgramId\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"payer\", void 0);\n        Object.assign(this, {\n            connection,\n            publicKey,\n            programId,\n            payer,\n            // Hard code is ok; Overriding is needed only for tests\n            associatedProgramId: ASSOCIATED_TOKEN_PROGRAM_ID\n        });\n    }\n    /**\n   * Get the minimum balance for the mint to be rent exempt\n   *\n   * @return Number of lamports required\n   */ static async getMinBalanceRentForExemptMint(connection) {\n        return await connection.getMinimumBalanceForRentExemption(MintLayout.span);\n    }\n    /**\n   * Get the minimum balance for the account to be rent exempt\n   *\n   * @return Number of lamports required\n   */ static async getMinBalanceRentForExemptAccount(connection) {\n        return await connection.getMinimumBalanceForRentExemption(AccountLayout.span);\n    }\n    /**\n   * Get the minimum balance for the multsig to be rent exempt\n   *\n   * @return Number of lamports required\n   */ static async getMinBalanceRentForExemptMultisig(connection) {\n        return await connection.getMinimumBalanceForRentExemption(MultisigLayout.span);\n    }\n    /**\n   * Create and initialize a token.\n   *\n   * @param connection The connection to use\n   * @param payer Fee payer for transaction\n   * @param mintAuthority Account or multisig that will control minting\n   * @param freezeAuthority Optional account or multisig that can freeze token accounts\n   * @param decimals Location of the decimal place\n   * @param programId Optional token programId, uses the system programId by default\n   * @return Token object for the newly minted token\n   */ static async createMint(connection, payer, mintAuthority, freezeAuthority, decimals, programId) {\n        const mintAccount = _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Keypair.generate();\n        const token = new Token(connection, mintAccount.publicKey, programId, payer); // Allocate memory for the account\n        const balanceNeeded = await Token.getMinBalanceRentForExemptMint(connection);\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction();\n        transaction.add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.createAccount({\n            fromPubkey: payer.publicKey,\n            newAccountPubkey: mintAccount.publicKey,\n            lamports: balanceNeeded,\n            space: MintLayout.span,\n            programId\n        }));\n        transaction.add(Token.createInitMintInstruction(programId, mintAccount.publicKey, decimals, mintAuthority, freezeAuthority)); // Send the two instructions\n        await sendAndConfirmTransaction(\"createAccount and InitializeMint\", connection, transaction, payer, mintAccount);\n        return token;\n    }\n    /**\n   * Create and initialize a new account.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return Public key of the new empty account\n   */ async createAccount(owner) {\n        // Allocate memory for the account\n        const balanceNeeded = await Token.getMinBalanceRentForExemptAccount(this.connection);\n        const newAccount = _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Keypair.generate();\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction();\n        transaction.add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.createAccount({\n            fromPubkey: this.payer.publicKey,\n            newAccountPubkey: newAccount.publicKey,\n            lamports: balanceNeeded,\n            space: AccountLayout.span,\n            programId: this.programId\n        }));\n        const mintPublicKey = this.publicKey;\n        transaction.add(Token.createInitAccountInstruction(this.programId, mintPublicKey, newAccount.publicKey, owner)); // Send the two instructions\n        await sendAndConfirmTransaction(\"createAccount and InitializeAccount\", this.connection, transaction, this.payer, newAccount);\n        return newAccount.publicKey;\n    }\n    /**\n   * Create and initialize the associated account.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return Public key of the new associated account\n   */ async createAssociatedTokenAccount(owner) {\n        const associatedAddress = await Token.getAssociatedTokenAddress(this.associatedProgramId, this.programId, this.publicKey, owner);\n        return this.createAssociatedTokenAccountInternal(owner, associatedAddress);\n    }\n    async createAssociatedTokenAccountInternal(owner, associatedAddress) {\n        await sendAndConfirmTransaction(\"CreateAssociatedTokenAccount\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId, this.programId, this.publicKey, associatedAddress, owner, this.payer.publicKey)), this.payer);\n        return associatedAddress;\n    }\n    /**\n   * Retrieve the associated account or create one if not found.\n   *\n   * This account may then be used as a `transfer()` or `approve()` destination\n   *\n   * @param owner User account that will own the new account\n   * @return The new associated account\n   */ async getOrCreateAssociatedAccountInfo(owner) {\n        const associatedAddress = await Token.getAssociatedTokenAddress(this.associatedProgramId, this.programId, this.publicKey, owner); // This is the optimum logic, considering TX fee, client-side computation,\n        // RPC roundtrips and guaranteed idempotent.\n        // Sadly we can't do this atomically;\n        try {\n            return await this.getAccountInfo(associatedAddress);\n        } catch (err) {\n            // INVALID_ACCOUNT_OWNER can be possible if the associatedAddress has\n            // already been received some lamports (= became system accounts).\n            // Assuming program derived addressing is safe, this is the only case\n            // for the INVALID_ACCOUNT_OWNER in this code-path\n            if (err.message === FAILED_TO_FIND_ACCOUNT || err.message === INVALID_ACCOUNT_OWNER) {\n                // as this isn't atomic, it's possible others can create associated\n                // accounts meanwhile\n                try {\n                    await this.createAssociatedTokenAccountInternal(owner, associatedAddress);\n                } catch (err) {\n                // selectively ignore the expected instruction error if the\n                // associated account is existing already.\n                } // Now this should always succeed\n                return await this.getAccountInfo(associatedAddress);\n            } else {\n                throw err;\n            }\n        }\n    }\n    /**\n   * Create and initialize a new account on the special native token mint.\n   *\n   * In order to be wrapped, the account must have a balance of native tokens\n   * when it is initialized with the token program.\n   *\n   * This function sends lamports to the new account before initializing it.\n   *\n   * @param connection A solana web3 connection\n   * @param programId The token program ID\n   * @param owner The owner of the new token account\n   * @param payer The source of the lamports to initialize, and payer of the initialization fees.\n   * @param amount The amount of lamports to wrap\n   * @return {Promise<PublicKey>} The new token account\n   */ static async createWrappedNativeAccount(connection, programId, owner, payer, amount) {\n        // Allocate memory for the account\n        const balanceNeeded = await Token.getMinBalanceRentForExemptAccount(connection); // Create a new account\n        const newAccount = _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Keypair.generate();\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction();\n        transaction.add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.createAccount({\n            fromPubkey: payer.publicKey,\n            newAccountPubkey: newAccount.publicKey,\n            lamports: balanceNeeded,\n            space: AccountLayout.span,\n            programId\n        })); // Send lamports to it (these will be wrapped into native tokens by the token program)\n        transaction.add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.transfer({\n            fromPubkey: payer.publicKey,\n            toPubkey: newAccount.publicKey,\n            lamports: amount\n        })); // Assign the new account to the native token mint.\n        // the account will be initialized with a balance equal to the native token balance.\n        // (i.e. amount)\n        transaction.add(Token.createInitAccountInstruction(programId, NATIVE_MINT, newAccount.publicKey, owner)); // Send the three instructions\n        await sendAndConfirmTransaction(\"createAccount, transfer, and initializeAccount\", connection, transaction, payer, newAccount);\n        return newAccount.publicKey;\n    }\n    /**\n   * Create and initialize a new multisig.\n   *\n   * This account may then be used for multisignature verification\n   *\n   * @param m Number of required signatures\n   * @param signers Full set of signers\n   * @return Public key of the new multisig account\n   */ async createMultisig(m, signers) {\n        const multisigAccount = _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Keypair.generate(); // Allocate memory for the account\n        const balanceNeeded = await Token.getMinBalanceRentForExemptMultisig(this.connection);\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction();\n        transaction.add(_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.createAccount({\n            fromPubkey: this.payer.publicKey,\n            newAccountPubkey: multisigAccount.publicKey,\n            lamports: balanceNeeded,\n            space: MultisigLayout.span,\n            programId: this.programId\n        })); // create the new account\n        let keys = [\n            {\n                pubkey: multisigAccount.publicKey,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SYSVAR_RENT_PUBKEY,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        signers.forEach((signer)=>keys.push({\n                pubkey: signer,\n                isSigner: false,\n                isWritable: false\n            }));\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"m\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 2,\n            // InitializeMultisig instruction\n            m\n        }, data);\n        transaction.add({\n            keys,\n            programId: this.programId,\n            data\n        }); // Send the two instructions\n        await sendAndConfirmTransaction(\"createAccount and InitializeMultisig\", this.connection, transaction, this.payer, multisigAccount);\n        return multisigAccount.publicKey;\n    }\n    /**\n   * Retrieve mint information\n   */ async getMintInfo() {\n        const info = await this.connection.getAccountInfo(this.publicKey);\n        if (info === null) {\n            throw new Error(\"Failed to find mint account\");\n        }\n        if (!info.owner.equals(this.programId)) {\n            throw new Error(`Invalid mint owner: ${JSON.stringify(info.owner)}`);\n        }\n        if (info.data.length != MintLayout.span) {\n            throw new Error(`Invalid mint size`);\n        }\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(info.data);\n        const mintInfo = MintLayout.decode(data);\n        if (mintInfo.mintAuthorityOption === 0) {\n            mintInfo.mintAuthority = null;\n        } else {\n            mintInfo.mintAuthority = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(mintInfo.mintAuthority);\n        }\n        mintInfo.supply = u64.fromBuffer(mintInfo.supply);\n        mintInfo.isInitialized = mintInfo.isInitialized != 0;\n        if (mintInfo.freezeAuthorityOption === 0) {\n            mintInfo.freezeAuthority = null;\n        } else {\n            mintInfo.freezeAuthority = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(mintInfo.freezeAuthority);\n        }\n        return mintInfo;\n    }\n    /**\n   * Retrieve account information\n   *\n   * @param account Public key of the account\n   */ async getAccountInfo(account, commitment) {\n        const info = await this.connection.getAccountInfo(account, commitment);\n        if (info === null) {\n            throw new Error(FAILED_TO_FIND_ACCOUNT);\n        }\n        if (!info.owner.equals(this.programId)) {\n            throw new Error(INVALID_ACCOUNT_OWNER);\n        }\n        if (info.data.length != AccountLayout.span) {\n            throw new Error(`Invalid account size`);\n        }\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(info.data);\n        const accountInfo = AccountLayout.decode(data);\n        accountInfo.address = account;\n        accountInfo.mint = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(accountInfo.mint);\n        accountInfo.owner = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(accountInfo.owner);\n        accountInfo.amount = u64.fromBuffer(accountInfo.amount);\n        if (accountInfo.delegateOption === 0) {\n            accountInfo.delegate = null;\n            accountInfo.delegatedAmount = new u64();\n        } else {\n            accountInfo.delegate = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(accountInfo.delegate);\n            accountInfo.delegatedAmount = u64.fromBuffer(accountInfo.delegatedAmount);\n        }\n        accountInfo.isInitialized = accountInfo.state !== 0;\n        accountInfo.isFrozen = accountInfo.state === 2;\n        if (accountInfo.isNativeOption === 1) {\n            accountInfo.rentExemptReserve = u64.fromBuffer(accountInfo.isNative);\n            accountInfo.isNative = true;\n        } else {\n            accountInfo.rentExemptReserve = null;\n            accountInfo.isNative = false;\n        }\n        if (accountInfo.closeAuthorityOption === 0) {\n            accountInfo.closeAuthority = null;\n        } else {\n            accountInfo.closeAuthority = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(accountInfo.closeAuthority);\n        }\n        if (!accountInfo.mint.equals(this.publicKey)) {\n            throw new Error(`Invalid account mint: ${JSON.stringify(accountInfo.mint)} !== ${JSON.stringify(this.publicKey)}`);\n        }\n        return accountInfo;\n    }\n    /**\n   * Retrieve Multisig information\n   *\n   * @param multisig Public key of the account\n   */ async getMultisigInfo(multisig) {\n        const info = await this.connection.getAccountInfo(multisig);\n        if (info === null) {\n            throw new Error(\"Failed to find multisig\");\n        }\n        if (!info.owner.equals(this.programId)) {\n            throw new Error(`Invalid multisig owner`);\n        }\n        if (info.data.length != MultisigLayout.span) {\n            throw new Error(`Invalid multisig size`);\n        }\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.from(info.data);\n        const multisigInfo = MultisigLayout.decode(data);\n        multisigInfo.signer1 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer1);\n        multisigInfo.signer2 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer2);\n        multisigInfo.signer3 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer3);\n        multisigInfo.signer4 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer4);\n        multisigInfo.signer5 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer5);\n        multisigInfo.signer6 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer6);\n        multisigInfo.signer7 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer7);\n        multisigInfo.signer8 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer8);\n        multisigInfo.signer9 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer9);\n        multisigInfo.signer10 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer10);\n        multisigInfo.signer11 = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(multisigInfo.signer11);\n        return multisigInfo;\n    }\n    /**\n   * Transfer tokens to another account\n   *\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Number of tokens to transfer\n   */ async transfer(source, destination, owner, multiSigners, amount) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        return await sendAndConfirmTransaction(\"Transfer\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createTransferInstruction(this.programId, source, destination, ownerPublicKey, multiSigners, amount)), this.payer, ...signers);\n    }\n    /**\n   * Grant a third-party permission to transfer up the specified number of tokens from an account\n   *\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   */ async approve(account, delegate, owner, multiSigners, amount) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"Approve\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createApproveInstruction(this.programId, account, delegate, ownerPublicKey, multiSigners, amount)), this.payer, ...signers);\n    }\n    /**\n   * Remove approval for the transfer of any remaining tokens\n   *\n   * @param account Public key of the account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */ async revoke(account, owner, multiSigners) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"Revoke\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createRevokeInstruction(this.programId, account, ownerPublicKey, multiSigners)), this.payer, ...signers);\n    }\n    /**\n   * Assign a new authority to the account\n   *\n   * @param account Public key of the account\n   * @param newAuthority New authority of the account\n   * @param authorityType Type of authority to set\n   * @param currentAuthority Current authority of the account\n   * @param multiSigners Signing accounts if `currentAuthority` is a multiSig\n   */ async setAuthority(account, newAuthority, authorityType, currentAuthority, multiSigners) {\n        let currentAuthorityPublicKey;\n        let signers;\n        if (isAccount(currentAuthority)) {\n            currentAuthorityPublicKey = currentAuthority.publicKey;\n            signers = [\n                currentAuthority\n            ];\n        } else {\n            currentAuthorityPublicKey = currentAuthority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"SetAuthority\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createSetAuthorityInstruction(this.programId, account, newAuthority, authorityType, currentAuthorityPublicKey, multiSigners)), this.payer, ...signers);\n    }\n    /**\n   * Mint new tokens\n   *\n   * @param dest Public key of the account to mint to\n   * @param authority Minting authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   */ async mintTo(dest, authority, multiSigners, amount) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(authority)) {\n            ownerPublicKey = authority.publicKey;\n            signers = [\n                authority\n            ];\n        } else {\n            ownerPublicKey = authority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"MintTo\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createMintToInstruction(this.programId, this.publicKey, dest, ownerPublicKey, multiSigners, amount)), this.payer, ...signers);\n    }\n    /**\n   * Burn tokens\n   *\n   * @param account Account to burn tokens from\n   * @param owner Account owner\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Amount to burn\n   */ async burn(account, owner, multiSigners, amount) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"Burn\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createBurnInstruction(this.programId, this.publicKey, account, ownerPublicKey, multiSigners, amount)), this.payer, ...signers);\n    }\n    /**\n   * Close account\n   *\n   * @param account Account to close\n   * @param dest Account to receive the remaining balance of the closed account\n   * @param authority Authority which is allowed to close the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */ async closeAccount(account, dest, authority, multiSigners) {\n        let authorityPublicKey;\n        let signers;\n        if (isAccount(authority)) {\n            authorityPublicKey = authority.publicKey;\n            signers = [\n                authority\n            ];\n        } else {\n            authorityPublicKey = authority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"CloseAccount\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createCloseAccountInstruction(this.programId, account, dest, authorityPublicKey, multiSigners)), this.payer, ...signers);\n    }\n    /**\n   * Freeze account\n   *\n   * @param account Account to freeze\n   * @param authority The mint freeze authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */ async freezeAccount(account, authority, multiSigners) {\n        let authorityPublicKey;\n        let signers;\n        if (isAccount(authority)) {\n            authorityPublicKey = authority.publicKey;\n            signers = [\n                authority\n            ];\n        } else {\n            authorityPublicKey = authority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"FreezeAccount\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createFreezeAccountInstruction(this.programId, account, this.publicKey, authorityPublicKey, multiSigners)), this.payer, ...signers);\n    }\n    /**\n   * Thaw account\n   *\n   * @param account Account to thaw\n   * @param authority The mint freeze authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   */ async thawAccount(account, authority, multiSigners) {\n        let authorityPublicKey;\n        let signers;\n        if (isAccount(authority)) {\n            authorityPublicKey = authority.publicKey;\n            signers = [\n                authority\n            ];\n        } else {\n            authorityPublicKey = authority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"ThawAccount\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createThawAccountInstruction(this.programId, account, this.publicKey, authorityPublicKey, multiSigners)), this.payer, ...signers);\n    }\n    /**\n   * Transfer tokens to another account, asserting the token mint and decimals\n   *\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Number of tokens to transfer\n   * @param decimals Number of decimals in transfer amount\n   */ async transferChecked(source, destination, owner, multiSigners, amount, decimals) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        return await sendAndConfirmTransaction(\"TransferChecked\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createTransferCheckedInstruction(this.programId, source, this.publicKey, destination, ownerPublicKey, multiSigners, amount, decimals)), this.payer, ...signers);\n    }\n    /**\n   * Grant a third-party permission to transfer up the specified number of tokens from an account,\n   * asserting the token mint and decimals\n   *\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   * @param decimals Number of decimals in approve amount\n   */ async approveChecked(account, delegate, owner, multiSigners, amount, decimals) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"ApproveChecked\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createApproveCheckedInstruction(this.programId, account, this.publicKey, delegate, ownerPublicKey, multiSigners, amount, decimals)), this.payer, ...signers);\n    }\n    /**\n   * Mint new tokens, asserting the token mint and decimals\n   *\n   * @param dest Public key of the account to mint to\n   * @param authority Minting authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   * @param decimals Number of decimals in amount to mint\n   */ async mintToChecked(dest, authority, multiSigners, amount, decimals) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(authority)) {\n            ownerPublicKey = authority.publicKey;\n            signers = [\n                authority\n            ];\n        } else {\n            ownerPublicKey = authority;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"MintToChecked\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createMintToCheckedInstruction(this.programId, this.publicKey, dest, ownerPublicKey, multiSigners, amount, decimals)), this.payer, ...signers);\n    }\n    /**\n   * Burn tokens, asserting the token mint and decimals\n   *\n   * @param account Account to burn tokens from\n   * @param owner Account owner\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Amount to burn\n   * @param decimals Number of decimals in amount to burn\n   */ async burnChecked(account, owner, multiSigners, amount, decimals) {\n        let ownerPublicKey;\n        let signers;\n        if (isAccount(owner)) {\n            ownerPublicKey = owner.publicKey;\n            signers = [\n                owner\n            ];\n        } else {\n            ownerPublicKey = owner;\n            signers = multiSigners;\n        }\n        await sendAndConfirmTransaction(\"BurnChecked\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createBurnCheckedInstruction(this.programId, this.publicKey, account, ownerPublicKey, multiSigners, amount, decimals)), this.payer, ...signers);\n    }\n    /**\n   * Sync amount in native SPL token account to underlying lamports\n   *\n   * @param nativeAccount Account to sync\n   */ async syncNative(nativeAccount) {\n        await sendAndConfirmTransaction(\"SyncNative\", this.connection, new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.Transaction().add(Token.createSyncNativeInstruction(this.programId, nativeAccount)), this.payer);\n    }\n    /**\n   * Construct an InitializeMint instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param decimals Number of decimals in token account amounts\n   * @param mintAuthority Minting authority\n   * @param freezeAuthority Optional authority that can freeze token accounts\n   */ static createInitMintInstruction(programId, mint, decimals, mintAuthority, freezeAuthority) {\n        let keys = [\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SYSVAR_RENT_PUBKEY,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        const commandDataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\"),\n            publicKey(\"mintAuthority\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"option\"),\n            publicKey(\"freezeAuthority\")\n        ]);\n        let data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(1024);\n        {\n            const encodeLength = commandDataLayout.encode({\n                instruction: 0,\n                // InitializeMint instruction\n                decimals,\n                mintAuthority: pubkeyToBuffer(mintAuthority),\n                option: freezeAuthority === null ? 0 : 1,\n                freezeAuthority: pubkeyToBuffer(freezeAuthority || new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(0))\n            }, data);\n            data = data.slice(0, encodeLength);\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId,\n            data\n        });\n    }\n    /**\n   * Construct an InitializeAccount instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param account New account\n   * @param owner Owner of the new account\n   */ static createInitAccountInstruction(programId, mint, account, owner) {\n        const keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SYSVAR_RENT_PUBKEY,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 1 // InitializeAccount instruction\n        }, data);\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId,\n            data\n        });\n    }\n    /**\n   * Construct a Transfer instruction\n   *\n   * @param programId SPL Token program account\n   * @param source Source account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Number of tokens to transfer\n   */ static createTransferInstruction(programId, source, destination, owner, multiSigners, amount) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 3,\n            // Transfer instruction\n            amount: new u64(amount).toBuffer()\n        }, data);\n        let keys = [\n            {\n                pubkey: source,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: destination,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct an Approve instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param delegate Account authorized to perform a transfer of tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   */ static createApproveInstruction(programId, account, delegate, owner, multiSigners, amount) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 4,\n            // Approve instruction\n            amount: new u64(amount).toBuffer()\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: delegate,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a Revoke instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */ static createRevokeInstruction(programId, account, owner, multiSigners) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 5 // Approve instruction\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a SetAuthority instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param newAuthority New authority of the account\n   * @param authorityType Type of authority to set\n   * @param currentAuthority Current authority of the specified type\n   * @param multiSigners Signing accounts if `currentAuthority` is a multiSig\n   */ static createSetAuthorityInstruction(programId, account, newAuthority, authorityType, currentAuthority, multiSigners) {\n        const commandDataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"authorityType\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"option\"),\n            publicKey(\"newAuthority\")\n        ]);\n        let data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(1024);\n        {\n            const encodeLength = commandDataLayout.encode({\n                instruction: 6,\n                // SetAuthority instruction\n                authorityType: AuthorityTypeCodes[authorityType],\n                option: newAuthority === null ? 0 : 1,\n                newAuthority: pubkeyToBuffer(newAuthority || new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey(0))\n            }, data);\n            data = data.slice(0, encodeLength);\n        }\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: currentAuthority,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: currentAuthority,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a MintTo instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Public key of the mint\n   * @param dest Public key of the account to mint to\n   * @param authority The mint authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   */ static createMintToInstruction(programId, mint, dest, authority, multiSigners, amount) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 7,\n            // MintTo instruction\n            amount: new u64(amount).toBuffer()\n        }, data);\n        let keys = [\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: dest,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: authority,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: authority,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a Burn instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Mint for the account\n   * @param account Account to burn tokens from\n   * @param owner Owner of the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount amount to burn\n   */ static createBurnInstruction(programId, mint, account, owner, multiSigners, amount) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 8,\n            // Burn instruction\n            amount: new u64(amount).toBuffer()\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a Close instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to close\n   * @param dest Account to receive the remaining balance of the closed account\n   * @param authority Account Close authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */ static createCloseAccountInstruction(programId, account, dest, owner, multiSigners) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 9 // CloseAccount instruction\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: dest,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a Freeze instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to freeze\n   * @param mint Mint account\n   * @param authority Mint freeze authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */ static createFreezeAccountInstruction(programId, account, mint, authority, multiSigners) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 10 // FreezeAccount instruction\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: authority,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: authority,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a Thaw instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Account to thaw\n   * @param mint Mint account\n   * @param authority Mint freeze authority\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   */ static createThawAccountInstruction(programId, account, mint, authority, multiSigners) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 11 // ThawAccount instruction\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: authority,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: authority,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a TransferChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param source Source account\n   * @param mint Mint account\n   * @param destination Destination account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Number of tokens to transfer\n   * @param decimals Number of decimals in transfer amount\n   */ static createTransferCheckedInstruction(programId, source, mint, destination, owner, multiSigners, amount, decimals) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 12,\n            // TransferChecked instruction\n            amount: new u64(amount).toBuffer(),\n            decimals\n        }, data);\n        let keys = [\n            {\n                pubkey: source,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: destination,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct an ApproveChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param account Public key of the account\n   * @param mint Mint account\n   * @param delegate Account authorized to perform a transfer of tokens from the source account\n   * @param owner Owner of the source account\n   * @param multiSigners Signing accounts if `owner` is a multiSig\n   * @param amount Maximum number of tokens the delegate may transfer\n   * @param decimals Number of decimals in approve amount\n   */ static createApproveCheckedInstruction(programId, account, mint, delegate, owner, multiSigners, amount, decimals) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 13,\n            // ApproveChecked instruction\n            amount: new u64(amount).toBuffer(),\n            decimals\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: delegate,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a MintToChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Public key of the mint\n   * @param dest Public key of the account to mint to\n   * @param authority The mint authority\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount Amount to mint\n   * @param decimals Number of decimals in amount to mint\n   */ static createMintToCheckedInstruction(programId, mint, dest, authority, multiSigners, amount, decimals) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 14,\n            // MintToChecked instruction\n            amount: new u64(amount).toBuffer(),\n            decimals\n        }, data);\n        let keys = [\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: dest,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: authority,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: authority,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a BurnChecked instruction\n   *\n   * @param programId SPL Token program account\n   * @param mint Mint for the account\n   * @param account Account to burn tokens from\n   * @param owner Owner of the account\n   * @param multiSigners Signing accounts if `authority` is a multiSig\n   * @param amount amount to burn\n   */ static createBurnCheckedInstruction(programId, mint, account, owner, multiSigners, amount, decimals) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\"),\n            uint64(\"amount\"),\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"decimals\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 15,\n            // BurnChecked instruction\n            amount: new u64(amount).toBuffer(),\n            decimals\n        }, data);\n        let keys = [\n            {\n                pubkey: account,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        if (multiSigners.length === 0) {\n            keys.push({\n                pubkey: owner,\n                isSigner: true,\n                isWritable: false\n            });\n        } else {\n            keys.push({\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            });\n            multiSigners.forEach((signer)=>keys.push({\n                    pubkey: signer.publicKey,\n                    isSigner: true,\n                    isWritable: false\n                }));\n        }\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Construct a SyncNative instruction\n   *\n   * @param programId SPL Token program account\n   * @param nativeAccount Account to sync lamports from\n   */ static createSyncNativeInstruction(programId, nativeAccount) {\n        const dataLayout = buffer_layout__WEBPACK_IMPORTED_MODULE_4__.struct([\n            buffer_layout__WEBPACK_IMPORTED_MODULE_4__.u8(\"instruction\")\n        ]);\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(dataLayout.span);\n        dataLayout.encode({\n            instruction: 17 // SyncNative instruction\n        }, data);\n        let keys = [\n            {\n                pubkey: nativeAccount,\n                isSigner: false,\n                isWritable: true\n            }\n        ];\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: programId,\n            data\n        });\n    }\n    /**\n   * Get the address for the associated token account\n   *\n   * @param associatedProgramId SPL Associated Token program account\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param owner Owner of the new account\n   * @return Public key of the associated token account\n   */ static async getAssociatedTokenAddress(associatedProgramId, programId, mint, owner, allowOwnerOffCurve = false) {\n        if (!allowOwnerOffCurve && !_solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey.isOnCurve(owner.toBuffer())) {\n            throw new Error(`Owner cannot sign: ${owner.toString()}`);\n        }\n        return (await _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.PublicKey.findProgramAddress([\n            owner.toBuffer(),\n            programId.toBuffer(),\n            mint.toBuffer()\n        ], associatedProgramId))[0];\n    }\n    /**\n   * Construct the AssociatedTokenProgram instruction to create the associated\n   * token account\n   *\n   * @param associatedProgramId SPL Associated Token program account\n   * @param programId SPL Token program account\n   * @param mint Token mint account\n   * @param associatedAccount New associated account\n   * @param owner Owner of the new account\n   * @param payer Payer of fees\n   */ static createAssociatedTokenAccountInstruction(associatedProgramId, programId, mint, associatedAccount, owner, payer) {\n        const data = buffer__WEBPACK_IMPORTED_MODULE_1__.Buffer.alloc(0);\n        let keys = [\n            {\n                pubkey: payer,\n                isSigner: true,\n                isWritable: true\n            },\n            {\n                pubkey: associatedAccount,\n                isSigner: false,\n                isWritable: true\n            },\n            {\n                pubkey: owner,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: mint,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SystemProgram.programId,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: programId,\n                isSigner: false,\n                isWritable: false\n            },\n            {\n                pubkey: _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.SYSVAR_RENT_PUBKEY,\n                isSigner: false,\n                isWritable: false\n            }\n        ];\n        return new _solana_web3_js__WEBPACK_IMPORTED_MODULE_5__.TransactionInstruction({\n            keys,\n            programId: associatedProgramId,\n            data\n        });\n    }\n}\n //# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHNvbGFuYStzcGwtdG9rZW5AMC4xLjhfYnVmZmVydXRpbEA0LjAuOV90eXBlc2NyaXB0QDUuOC4zX3V0Zi04LXZhbGlkYXRlQDUuMC4xMC9ub2RlX21vZHVsZXMvQHNvbGFuYS9zcGwtdG9rZW4vbGliL2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvRTtBQUNwQztBQUNKO0FBQ0w7QUFDdUI7QUFDeUk7QUFFdkwsUUFBUTtBQUNSOztDQUVDLEdBRUQsTUFBTWEsWUFBWSxDQUFDQyxXQUFXLFdBQVc7SUFDdkMsT0FBT1YsK0NBQWlCLENBQUMsSUFBSVU7QUFDL0I7QUFDQTs7Q0FFQyxHQUVELE1BQU1FLFNBQVMsQ0FBQ0YsV0FBVyxRQUFRO0lBQ2pDLE9BQU9WLCtDQUFpQixDQUFDLEdBQUdVO0FBQzlCO0FBRUEsUUFBUTtBQUNSLFNBQVNULDBCQUEwQlksS0FBSyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRSxHQUFHQyxPQUFPO0lBQzNFLE9BQU9kLDBFQUEyQkEsQ0FBQ1ksWUFBWUMsYUFBYUMsU0FBUztRQUNuRUMsZUFBZTtJQUNqQjtBQUNGO0FBRUEsTUFBTUMsbUJBQW1CLElBQUlmLHNEQUFTQSxDQUFDO0FBQ3ZDLE1BQU1nQiw4QkFBOEIsSUFBSWhCLHNEQUFTQSxDQUFDO0FBQ2xELE1BQU1pQix5QkFBeUI7QUFDL0IsTUFBTUMsd0JBQXdCO0FBQzlCOzs7O0NBSUMsR0FFRCxTQUFTQyxlQUFlYixTQUFTO0lBQy9CLE9BQU9aLDBDQUFNQSxDQUFDMEIsSUFBSSxDQUFDZCxVQUFVZSxRQUFRO0FBQ3ZDO0FBQ0E7O0NBRUMsR0FHRCxNQUFNQyxZQUFZMUIsOENBQUVBO0lBQ2xCOztHQUVDLEdBQ0R5QixXQUFXO1FBQ1QsTUFBTUUsSUFBSSxLQUFLLENBQUNDLFVBQVVDLE9BQU87UUFDakMsTUFBTUMsSUFBSWhDLDBDQUFNQSxDQUFDMEIsSUFBSSxDQUFDRztRQUV0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Q0FBQyxFQUFFO0lBQ2hJO0lBQ0E7Ozs7Ozs7Ozs7R0FVQyxHQUdELE9BQU82Qix3Q0FBd0M3QixtQkFBbUIsRUFBRUosU0FBUyxFQUFFd0UsSUFBSSxFQUFFc0UsaUJBQWlCLEVBQUVySCxLQUFLLEVBQUV4QixLQUFLLEVBQUU7UUFDcEgsTUFBTW9ELE9BQU9qSCwwQ0FBTUEsQ0FBQ21DLEtBQUssQ0FBQztRQUMxQixJQUFJc0UsT0FBTztZQUFDO2dCQUNWQyxRQUFRN0M7Z0JBQ1I4QyxVQUFVO2dCQUNWQyxZQUFZO1lBQ2Q7WUFBRztnQkFDREYsUUFBUWdHO2dCQUNSL0YsVUFBVTtnQkFDVkMsWUFBWTtZQUNkO1lBQUc7Z0JBQ0RGLFFBQVFyQjtnQkFDUnNCLFVBQVU7Z0JBQ1ZDLFlBQVk7WUFDZDtZQUFHO2dCQUNERixRQUFRMEI7Z0JBQ1J6QixVQUFVO2dCQUNWQyxZQUFZO1lBQ2Q7WUFBRztnQkFDREYsUUFBUWpHLDBEQUFhQSxDQUFDbUQsU0FBUztnQkFDL0IrQyxVQUFVO2dCQUNWQyxZQUFZO1lBQ2Q7WUFBRztnQkFDREYsUUFBUTlDO2dCQUNSK0MsVUFBVTtnQkFDVkMsWUFBWTtZQUNkO1lBQUc7Z0JBQ0RGLFFBQVFoRywrREFBa0JBO2dCQUMxQmlHLFVBQVU7Z0JBQ1ZDLFlBQVk7WUFDZDtTQUFFO1FBQ0YsT0FBTyxJQUFJakcsbUVBQXNCQSxDQUFDO1lBQ2hDOEY7WUFDQTdDLFdBQVdJO1lBQ1hpRDtRQUNGO0lBQ0Y7QUFFRjtBQUU2RyxDQUM3RyxxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bzb2xhbmErc3BsLXRva2VuQDAuMS44X2J1ZmZlcnV0aWxANC4wLjlfdHlwZXNjcmlwdEA1LjguM191dGYtOC12YWxpZGF0ZUA1LjAuMTAvbm9kZV9tb2R1bGVzL0Bzb2xhbmEvc3BsLXRva2VuL2xpYi9pbmRleC5lc20uanM/YjlkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBCTiBmcm9tICdibi5qcyc7XG5pbXBvcnQgKiBhcyBCdWZmZXJMYXlvdXQgZnJvbSAnYnVmZmVyLWxheW91dCc7XG5pbXBvcnQgeyBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uIGFzIHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24kMSwgUHVibGljS2V5LCBLZXlwYWlyLCBUcmFuc2FjdGlvbiwgU3lzdGVtUHJvZ3JhbSwgU1lTVkFSX1JFTlRfUFVCS0VZLCBUcmFuc2FjdGlvbkluc3RydWN0aW9uIH0gZnJvbSAnQHNvbGFuYS93ZWIzLmpzJztcblxuLy8gICAgICBcbi8qKlxuICogTGF5b3V0IGZvciBhIHB1YmxpYyBrZXlcbiAqL1xuXG5jb25zdCBwdWJsaWNLZXkgPSAocHJvcGVydHkgPSAncHVibGljS2V5JykgPT4ge1xuICByZXR1cm4gQnVmZmVyTGF5b3V0LmJsb2IoMzIsIHByb3BlcnR5KTtcbn07XG4vKipcbiAqIExheW91dCBmb3IgYSA2NGJpdCB1bnNpZ25lZCB2YWx1ZVxuICovXG5cbmNvbnN0IHVpbnQ2NCA9IChwcm9wZXJ0eSA9ICd1aW50NjQnKSA9PiB7XG4gIHJldHVybiBCdWZmZXJMYXlvdXQuYmxvYig4LCBwcm9wZXJ0eSk7XG59O1xuXG4vLyAgICAgIFxuZnVuY3Rpb24gc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbih0aXRsZSwgY29ubmVjdGlvbiwgdHJhbnNhY3Rpb24sIC4uLnNpZ25lcnMpIHtcbiAgcmV0dXJuIHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24kMShjb25uZWN0aW9uLCB0cmFuc2FjdGlvbiwgc2lnbmVycywge1xuICAgIHNraXBQcmVmbGlnaHQ6IGZhbHNlXG4gIH0pO1xufVxuXG5jb25zdCBUT0tFTl9QUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleSgnVG9rZW5rZWdRZmVaeWlOd0FKYk5iR0tQRlhDV3VCdmY5U3M2MjNWUTVEQScpO1xuY29uc3QgQVNTT0NJQVRFRF9UT0tFTl9QUk9HUkFNX0lEID0gbmV3IFB1YmxpY0tleSgnQVRva2VuR1B2YmRHVnhyMWIyaHZaYnNpcVc1eFdIMjVlZlROc0xKQThrbkwnKTtcbmNvbnN0IEZBSUxFRF9UT19GSU5EX0FDQ09VTlQgPSAnRmFpbGVkIHRvIGZpbmQgYWNjb3VudCc7XG5jb25zdCBJTlZBTElEX0FDQ09VTlRfT1dORVIgPSAnSW52YWxpZCBhY2NvdW50IG93bmVyJztcbi8qKlxuICogVW5mb3J0dW5hdGVseSwgQnVmZmVyTGF5b3V0LmVuY29kZSB1c2VzIGFuIGBpbnN0YW5jZW9mYCBjaGVjayBmb3IgYEJ1ZmZlcmBcbiAqIHdoaWNoIGZhaWxzIHdoZW4gdXNpbmcgYHB1YmxpY0tleS50b0J1ZmZlcigpYCBkaXJlY3RseSBiZWNhdXNlIHRoZSBidW5kbGVkIGBCdWZmZXJgXG4gKiBjbGFzcyBpbiBgQHNvbGFuYS93ZWIzLmpzYCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYnVuZGxlZCBgQnVmZmVyYCBjbGFzcyBpbiB0aGlzIHBhY2thZ2VcbiAqL1xuXG5mdW5jdGlvbiBwdWJrZXlUb0J1ZmZlcihwdWJsaWNLZXkpIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHB1YmxpY0tleS50b0J1ZmZlcigpKTtcbn1cbi8qKlxuICogNjQtYml0IHZhbHVlXG4gKi9cblxuXG5jbGFzcyB1NjQgZXh0ZW5kcyBCTiB7XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRvIEJ1ZmZlciByZXByZXNlbnRhdGlvblxuICAgKi9cbiAgdG9CdWZmZXIoKSB7XG4gICAgY29uc3QgYSA9IHN1cGVyLnRvQXJyYXkoKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgYiA9IEJ1ZmZlci5mcm9tKGEpO1xuXG4gICAgaWYgKGIubGVuZ3RoID09PSA4KSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICBhc3NlcnQoYi5sZW5ndGggPCA4LCAndTY0IHRvbyBsYXJnZScpO1xuICAgIGNvbnN0IHplcm9QYWQgPSBCdWZmZXIuYWxsb2MoOCk7XG4gICAgYi5jb3B5KHplcm9QYWQpO1xuICAgIHJldHVybiB6ZXJvUGFkO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB1NjQgZnJvbSBCdWZmZXIgcmVwcmVzZW50YXRpb25cbiAgICovXG5cblxuICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXIpIHtcbiAgICBhc3NlcnQoYnVmZmVyLmxlbmd0aCA9PT0gOCwgYEludmFsaWQgYnVmZmVyIGxlbmd0aDogJHtidWZmZXIubGVuZ3RofWApO1xuICAgIHJldHVybiBuZXcgdTY0KFsuLi5idWZmZXJdLnJldmVyc2UoKS5tYXAoaSA9PiBgMDAke2kudG9TdHJpbmcoMTYpfWAuc2xpY2UoLTIpKS5qb2luKCcnKSwgMTYpO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gaXNBY2NvdW50KGFjY291bnRPclB1YmxpY0tleSkge1xuICByZXR1cm4gJ3B1YmxpY0tleScgaW4gYWNjb3VudE9yUHVibGljS2V5O1xufVxuXG5jb25zdCBBdXRob3JpdHlUeXBlQ29kZXMgPSB7XG4gIE1pbnRUb2tlbnM6IDAsXG4gIEZyZWV6ZUFjY291bnQ6IDEsXG4gIEFjY291bnRPd25lcjogMixcbiAgQ2xvc2VBY2NvdW50OiAzXG59OyAvLyBUaGUgYWRkcmVzcyBvZiB0aGUgc3BlY2lhbCBtaW50IGZvciB3cmFwcGVkIG5hdGl2ZSB0b2tlbi5cblxuY29uc3QgTkFUSVZFX01JTlQgPSBuZXcgUHVibGljS2V5KCdTbzExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEyJyk7XG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBtaW50XG4gKi9cblxuY29uc3QgTWludExheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51MzIoJ21pbnRBdXRob3JpdHlPcHRpb24nKSwgcHVibGljS2V5KCdtaW50QXV0aG9yaXR5JyksIHVpbnQ2NCgnc3VwcGx5JyksIEJ1ZmZlckxheW91dC51OCgnZGVjaW1hbHMnKSwgQnVmZmVyTGF5b3V0LnU4KCdpc0luaXRpYWxpemVkJyksIEJ1ZmZlckxheW91dC51MzIoJ2ZyZWV6ZUF1dGhvcml0eU9wdGlvbicpLCBwdWJsaWNLZXkoJ2ZyZWV6ZUF1dGhvcml0eScpXSk7XG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IGFuIGFjY291bnRcbiAqL1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cblxuY29uc3QgQWNjb3VudExheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW3B1YmxpY0tleSgnbWludCcpLCBwdWJsaWNLZXkoJ293bmVyJyksIHVpbnQ2NCgnYW1vdW50JyksIEJ1ZmZlckxheW91dC51MzIoJ2RlbGVnYXRlT3B0aW9uJyksIHB1YmxpY0tleSgnZGVsZWdhdGUnKSwgQnVmZmVyTGF5b3V0LnU4KCdzdGF0ZScpLCBCdWZmZXJMYXlvdXQudTMyKCdpc05hdGl2ZU9wdGlvbicpLCB1aW50NjQoJ2lzTmF0aXZlJyksIHVpbnQ2NCgnZGVsZWdhdGVkQW1vdW50JyksIEJ1ZmZlckxheW91dC51MzIoJ2Nsb3NlQXV0aG9yaXR5T3B0aW9uJyksIHB1YmxpY0tleSgnY2xvc2VBdXRob3JpdHknKV0pO1xuLyoqXG4gKiBJbmZvcm1hdGlvbiBhYm91dCBhbiBtdWx0aXNpZ1xuICovXG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuXG5jb25zdCBNdWx0aXNpZ0xheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51OCgnbScpLCBCdWZmZXJMYXlvdXQudTgoJ24nKSwgQnVmZmVyTGF5b3V0LnU4KCdpc19pbml0aWFsaXplZCcpLCBwdWJsaWNLZXkoJ3NpZ25lcjEnKSwgcHVibGljS2V5KCdzaWduZXIyJyksIHB1YmxpY0tleSgnc2lnbmVyMycpLCBwdWJsaWNLZXkoJ3NpZ25lcjQnKSwgcHVibGljS2V5KCdzaWduZXI1JyksIHB1YmxpY0tleSgnc2lnbmVyNicpLCBwdWJsaWNLZXkoJ3NpZ25lcjcnKSwgcHVibGljS2V5KCdzaWduZXI4JyksIHB1YmxpY0tleSgnc2lnbmVyOScpLCBwdWJsaWNLZXkoJ3NpZ25lcjEwJyksIHB1YmxpY0tleSgnc2lnbmVyMTEnKV0pO1xuLyoqXG4gKiBBbiBFUkMyMC1saWtlIFRva2VuXG4gKi9cblxuY2xhc3MgVG9rZW4ge1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgLyoqXG4gICAqIFRoZSBwdWJsaWMga2V5IGlkZW50aWZ5aW5nIHRoaXMgbWludFxuICAgKi9cblxuICAvKipcbiAgICogUHJvZ3JhbSBJZGVudGlmaWVyIGZvciB0aGUgVG9rZW4gcHJvZ3JhbVxuICAgKi9cblxuICAvKipcbiAgICogUHJvZ3JhbSBJZGVudGlmaWVyIGZvciB0aGUgQXNzb2NpYXRlZCBUb2tlbiBwcm9ncmFtXG4gICAqL1xuXG4gIC8qKlxuICAgKiBGZWUgcGF5ZXJcbiAgICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFRva2VuIG9iamVjdCBhdHRhY2hlZCB0byB0aGUgc3BlY2lmaWMgbWludFxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byB1c2VcbiAgICogQHBhcmFtIHRva2VuIFB1YmxpYyBrZXkgb2YgdGhlIG1pbnRcbiAgICogQHBhcmFtIHByb2dyYW1JZCB0b2tlbiBwcm9ncmFtSWRcbiAgICogQHBhcmFtIHBheWVyIFBheWVyIG9mIGZlZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb24sIHB1YmxpY0tleSwgcHJvZ3JhbUlkLCBwYXllcikge1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25cIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInB1YmxpY0tleVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvZ3JhbUlkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJhc3NvY2lhdGVkUHJvZ3JhbUlkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYXllclwiLCB2b2lkIDApO1xuXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XG4gICAgICBjb25uZWN0aW9uLFxuICAgICAgcHVibGljS2V5LFxuICAgICAgcHJvZ3JhbUlkLFxuICAgICAgcGF5ZXIsXG4gICAgICAvLyBIYXJkIGNvZGUgaXMgb2s7IE92ZXJyaWRpbmcgaXMgbmVlZGVkIG9ubHkgZm9yIHRlc3RzXG4gICAgICBhc3NvY2lhdGVkUHJvZ3JhbUlkOiBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fSURcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBtaW5pbXVtIGJhbGFuY2UgZm9yIHRoZSBtaW50IHRvIGJlIHJlbnQgZXhlbXB0XG4gICAqXG4gICAqIEByZXR1cm4gTnVtYmVyIG9mIGxhbXBvcnRzIHJlcXVpcmVkXG4gICAqL1xuXG5cbiAgc3RhdGljIGFzeW5jIGdldE1pbkJhbGFuY2VSZW50Rm9yRXhlbXB0TWludChjb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIGF3YWl0IGNvbm5lY3Rpb24uZ2V0TWluaW11bUJhbGFuY2VGb3JSZW50RXhlbXB0aW9uKE1pbnRMYXlvdXQuc3Bhbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgbWluaW11bSBiYWxhbmNlIGZvciB0aGUgYWNjb3VudCB0byBiZSByZW50IGV4ZW1wdFxuICAgKlxuICAgKiBAcmV0dXJuIE51bWJlciBvZiBsYW1wb3J0cyByZXF1aXJlZFxuICAgKi9cblxuXG4gIHN0YXRpYyBhc3luYyBnZXRNaW5CYWxhbmNlUmVudEZvckV4ZW1wdEFjY291bnQoY29ubmVjdGlvbikge1xuICAgIHJldHVybiBhd2FpdCBjb25uZWN0aW9uLmdldE1pbmltdW1CYWxhbmNlRm9yUmVudEV4ZW1wdGlvbihBY2NvdW50TGF5b3V0LnNwYW4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIG1pbmltdW0gYmFsYW5jZSBmb3IgdGhlIG11bHRzaWcgdG8gYmUgcmVudCBleGVtcHRcbiAgICpcbiAgICogQHJldHVybiBOdW1iZXIgb2YgbGFtcG9ydHMgcmVxdWlyZWRcbiAgICovXG5cblxuICBzdGF0aWMgYXN5bmMgZ2V0TWluQmFsYW5jZVJlbnRGb3JFeGVtcHRNdWx0aXNpZyhjb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIGF3YWl0IGNvbm5lY3Rpb24uZ2V0TWluaW11bUJhbGFuY2VGb3JSZW50RXhlbXB0aW9uKE11bHRpc2lnTGF5b3V0LnNwYW4pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIGluaXRpYWxpemUgYSB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIGNvbm5lY3Rpb24gVGhlIGNvbm5lY3Rpb24gdG8gdXNlXG4gICAqIEBwYXJhbSBwYXllciBGZWUgcGF5ZXIgZm9yIHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSBtaW50QXV0aG9yaXR5IEFjY291bnQgb3IgbXVsdGlzaWcgdGhhdCB3aWxsIGNvbnRyb2wgbWludGluZ1xuICAgKiBAcGFyYW0gZnJlZXplQXV0aG9yaXR5IE9wdGlvbmFsIGFjY291bnQgb3IgbXVsdGlzaWcgdGhhdCBjYW4gZnJlZXplIHRva2VuIGFjY291bnRzXG4gICAqIEBwYXJhbSBkZWNpbWFscyBMb2NhdGlvbiBvZiB0aGUgZGVjaW1hbCBwbGFjZVxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIE9wdGlvbmFsIHRva2VuIHByb2dyYW1JZCwgdXNlcyB0aGUgc3lzdGVtIHByb2dyYW1JZCBieSBkZWZhdWx0XG4gICAqIEByZXR1cm4gVG9rZW4gb2JqZWN0IGZvciB0aGUgbmV3bHkgbWludGVkIHRva2VuXG4gICAqL1xuXG5cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZU1pbnQoY29ubmVjdGlvbiwgcGF5ZXIsIG1pbnRBdXRob3JpdHksIGZyZWV6ZUF1dGhvcml0eSwgZGVjaW1hbHMsIHByb2dyYW1JZCkge1xuICAgIGNvbnN0IG1pbnRBY2NvdW50ID0gS2V5cGFpci5nZW5lcmF0ZSgpO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IFRva2VuKGNvbm5lY3Rpb24sIG1pbnRBY2NvdW50LnB1YmxpY0tleSwgcHJvZ3JhbUlkLCBwYXllcik7IC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIGFjY291bnRcblxuICAgIGNvbnN0IGJhbGFuY2VOZWVkZWQgPSBhd2FpdCBUb2tlbi5nZXRNaW5CYWxhbmNlUmVudEZvckV4ZW1wdE1pbnQoY29ubmVjdGlvbik7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoU3lzdGVtUHJvZ3JhbS5jcmVhdGVBY2NvdW50KHtcbiAgICAgIGZyb21QdWJrZXk6IHBheWVyLnB1YmxpY0tleSxcbiAgICAgIG5ld0FjY291bnRQdWJrZXk6IG1pbnRBY2NvdW50LnB1YmxpY0tleSxcbiAgICAgIGxhbXBvcnRzOiBiYWxhbmNlTmVlZGVkLFxuICAgICAgc3BhY2U6IE1pbnRMYXlvdXQuc3BhbixcbiAgICAgIHByb2dyYW1JZFxuICAgIH0pKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoVG9rZW4uY3JlYXRlSW5pdE1pbnRJbnN0cnVjdGlvbihwcm9ncmFtSWQsIG1pbnRBY2NvdW50LnB1YmxpY0tleSwgZGVjaW1hbHMsIG1pbnRBdXRob3JpdHksIGZyZWV6ZUF1dGhvcml0eSkpOyAvLyBTZW5kIHRoZSB0d28gaW5zdHJ1Y3Rpb25zXG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdjcmVhdGVBY2NvdW50IGFuZCBJbml0aWFsaXplTWludCcsIGNvbm5lY3Rpb24sIHRyYW5zYWN0aW9uLCBwYXllciwgbWludEFjY291bnQpO1xuICAgIHJldHVybiB0b2tlbjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBpbml0aWFsaXplIGEgbmV3IGFjY291bnQuXG4gICAqXG4gICAqIFRoaXMgYWNjb3VudCBtYXkgdGhlbiBiZSB1c2VkIGFzIGEgYHRyYW5zZmVyKClgIG9yIGBhcHByb3ZlKClgIGRlc3RpbmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBvd25lciBVc2VyIGFjY291bnQgdGhhdCB3aWxsIG93biB0aGUgbmV3IGFjY291bnRcbiAgICogQHJldHVybiBQdWJsaWMga2V5IG9mIHRoZSBuZXcgZW1wdHkgYWNjb3VudFxuICAgKi9cblxuXG4gIGFzeW5jIGNyZWF0ZUFjY291bnQob3duZXIpIHtcbiAgICAvLyBBbGxvY2F0ZSBtZW1vcnkgZm9yIHRoZSBhY2NvdW50XG4gICAgY29uc3QgYmFsYW5jZU5lZWRlZCA9IGF3YWl0IFRva2VuLmdldE1pbkJhbGFuY2VSZW50Rm9yRXhlbXB0QWNjb3VudCh0aGlzLmNvbm5lY3Rpb24pO1xuICAgIGNvbnN0IG5ld0FjY291bnQgPSBLZXlwYWlyLmdlbmVyYXRlKCk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoU3lzdGVtUHJvZ3JhbS5jcmVhdGVBY2NvdW50KHtcbiAgICAgIGZyb21QdWJrZXk6IHRoaXMucGF5ZXIucHVibGljS2V5LFxuICAgICAgbmV3QWNjb3VudFB1YmtleTogbmV3QWNjb3VudC5wdWJsaWNLZXksXG4gICAgICBsYW1wb3J0czogYmFsYW5jZU5lZWRlZCxcbiAgICAgIHNwYWNlOiBBY2NvdW50TGF5b3V0LnNwYW4sXG4gICAgICBwcm9ncmFtSWQ6IHRoaXMucHJvZ3JhbUlkXG4gICAgfSkpO1xuICAgIGNvbnN0IG1pbnRQdWJsaWNLZXkgPSB0aGlzLnB1YmxpY0tleTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoVG9rZW4uY3JlYXRlSW5pdEFjY291bnRJbnN0cnVjdGlvbih0aGlzLnByb2dyYW1JZCwgbWludFB1YmxpY0tleSwgbmV3QWNjb3VudC5wdWJsaWNLZXksIG93bmVyKSk7IC8vIFNlbmQgdGhlIHR3byBpbnN0cnVjdGlvbnNcblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ2NyZWF0ZUFjY291bnQgYW5kIEluaXRpYWxpemVBY2NvdW50JywgdGhpcy5jb25uZWN0aW9uLCB0cmFuc2FjdGlvbiwgdGhpcy5wYXllciwgbmV3QWNjb3VudCk7XG4gICAgcmV0dXJuIG5ld0FjY291bnQucHVibGljS2V5O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIGFzc29jaWF0ZWQgYWNjb3VudC5cbiAgICpcbiAgICogVGhpcyBhY2NvdW50IG1heSB0aGVuIGJlIHVzZWQgYXMgYSBgdHJhbnNmZXIoKWAgb3IgYGFwcHJvdmUoKWAgZGVzdGluYXRpb25cbiAgICpcbiAgICogQHBhcmFtIG93bmVyIFVzZXIgYWNjb3VudCB0aGF0IHdpbGwgb3duIHRoZSBuZXcgYWNjb3VudFxuICAgKiBAcmV0dXJuIFB1YmxpYyBrZXkgb2YgdGhlIG5ldyBhc3NvY2lhdGVkIGFjY291bnRcbiAgICovXG5cblxuICBhc3luYyBjcmVhdGVBc3NvY2lhdGVkVG9rZW5BY2NvdW50KG93bmVyKSB7XG4gICAgY29uc3QgYXNzb2NpYXRlZEFkZHJlc3MgPSBhd2FpdCBUb2tlbi5nZXRBc3NvY2lhdGVkVG9rZW5BZGRyZXNzKHRoaXMuYXNzb2NpYXRlZFByb2dyYW1JZCwgdGhpcy5wcm9ncmFtSWQsIHRoaXMucHVibGljS2V5LCBvd25lcik7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQXNzb2NpYXRlZFRva2VuQWNjb3VudEludGVybmFsKG93bmVyLCBhc3NvY2lhdGVkQWRkcmVzcyk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVBc3NvY2lhdGVkVG9rZW5BY2NvdW50SW50ZXJuYWwob3duZXIsIGFzc29jaWF0ZWRBZGRyZXNzKSB7XG4gICAgYXdhaXQgc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbignQ3JlYXRlQXNzb2NpYXRlZFRva2VuQWNjb3VudCcsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZUFzc29jaWF0ZWRUb2tlbkFjY291bnRJbnN0cnVjdGlvbih0aGlzLmFzc29jaWF0ZWRQcm9ncmFtSWQsIHRoaXMucHJvZ3JhbUlkLCB0aGlzLnB1YmxpY0tleSwgYXNzb2NpYXRlZEFkZHJlc3MsIG93bmVyLCB0aGlzLnBheWVyLnB1YmxpY0tleSkpLCB0aGlzLnBheWVyKTtcbiAgICByZXR1cm4gYXNzb2NpYXRlZEFkZHJlc3M7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBhc3NvY2lhdGVkIGFjY291bnQgb3IgY3JlYXRlIG9uZSBpZiBub3QgZm91bmQuXG4gICAqXG4gICAqIFRoaXMgYWNjb3VudCBtYXkgdGhlbiBiZSB1c2VkIGFzIGEgYHRyYW5zZmVyKClgIG9yIGBhcHByb3ZlKClgIGRlc3RpbmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBvd25lciBVc2VyIGFjY291bnQgdGhhdCB3aWxsIG93biB0aGUgbmV3IGFjY291bnRcbiAgICogQHJldHVybiBUaGUgbmV3IGFzc29jaWF0ZWQgYWNjb3VudFxuICAgKi9cblxuXG4gIGFzeW5jIGdldE9yQ3JlYXRlQXNzb2NpYXRlZEFjY291bnRJbmZvKG93bmVyKSB7XG4gICAgY29uc3QgYXNzb2NpYXRlZEFkZHJlc3MgPSBhd2FpdCBUb2tlbi5nZXRBc3NvY2lhdGVkVG9rZW5BZGRyZXNzKHRoaXMuYXNzb2NpYXRlZFByb2dyYW1JZCwgdGhpcy5wcm9ncmFtSWQsIHRoaXMucHVibGljS2V5LCBvd25lcik7IC8vIFRoaXMgaXMgdGhlIG9wdGltdW0gbG9naWMsIGNvbnNpZGVyaW5nIFRYIGZlZSwgY2xpZW50LXNpZGUgY29tcHV0YXRpb24sXG4gICAgLy8gUlBDIHJvdW5kdHJpcHMgYW5kIGd1YXJhbnRlZWQgaWRlbXBvdGVudC5cbiAgICAvLyBTYWRseSB3ZSBjYW4ndCBkbyB0aGlzIGF0b21pY2FsbHk7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QWNjb3VudEluZm8oYXNzb2NpYXRlZEFkZHJlc3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gSU5WQUxJRF9BQ0NPVU5UX09XTkVSIGNhbiBiZSBwb3NzaWJsZSBpZiB0aGUgYXNzb2NpYXRlZEFkZHJlc3MgaGFzXG4gICAgICAvLyBhbHJlYWR5IGJlZW4gcmVjZWl2ZWQgc29tZSBsYW1wb3J0cyAoPSBiZWNhbWUgc3lzdGVtIGFjY291bnRzKS5cbiAgICAgIC8vIEFzc3VtaW5nIHByb2dyYW0gZGVyaXZlZCBhZGRyZXNzaW5nIGlzIHNhZmUsIHRoaXMgaXMgdGhlIG9ubHkgY2FzZVxuICAgICAgLy8gZm9yIHRoZSBJTlZBTElEX0FDQ09VTlRfT1dORVIgaW4gdGhpcyBjb2RlLXBhdGhcbiAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gRkFJTEVEX1RPX0ZJTkRfQUNDT1VOVCB8fCBlcnIubWVzc2FnZSA9PT0gSU5WQUxJRF9BQ0NPVU5UX09XTkVSKSB7XG4gICAgICAgIC8vIGFzIHRoaXMgaXNuJ3QgYXRvbWljLCBpdCdzIHBvc3NpYmxlIG90aGVycyBjYW4gY3JlYXRlIGFzc29jaWF0ZWRcbiAgICAgICAgLy8gYWNjb3VudHMgbWVhbndoaWxlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVBc3NvY2lhdGVkVG9rZW5BY2NvdW50SW50ZXJuYWwob3duZXIsIGFzc29jaWF0ZWRBZGRyZXNzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7Ly8gaWdub3JlIGFsbCBlcnJvcnM7IGZvciBub3cgdGhlcmUgaXMgbm8gQVBJIGNvbXBhdGlibGUgd2F5IHRvXG4gICAgICAgICAgLy8gc2VsZWN0aXZlbHkgaWdub3JlIHRoZSBleHBlY3RlZCBpbnN0cnVjdGlvbiBlcnJvciBpZiB0aGVcbiAgICAgICAgICAvLyBhc3NvY2lhdGVkIGFjY291bnQgaXMgZXhpc3RpbmcgYWxyZWFkeS5cbiAgICAgICAgfSAvLyBOb3cgdGhpcyBzaG91bGQgYWx3YXlzIHN1Y2NlZWRcblxuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEFjY291bnRJbmZvKGFzc29jaWF0ZWRBZGRyZXNzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgaW5pdGlhbGl6ZSBhIG5ldyBhY2NvdW50IG9uIHRoZSBzcGVjaWFsIG5hdGl2ZSB0b2tlbiBtaW50LlxuICAgKlxuICAgKiBJbiBvcmRlciB0byBiZSB3cmFwcGVkLCB0aGUgYWNjb3VudCBtdXN0IGhhdmUgYSBiYWxhbmNlIG9mIG5hdGl2ZSB0b2tlbnNcbiAgICogd2hlbiBpdCBpcyBpbml0aWFsaXplZCB3aXRoIHRoZSB0b2tlbiBwcm9ncmFtLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNlbmRzIGxhbXBvcnRzIHRvIHRoZSBuZXcgYWNjb3VudCBiZWZvcmUgaW5pdGlhbGl6aW5nIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbiBBIHNvbGFuYSB3ZWIzIGNvbm5lY3Rpb25cbiAgICogQHBhcmFtIHByb2dyYW1JZCBUaGUgdG9rZW4gcHJvZ3JhbSBJRFxuICAgKiBAcGFyYW0gb3duZXIgVGhlIG93bmVyIG9mIHRoZSBuZXcgdG9rZW4gYWNjb3VudFxuICAgKiBAcGFyYW0gcGF5ZXIgVGhlIHNvdXJjZSBvZiB0aGUgbGFtcG9ydHMgdG8gaW5pdGlhbGl6ZSwgYW5kIHBheWVyIG9mIHRoZSBpbml0aWFsaXphdGlvbiBmZWVzLlxuICAgKiBAcGFyYW0gYW1vdW50IFRoZSBhbW91bnQgb2YgbGFtcG9ydHMgdG8gd3JhcFxuICAgKiBAcmV0dXJuIHtQcm9taXNlPFB1YmxpY0tleT59IFRoZSBuZXcgdG9rZW4gYWNjb3VudFxuICAgKi9cblxuXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVXcmFwcGVkTmF0aXZlQWNjb3VudChjb25uZWN0aW9uLCBwcm9ncmFtSWQsIG93bmVyLCBwYXllciwgYW1vdW50KSB7XG4gICAgLy8gQWxsb2NhdGUgbWVtb3J5IGZvciB0aGUgYWNjb3VudFxuICAgIGNvbnN0IGJhbGFuY2VOZWVkZWQgPSBhd2FpdCBUb2tlbi5nZXRNaW5CYWxhbmNlUmVudEZvckV4ZW1wdEFjY291bnQoY29ubmVjdGlvbik7IC8vIENyZWF0ZSBhIG5ldyBhY2NvdW50XG5cbiAgICBjb25zdCBuZXdBY2NvdW50ID0gS2V5cGFpci5nZW5lcmF0ZSgpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uKCk7XG4gICAgdHJhbnNhY3Rpb24uYWRkKFN5c3RlbVByb2dyYW0uY3JlYXRlQWNjb3VudCh7XG4gICAgICBmcm9tUHVia2V5OiBwYXllci5wdWJsaWNLZXksXG4gICAgICBuZXdBY2NvdW50UHVia2V5OiBuZXdBY2NvdW50LnB1YmxpY0tleSxcbiAgICAgIGxhbXBvcnRzOiBiYWxhbmNlTmVlZGVkLFxuICAgICAgc3BhY2U6IEFjY291bnRMYXlvdXQuc3BhbixcbiAgICAgIHByb2dyYW1JZFxuICAgIH0pKTsgLy8gU2VuZCBsYW1wb3J0cyB0byBpdCAodGhlc2Ugd2lsbCBiZSB3cmFwcGVkIGludG8gbmF0aXZlIHRva2VucyBieSB0aGUgdG9rZW4gcHJvZ3JhbSlcblxuICAgIHRyYW5zYWN0aW9uLmFkZChTeXN0ZW1Qcm9ncmFtLnRyYW5zZmVyKHtcbiAgICAgIGZyb21QdWJrZXk6IHBheWVyLnB1YmxpY0tleSxcbiAgICAgIHRvUHVia2V5OiBuZXdBY2NvdW50LnB1YmxpY0tleSxcbiAgICAgIGxhbXBvcnRzOiBhbW91bnRcbiAgICB9KSk7IC8vIEFzc2lnbiB0aGUgbmV3IGFjY291bnQgdG8gdGhlIG5hdGl2ZSB0b2tlbiBtaW50LlxuICAgIC8vIHRoZSBhY2NvdW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIGJhbGFuY2UgZXF1YWwgdG8gdGhlIG5hdGl2ZSB0b2tlbiBiYWxhbmNlLlxuICAgIC8vIChpLmUuIGFtb3VudClcblxuICAgIHRyYW5zYWN0aW9uLmFkZChUb2tlbi5jcmVhdGVJbml0QWNjb3VudEluc3RydWN0aW9uKHByb2dyYW1JZCwgTkFUSVZFX01JTlQsIG5ld0FjY291bnQucHVibGljS2V5LCBvd25lcikpOyAvLyBTZW5kIHRoZSB0aHJlZSBpbnN0cnVjdGlvbnNcblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ2NyZWF0ZUFjY291bnQsIHRyYW5zZmVyLCBhbmQgaW5pdGlhbGl6ZUFjY291bnQnLCBjb25uZWN0aW9uLCB0cmFuc2FjdGlvbiwgcGF5ZXIsIG5ld0FjY291bnQpO1xuICAgIHJldHVybiBuZXdBY2NvdW50LnB1YmxpY0tleTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBpbml0aWFsaXplIGEgbmV3IG11bHRpc2lnLlxuICAgKlxuICAgKiBUaGlzIGFjY291bnQgbWF5IHRoZW4gYmUgdXNlZCBmb3IgbXVsdGlzaWduYXR1cmUgdmVyaWZpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBtIE51bWJlciBvZiByZXF1aXJlZCBzaWduYXR1cmVzXG4gICAqIEBwYXJhbSBzaWduZXJzIEZ1bGwgc2V0IG9mIHNpZ25lcnNcbiAgICogQHJldHVybiBQdWJsaWMga2V5IG9mIHRoZSBuZXcgbXVsdGlzaWcgYWNjb3VudFxuICAgKi9cblxuXG4gIGFzeW5jIGNyZWF0ZU11bHRpc2lnKG0sIHNpZ25lcnMpIHtcbiAgICBjb25zdCBtdWx0aXNpZ0FjY291bnQgPSBLZXlwYWlyLmdlbmVyYXRlKCk7IC8vIEFsbG9jYXRlIG1lbW9yeSBmb3IgdGhlIGFjY291bnRcblxuICAgIGNvbnN0IGJhbGFuY2VOZWVkZWQgPSBhd2FpdCBUb2tlbi5nZXRNaW5CYWxhbmNlUmVudEZvckV4ZW1wdE11bHRpc2lnKHRoaXMuY29ubmVjdGlvbik7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoU3lzdGVtUHJvZ3JhbS5jcmVhdGVBY2NvdW50KHtcbiAgICAgIGZyb21QdWJrZXk6IHRoaXMucGF5ZXIucHVibGljS2V5LFxuICAgICAgbmV3QWNjb3VudFB1YmtleTogbXVsdGlzaWdBY2NvdW50LnB1YmxpY0tleSxcbiAgICAgIGxhbXBvcnRzOiBiYWxhbmNlTmVlZGVkLFxuICAgICAgc3BhY2U6IE11bHRpc2lnTGF5b3V0LnNwYW4sXG4gICAgICBwcm9ncmFtSWQ6IHRoaXMucHJvZ3JhbUlkXG4gICAgfSkpOyAvLyBjcmVhdGUgdGhlIG5ldyBhY2NvdW50XG5cbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IG11bHRpc2lnQWNjb3VudC5wdWJsaWNLZXksXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBTWVNWQVJfUkVOVF9QVUJLRVksXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH1dO1xuICAgIHNpZ25lcnMuZm9yRWFjaChzaWduZXIgPT4ga2V5cy5wdXNoKHtcbiAgICAgIHB1YmtleTogc2lnbmVyLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9KSk7XG4gICAgY29uc3QgZGF0YUxheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51OCgnaW5zdHJ1Y3Rpb24nKSwgQnVmZmVyTGF5b3V0LnU4KCdtJyldKTtcbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFMYXlvdXQuc3Bhbik7XG4gICAgZGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgaW5zdHJ1Y3Rpb246IDIsXG4gICAgICAvLyBJbml0aWFsaXplTXVsdGlzaWcgaW5zdHJ1Y3Rpb25cbiAgICAgIG1cbiAgICB9LCBkYXRhKTtcbiAgICB0cmFuc2FjdGlvbi5hZGQoe1xuICAgICAga2V5cyxcbiAgICAgIHByb2dyYW1JZDogdGhpcy5wcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7IC8vIFNlbmQgdGhlIHR3byBpbnN0cnVjdGlvbnNcblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ2NyZWF0ZUFjY291bnQgYW5kIEluaXRpYWxpemVNdWx0aXNpZycsIHRoaXMuY29ubmVjdGlvbiwgdHJhbnNhY3Rpb24sIHRoaXMucGF5ZXIsIG11bHRpc2lnQWNjb3VudCk7XG4gICAgcmV0dXJuIG11bHRpc2lnQWNjb3VudC5wdWJsaWNLZXk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlIG1pbnQgaW5mb3JtYXRpb25cbiAgICovXG5cblxuICBhc3luYyBnZXRNaW50SW5mbygpIHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldEFjY291bnRJbmZvKHRoaXMucHVibGljS2V5KTtcblxuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmaW5kIG1pbnQgYWNjb3VudCcpO1xuICAgIH1cblxuICAgIGlmICghaW5mby5vd25lci5lcXVhbHModGhpcy5wcm9ncmFtSWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWludCBvd25lcjogJHtKU09OLnN0cmluZ2lmeShpbmZvLm93bmVyKX1gKTtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kYXRhLmxlbmd0aCAhPSBNaW50TGF5b3V0LnNwYW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtaW50IHNpemVgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20oaW5mby5kYXRhKTtcbiAgICBjb25zdCBtaW50SW5mbyA9IE1pbnRMYXlvdXQuZGVjb2RlKGRhdGEpO1xuXG4gICAgaWYgKG1pbnRJbmZvLm1pbnRBdXRob3JpdHlPcHRpb24gPT09IDApIHtcbiAgICAgIG1pbnRJbmZvLm1pbnRBdXRob3JpdHkgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW50SW5mby5taW50QXV0aG9yaXR5ID0gbmV3IFB1YmxpY0tleShtaW50SW5mby5taW50QXV0aG9yaXR5KTtcbiAgICB9XG5cbiAgICBtaW50SW5mby5zdXBwbHkgPSB1NjQuZnJvbUJ1ZmZlcihtaW50SW5mby5zdXBwbHkpO1xuICAgIG1pbnRJbmZvLmlzSW5pdGlhbGl6ZWQgPSBtaW50SW5mby5pc0luaXRpYWxpemVkICE9IDA7XG5cbiAgICBpZiAobWludEluZm8uZnJlZXplQXV0aG9yaXR5T3B0aW9uID09PSAwKSB7XG4gICAgICBtaW50SW5mby5mcmVlemVBdXRob3JpdHkgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaW50SW5mby5mcmVlemVBdXRob3JpdHkgPSBuZXcgUHVibGljS2V5KG1pbnRJbmZvLmZyZWV6ZUF1dGhvcml0eSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1pbnRJbmZvO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhY2NvdW50IGluZm9ybWF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBhY2NvdW50IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICovXG5cblxuICBhc3luYyBnZXRBY2NvdW50SW5mbyhhY2NvdW50LCBjb21taXRtZW50KSB7XG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuY29ubmVjdGlvbi5nZXRBY2NvdW50SW5mbyhhY2NvdW50LCBjb21taXRtZW50KTtcblxuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRkFJTEVEX1RPX0ZJTkRfQUNDT1VOVCk7XG4gICAgfVxuXG4gICAgaWYgKCFpbmZvLm93bmVyLmVxdWFscyh0aGlzLnByb2dyYW1JZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX0FDQ09VTlRfT1dORVIpO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRhdGEubGVuZ3RoICE9IEFjY291bnRMYXlvdXQuc3Bhbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFjY291bnQgc2l6ZWApO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuZnJvbShpbmZvLmRhdGEpO1xuICAgIGNvbnN0IGFjY291bnRJbmZvID0gQWNjb3VudExheW91dC5kZWNvZGUoZGF0YSk7XG4gICAgYWNjb3VudEluZm8uYWRkcmVzcyA9IGFjY291bnQ7XG4gICAgYWNjb3VudEluZm8ubWludCA9IG5ldyBQdWJsaWNLZXkoYWNjb3VudEluZm8ubWludCk7XG4gICAgYWNjb3VudEluZm8ub3duZXIgPSBuZXcgUHVibGljS2V5KGFjY291bnRJbmZvLm93bmVyKTtcbiAgICBhY2NvdW50SW5mby5hbW91bnQgPSB1NjQuZnJvbUJ1ZmZlcihhY2NvdW50SW5mby5hbW91bnQpO1xuXG4gICAgaWYgKGFjY291bnRJbmZvLmRlbGVnYXRlT3B0aW9uID09PSAwKSB7XG4gICAgICBhY2NvdW50SW5mby5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICBhY2NvdW50SW5mby5kZWxlZ2F0ZWRBbW91bnQgPSBuZXcgdTY0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY291bnRJbmZvLmRlbGVnYXRlID0gbmV3IFB1YmxpY0tleShhY2NvdW50SW5mby5kZWxlZ2F0ZSk7XG4gICAgICBhY2NvdW50SW5mby5kZWxlZ2F0ZWRBbW91bnQgPSB1NjQuZnJvbUJ1ZmZlcihhY2NvdW50SW5mby5kZWxlZ2F0ZWRBbW91bnQpO1xuICAgIH1cblxuICAgIGFjY291bnRJbmZvLmlzSW5pdGlhbGl6ZWQgPSBhY2NvdW50SW5mby5zdGF0ZSAhPT0gMDtcbiAgICBhY2NvdW50SW5mby5pc0Zyb3plbiA9IGFjY291bnRJbmZvLnN0YXRlID09PSAyO1xuXG4gICAgaWYgKGFjY291bnRJbmZvLmlzTmF0aXZlT3B0aW9uID09PSAxKSB7XG4gICAgICBhY2NvdW50SW5mby5yZW50RXhlbXB0UmVzZXJ2ZSA9IHU2NC5mcm9tQnVmZmVyKGFjY291bnRJbmZvLmlzTmF0aXZlKTtcbiAgICAgIGFjY291bnRJbmZvLmlzTmF0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjb3VudEluZm8ucmVudEV4ZW1wdFJlc2VydmUgPSBudWxsO1xuICAgICAgYWNjb3VudEluZm8uaXNOYXRpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYWNjb3VudEluZm8uY2xvc2VBdXRob3JpdHlPcHRpb24gPT09IDApIHtcbiAgICAgIGFjY291bnRJbmZvLmNsb3NlQXV0aG9yaXR5ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYWNjb3VudEluZm8uY2xvc2VBdXRob3JpdHkgPSBuZXcgUHVibGljS2V5KGFjY291bnRJbmZvLmNsb3NlQXV0aG9yaXR5KTtcbiAgICB9XG5cbiAgICBpZiAoIWFjY291bnRJbmZvLm1pbnQuZXF1YWxzKHRoaXMucHVibGljS2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFjY291bnQgbWludDogJHtKU09OLnN0cmluZ2lmeShhY2NvdW50SW5mby5taW50KX0gIT09ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5wdWJsaWNLZXkpfWApO1xuICAgIH1cblxuICAgIHJldHVybiBhY2NvdW50SW5mbztcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmUgTXVsdGlzaWcgaW5mb3JtYXRpb25cbiAgICpcbiAgICogQHBhcmFtIG11bHRpc2lnIFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICovXG5cblxuICBhc3luYyBnZXRNdWx0aXNpZ0luZm8obXVsdGlzaWcpIHtcbiAgICBjb25zdCBpbmZvID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uLmdldEFjY291bnRJbmZvKG11bHRpc2lnKTtcblxuICAgIGlmIChpbmZvID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmaW5kIG11bHRpc2lnJyk7XG4gICAgfVxuXG4gICAgaWYgKCFpbmZvLm93bmVyLmVxdWFscyh0aGlzLnByb2dyYW1JZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtdWx0aXNpZyBvd25lcmApO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRhdGEubGVuZ3RoICE9IE11bHRpc2lnTGF5b3V0LnNwYW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtdWx0aXNpZyBzaXplYCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5mcm9tKGluZm8uZGF0YSk7XG4gICAgY29uc3QgbXVsdGlzaWdJbmZvID0gTXVsdGlzaWdMYXlvdXQuZGVjb2RlKGRhdGEpO1xuICAgIG11bHRpc2lnSW5mby5zaWduZXIxID0gbmV3IFB1YmxpY0tleShtdWx0aXNpZ0luZm8uc2lnbmVyMSk7XG4gICAgbXVsdGlzaWdJbmZvLnNpZ25lcjIgPSBuZXcgUHVibGljS2V5KG11bHRpc2lnSW5mby5zaWduZXIyKTtcbiAgICBtdWx0aXNpZ0luZm8uc2lnbmVyMyA9IG5ldyBQdWJsaWNLZXkobXVsdGlzaWdJbmZvLnNpZ25lcjMpO1xuICAgIG11bHRpc2lnSW5mby5zaWduZXI0ID0gbmV3IFB1YmxpY0tleShtdWx0aXNpZ0luZm8uc2lnbmVyNCk7XG4gICAgbXVsdGlzaWdJbmZvLnNpZ25lcjUgPSBuZXcgUHVibGljS2V5KG11bHRpc2lnSW5mby5zaWduZXI1KTtcbiAgICBtdWx0aXNpZ0luZm8uc2lnbmVyNiA9IG5ldyBQdWJsaWNLZXkobXVsdGlzaWdJbmZvLnNpZ25lcjYpO1xuICAgIG11bHRpc2lnSW5mby5zaWduZXI3ID0gbmV3IFB1YmxpY0tleShtdWx0aXNpZ0luZm8uc2lnbmVyNyk7XG4gICAgbXVsdGlzaWdJbmZvLnNpZ25lcjggPSBuZXcgUHVibGljS2V5KG11bHRpc2lnSW5mby5zaWduZXI4KTtcbiAgICBtdWx0aXNpZ0luZm8uc2lnbmVyOSA9IG5ldyBQdWJsaWNLZXkobXVsdGlzaWdJbmZvLnNpZ25lcjkpO1xuICAgIG11bHRpc2lnSW5mby5zaWduZXIxMCA9IG5ldyBQdWJsaWNLZXkobXVsdGlzaWdJbmZvLnNpZ25lcjEwKTtcbiAgICBtdWx0aXNpZ0luZm8uc2lnbmVyMTEgPSBuZXcgUHVibGljS2V5KG11bHRpc2lnSW5mby5zaWduZXIxMSk7XG4gICAgcmV0dXJuIG11bHRpc2lnSW5mbztcbiAgfVxuICAvKipcbiAgICogVHJhbnNmZXIgdG9rZW5zIHRvIGFub3RoZXIgYWNjb3VudFxuICAgKlxuICAgKiBAcGFyYW0gc291cmNlIFNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgc291cmNlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXJcbiAgICovXG5cblxuICBhc3luYyB0cmFuc2Zlcihzb3VyY2UsIGRlc3RpbmF0aW9uLCBvd25lciwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBsZXQgb3duZXJQdWJsaWNLZXk7XG4gICAgbGV0IHNpZ25lcnM7XG5cbiAgICBpZiAoaXNBY2NvdW50KG93bmVyKSkge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lci5wdWJsaWNLZXk7XG4gICAgICBzaWduZXJzID0gW293bmVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lcjtcbiAgICAgIHNpZ25lcnMgPSBtdWx0aVNpZ25lcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ1RyYW5zZmVyJywgdGhpcy5jb25uZWN0aW9uLCBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoVG9rZW4uY3JlYXRlVHJhbnNmZXJJbnN0cnVjdGlvbih0aGlzLnByb2dyYW1JZCwgc291cmNlLCBkZXN0aW5hdGlvbiwgb3duZXJQdWJsaWNLZXksIG11bHRpU2lnbmVycywgYW1vdW50KSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBHcmFudCBhIHRoaXJkLXBhcnR5IHBlcm1pc3Npb24gdG8gdHJhbnNmZXIgdXAgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgdG9rZW5zIGZyb20gYW4gYWNjb3VudFxuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBkZWxlZ2F0ZSBBY2NvdW50IGF1dGhvcml6ZWQgdG8gcGVyZm9ybSBhIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBzb3VyY2UgYWNjb3VudFxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhlIGRlbGVnYXRlIG1heSB0cmFuc2ZlclxuICAgKi9cblxuXG4gIGFzeW5jIGFwcHJvdmUoYWNjb3VudCwgZGVsZWdhdGUsIG93bmVyLCBtdWx0aVNpZ25lcnMsIGFtb3VudCkge1xuICAgIGxldCBvd25lclB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmVycztcblxuICAgIGlmIChpc0FjY291bnQob3duZXIpKSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyLnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbb3duZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyO1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdBcHByb3ZlJywgdGhpcy5jb25uZWN0aW9uLCBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoVG9rZW4uY3JlYXRlQXBwcm92ZUluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCBhY2NvdW50LCBkZWxlZ2F0ZSwgb3duZXJQdWJsaWNLZXksIG11bHRpU2lnbmVycywgYW1vdW50KSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYXBwcm92YWwgZm9yIHRoZSB0cmFuc2ZlciBvZiBhbnkgcmVtYWluaW5nIHRva2Vuc1xuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgc291cmNlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKi9cblxuXG4gIGFzeW5jIHJldm9rZShhY2NvdW50LCBvd25lciwgbXVsdGlTaWduZXJzKSB7XG4gICAgbGV0IG93bmVyUHVibGljS2V5O1xuICAgIGxldCBzaWduZXJzO1xuXG4gICAgaWYgKGlzQWNjb3VudChvd25lcikpIHtcbiAgICAgIG93bmVyUHVibGljS2V5ID0gb3duZXIucHVibGljS2V5O1xuICAgICAgc2lnbmVycyA9IFtvd25lcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bmVyUHVibGljS2V5ID0gb3duZXI7XG4gICAgICBzaWduZXJzID0gbXVsdGlTaWduZXJzO1xuICAgIH1cblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ1Jldm9rZScsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZVJldm9rZUluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCBhY2NvdW50LCBvd25lclB1YmxpY0tleSwgbXVsdGlTaWduZXJzKSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBBc3NpZ24gYSBuZXcgYXV0aG9yaXR5IHRvIHRoZSBhY2NvdW50XG4gICAqXG4gICAqIEBwYXJhbSBhY2NvdW50IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIG5ld0F1dGhvcml0eSBOZXcgYXV0aG9yaXR5IG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBhdXRob3JpdHlUeXBlIFR5cGUgb2YgYXV0aG9yaXR5IHRvIHNldFxuICAgKiBAcGFyYW0gY3VycmVudEF1dGhvcml0eSBDdXJyZW50IGF1dGhvcml0eSBvZiB0aGUgYWNjb3VudFxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGN1cnJlbnRBdXRob3JpdHlgIGlzIGEgbXVsdGlTaWdcbiAgICovXG5cblxuICBhc3luYyBzZXRBdXRob3JpdHkoYWNjb3VudCwgbmV3QXV0aG9yaXR5LCBhdXRob3JpdHlUeXBlLCBjdXJyZW50QXV0aG9yaXR5LCBtdWx0aVNpZ25lcnMpIHtcbiAgICBsZXQgY3VycmVudEF1dGhvcml0eVB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmVycztcblxuICAgIGlmIChpc0FjY291bnQoY3VycmVudEF1dGhvcml0eSkpIHtcbiAgICAgIGN1cnJlbnRBdXRob3JpdHlQdWJsaWNLZXkgPSBjdXJyZW50QXV0aG9yaXR5LnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbY3VycmVudEF1dGhvcml0eV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRBdXRob3JpdHlQdWJsaWNLZXkgPSBjdXJyZW50QXV0aG9yaXR5O1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdTZXRBdXRob3JpdHknLCB0aGlzLmNvbm5lY3Rpb24sIG5ldyBUcmFuc2FjdGlvbigpLmFkZChUb2tlbi5jcmVhdGVTZXRBdXRob3JpdHlJbnN0cnVjdGlvbih0aGlzLnByb2dyYW1JZCwgYWNjb3VudCwgbmV3QXV0aG9yaXR5LCBhdXRob3JpdHlUeXBlLCBjdXJyZW50QXV0aG9yaXR5UHVibGljS2V5LCBtdWx0aVNpZ25lcnMpKSwgdGhpcy5wYXllciwgLi4uc2lnbmVycyk7XG4gIH1cbiAgLyoqXG4gICAqIE1pbnQgbmV3IHRva2Vuc1xuICAgKlxuICAgKiBAcGFyYW0gZGVzdCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50IHRvIG1pbnQgdG9cbiAgICogQHBhcmFtIGF1dGhvcml0eSBNaW50aW5nIGF1dGhvcml0eVxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGF1dGhvcml0eWAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IEFtb3VudCB0byBtaW50XG4gICAqL1xuXG5cbiAgYXN5bmMgbWludFRvKGRlc3QsIGF1dGhvcml0eSwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBsZXQgb3duZXJQdWJsaWNLZXk7XG4gICAgbGV0IHNpZ25lcnM7XG5cbiAgICBpZiAoaXNBY2NvdW50KGF1dGhvcml0eSkpIHtcbiAgICAgIG93bmVyUHVibGljS2V5ID0gYXV0aG9yaXR5LnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbYXV0aG9yaXR5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBhdXRob3JpdHk7XG4gICAgICBzaWduZXJzID0gbXVsdGlTaWduZXJzO1xuICAgIH1cblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ01pbnRUbycsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZU1pbnRUb0luc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCB0aGlzLnB1YmxpY0tleSwgZGVzdCwgb3duZXJQdWJsaWNLZXksIG11bHRpU2lnbmVycywgYW1vdW50KSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBCdXJuIHRva2Vuc1xuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudCBBY2NvdW50IHRvIGJ1cm4gdG9rZW5zIGZyb21cbiAgICogQHBhcmFtIG93bmVyIEFjY291bnQgb3duZXJcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IEFtb3VudCB0byBidXJuXG4gICAqL1xuXG5cbiAgYXN5bmMgYnVybihhY2NvdW50LCBvd25lciwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBsZXQgb3duZXJQdWJsaWNLZXk7XG4gICAgbGV0IHNpZ25lcnM7XG5cbiAgICBpZiAoaXNBY2NvdW50KG93bmVyKSkge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lci5wdWJsaWNLZXk7XG4gICAgICBzaWduZXJzID0gW293bmVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lcjtcbiAgICAgIHNpZ25lcnMgPSBtdWx0aVNpZ25lcnM7XG4gICAgfVxuXG4gICAgYXdhaXQgc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbignQnVybicsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZUJ1cm5JbnN0cnVjdGlvbih0aGlzLnByb2dyYW1JZCwgdGhpcy5wdWJsaWNLZXksIGFjY291bnQsIG93bmVyUHVibGljS2V5LCBtdWx0aVNpZ25lcnMsIGFtb3VudCkpLCB0aGlzLnBheWVyLCAuLi5zaWduZXJzKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgYWNjb3VudFxuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudCBBY2NvdW50IHRvIGNsb3NlXG4gICAqIEBwYXJhbSBkZXN0IEFjY291bnQgdG8gcmVjZWl2ZSB0aGUgcmVtYWluaW5nIGJhbGFuY2Ugb2YgdGhlIGNsb3NlZCBhY2NvdW50XG4gICAqIEBwYXJhbSBhdXRob3JpdHkgQXV0aG9yaXR5IHdoaWNoIGlzIGFsbG93ZWQgdG8gY2xvc2UgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBhdXRob3JpdHlgIGlzIGEgbXVsdGlTaWdcbiAgICovXG5cblxuICBhc3luYyBjbG9zZUFjY291bnQoYWNjb3VudCwgZGVzdCwgYXV0aG9yaXR5LCBtdWx0aVNpZ25lcnMpIHtcbiAgICBsZXQgYXV0aG9yaXR5UHVibGljS2V5O1xuICAgIGxldCBzaWduZXJzO1xuXG4gICAgaWYgKGlzQWNjb3VudChhdXRob3JpdHkpKSB7XG4gICAgICBhdXRob3JpdHlQdWJsaWNLZXkgPSBhdXRob3JpdHkucHVibGljS2V5O1xuICAgICAgc2lnbmVycyA9IFthdXRob3JpdHldO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdXRob3JpdHlQdWJsaWNLZXkgPSBhdXRob3JpdHk7XG4gICAgICBzaWduZXJzID0gbXVsdGlTaWduZXJzO1xuICAgIH1cblxuICAgIGF3YWl0IHNlbmRBbmRDb25maXJtVHJhbnNhY3Rpb24oJ0Nsb3NlQWNjb3VudCcsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZUNsb3NlQWNjb3VudEluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCBhY2NvdW50LCBkZXN0LCBhdXRob3JpdHlQdWJsaWNLZXksIG11bHRpU2lnbmVycykpLCB0aGlzLnBheWVyLCAuLi5zaWduZXJzKTtcbiAgfVxuICAvKipcbiAgICogRnJlZXplIGFjY291bnRcbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byBmcmVlemVcbiAgICogQHBhcmFtIGF1dGhvcml0eSBUaGUgbWludCBmcmVlemUgYXV0aG9yaXR5XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgYXV0aG9yaXR5YCBpcyBhIG11bHRpU2lnXG4gICAqL1xuXG5cbiAgYXN5bmMgZnJlZXplQWNjb3VudChhY2NvdW50LCBhdXRob3JpdHksIG11bHRpU2lnbmVycykge1xuICAgIGxldCBhdXRob3JpdHlQdWJsaWNLZXk7XG4gICAgbGV0IHNpZ25lcnM7XG5cbiAgICBpZiAoaXNBY2NvdW50KGF1dGhvcml0eSkpIHtcbiAgICAgIGF1dGhvcml0eVB1YmxpY0tleSA9IGF1dGhvcml0eS5wdWJsaWNLZXk7XG4gICAgICBzaWduZXJzID0gW2F1dGhvcml0eV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGF1dGhvcml0eVB1YmxpY0tleSA9IGF1dGhvcml0eTtcbiAgICAgIHNpZ25lcnMgPSBtdWx0aVNpZ25lcnM7XG4gICAgfVxuXG4gICAgYXdhaXQgc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbignRnJlZXplQWNjb3VudCcsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZUZyZWV6ZUFjY291bnRJbnN0cnVjdGlvbih0aGlzLnByb2dyYW1JZCwgYWNjb3VudCwgdGhpcy5wdWJsaWNLZXksIGF1dGhvcml0eVB1YmxpY0tleSwgbXVsdGlTaWduZXJzKSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGF3IGFjY291bnRcbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byB0aGF3XG4gICAqIEBwYXJhbSBhdXRob3JpdHkgVGhlIG1pbnQgZnJlZXplIGF1dGhvcml0eVxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGF1dGhvcml0eWAgaXMgYSBtdWx0aVNpZ1xuICAgKi9cblxuXG4gIGFzeW5jIHRoYXdBY2NvdW50KGFjY291bnQsIGF1dGhvcml0eSwgbXVsdGlTaWduZXJzKSB7XG4gICAgbGV0IGF1dGhvcml0eVB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmVycztcblxuICAgIGlmIChpc0FjY291bnQoYXV0aG9yaXR5KSkge1xuICAgICAgYXV0aG9yaXR5UHVibGljS2V5ID0gYXV0aG9yaXR5LnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbYXV0aG9yaXR5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXV0aG9yaXR5UHVibGljS2V5ID0gYXV0aG9yaXR5O1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdUaGF3QWNjb3VudCcsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZVRoYXdBY2NvdW50SW5zdHJ1Y3Rpb24odGhpcy5wcm9ncmFtSWQsIGFjY291bnQsIHRoaXMucHVibGljS2V5LCBhdXRob3JpdHlQdWJsaWNLZXksIG11bHRpU2lnbmVycykpLCB0aGlzLnBheWVyLCAuLi5zaWduZXJzKTtcbiAgfVxuICAvKipcbiAgICogVHJhbnNmZXIgdG9rZW5zIHRvIGFub3RoZXIgYWNjb3VudCwgYXNzZXJ0aW5nIHRoZSB0b2tlbiBtaW50IGFuZCBkZWNpbWFsc1xuICAgKlxuICAgKiBAcGFyYW0gc291cmNlIFNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgc291cmNlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IE51bWJlciBvZiB0b2tlbnMgdG8gdHJhbnNmZXJcbiAgICogQHBhcmFtIGRlY2ltYWxzIE51bWJlciBvZiBkZWNpbWFscyBpbiB0cmFuc2ZlciBhbW91bnRcbiAgICovXG5cblxuICBhc3luYyB0cmFuc2ZlckNoZWNrZWQoc291cmNlLCBkZXN0aW5hdGlvbiwgb3duZXIsIG11bHRpU2lnbmVycywgYW1vdW50LCBkZWNpbWFscykge1xuICAgIGxldCBvd25lclB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmVycztcblxuICAgIGlmIChpc0FjY291bnQob3duZXIpKSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyLnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbb3duZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyO1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbignVHJhbnNmZXJDaGVja2VkJywgdGhpcy5jb25uZWN0aW9uLCBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoVG9rZW4uY3JlYXRlVHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb24odGhpcy5wcm9ncmFtSWQsIHNvdXJjZSwgdGhpcy5wdWJsaWNLZXksIGRlc3RpbmF0aW9uLCBvd25lclB1YmxpY0tleSwgbXVsdGlTaWduZXJzLCBhbW91bnQsIGRlY2ltYWxzKSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBHcmFudCBhIHRoaXJkLXBhcnR5IHBlcm1pc3Npb24gdG8gdHJhbnNmZXIgdXAgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgdG9rZW5zIGZyb20gYW4gYWNjb3VudCxcbiAgICogYXNzZXJ0aW5nIHRoZSB0b2tlbiBtaW50IGFuZCBkZWNpbWFsc1xuICAgKlxuICAgKiBAcGFyYW0gYWNjb3VudCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBkZWxlZ2F0ZSBBY2NvdW50IGF1dGhvcml6ZWQgdG8gcGVyZm9ybSBhIHRyYW5zZmVyIHRva2VucyBmcm9tIHRoZSBzb3VyY2UgYWNjb3VudFxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhlIGRlbGVnYXRlIG1heSB0cmFuc2ZlclxuICAgKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWxzIGluIGFwcHJvdmUgYW1vdW50XG4gICAqL1xuXG5cbiAgYXN5bmMgYXBwcm92ZUNoZWNrZWQoYWNjb3VudCwgZGVsZWdhdGUsIG93bmVyLCBtdWx0aVNpZ25lcnMsIGFtb3VudCwgZGVjaW1hbHMpIHtcbiAgICBsZXQgb3duZXJQdWJsaWNLZXk7XG4gICAgbGV0IHNpZ25lcnM7XG5cbiAgICBpZiAoaXNBY2NvdW50KG93bmVyKSkge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lci5wdWJsaWNLZXk7XG4gICAgICBzaWduZXJzID0gW293bmVyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duZXJQdWJsaWNLZXkgPSBvd25lcjtcbiAgICAgIHNpZ25lcnMgPSBtdWx0aVNpZ25lcnM7XG4gICAgfVxuXG4gICAgYXdhaXQgc2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbignQXBwcm92ZUNoZWNrZWQnLCB0aGlzLmNvbm5lY3Rpb24sIG5ldyBUcmFuc2FjdGlvbigpLmFkZChUb2tlbi5jcmVhdGVBcHByb3ZlQ2hlY2tlZEluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCBhY2NvdW50LCB0aGlzLnB1YmxpY0tleSwgZGVsZWdhdGUsIG93bmVyUHVibGljS2V5LCBtdWx0aVNpZ25lcnMsIGFtb3VudCwgZGVjaW1hbHMpKSwgdGhpcy5wYXllciwgLi4uc2lnbmVycyk7XG4gIH1cbiAgLyoqXG4gICAqIE1pbnQgbmV3IHRva2VucywgYXNzZXJ0aW5nIHRoZSB0b2tlbiBtaW50IGFuZCBkZWNpbWFsc1xuICAgKlxuICAgKiBAcGFyYW0gZGVzdCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50IHRvIG1pbnQgdG9cbiAgICogQHBhcmFtIGF1dGhvcml0eSBNaW50aW5nIGF1dGhvcml0eVxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGF1dGhvcml0eWAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IEFtb3VudCB0byBtaW50XG4gICAqIEBwYXJhbSBkZWNpbWFscyBOdW1iZXIgb2YgZGVjaW1hbHMgaW4gYW1vdW50IHRvIG1pbnRcbiAgICovXG5cblxuICBhc3luYyBtaW50VG9DaGVja2VkKGRlc3QsIGF1dGhvcml0eSwgbXVsdGlTaWduZXJzLCBhbW91bnQsIGRlY2ltYWxzKSB7XG4gICAgbGV0IG93bmVyUHVibGljS2V5O1xuICAgIGxldCBzaWduZXJzO1xuXG4gICAgaWYgKGlzQWNjb3VudChhdXRob3JpdHkpKSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IGF1dGhvcml0eS5wdWJsaWNLZXk7XG4gICAgICBzaWduZXJzID0gW2F1dGhvcml0eV07XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bmVyUHVibGljS2V5ID0gYXV0aG9yaXR5O1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdNaW50VG9DaGVja2VkJywgdGhpcy5jb25uZWN0aW9uLCBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoVG9rZW4uY3JlYXRlTWludFRvQ2hlY2tlZEluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCB0aGlzLnB1YmxpY0tleSwgZGVzdCwgb3duZXJQdWJsaWNLZXksIG11bHRpU2lnbmVycywgYW1vdW50LCBkZWNpbWFscykpLCB0aGlzLnBheWVyLCAuLi5zaWduZXJzKTtcbiAgfVxuICAvKipcbiAgICogQnVybiB0b2tlbnMsIGFzc2VydGluZyB0aGUgdG9rZW4gbWludCBhbmQgZGVjaW1hbHNcbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byBidXJuIHRva2VucyBmcm9tXG4gICAqIEBwYXJhbSBvd25lciBBY2NvdW50IG93bmVyXG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBBbW91bnQgdG8gYnVyblxuICAgKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWxzIGluIGFtb3VudCB0byBidXJuXG4gICAqL1xuXG5cbiAgYXN5bmMgYnVybkNoZWNrZWQoYWNjb3VudCwgb3duZXIsIG11bHRpU2lnbmVycywgYW1vdW50LCBkZWNpbWFscykge1xuICAgIGxldCBvd25lclB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmVycztcblxuICAgIGlmIChpc0FjY291bnQob3duZXIpKSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyLnB1YmxpY0tleTtcbiAgICAgIHNpZ25lcnMgPSBbb3duZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25lclB1YmxpY0tleSA9IG93bmVyO1xuICAgICAgc2lnbmVycyA9IG11bHRpU2lnbmVycztcbiAgICB9XG5cbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdCdXJuQ2hlY2tlZCcsIHRoaXMuY29ubmVjdGlvbiwgbmV3IFRyYW5zYWN0aW9uKCkuYWRkKFRva2VuLmNyZWF0ZUJ1cm5DaGVja2VkSW5zdHJ1Y3Rpb24odGhpcy5wcm9ncmFtSWQsIHRoaXMucHVibGljS2V5LCBhY2NvdW50LCBvd25lclB1YmxpY0tleSwgbXVsdGlTaWduZXJzLCBhbW91bnQsIGRlY2ltYWxzKSksIHRoaXMucGF5ZXIsIC4uLnNpZ25lcnMpO1xuICB9XG4gIC8qKlxuICAgKiBTeW5jIGFtb3VudCBpbiBuYXRpdmUgU1BMIHRva2VuIGFjY291bnQgdG8gdW5kZXJseWluZyBsYW1wb3J0c1xuICAgKlxuICAgKiBAcGFyYW0gbmF0aXZlQWNjb3VudCBBY2NvdW50IHRvIHN5bmNcbiAgICovXG5cblxuICBhc3luYyBzeW5jTmF0aXZlKG5hdGl2ZUFjY291bnQpIHtcbiAgICBhd2FpdCBzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uKCdTeW5jTmF0aXZlJywgdGhpcy5jb25uZWN0aW9uLCBuZXcgVHJhbnNhY3Rpb24oKS5hZGQoVG9rZW4uY3JlYXRlU3luY05hdGl2ZUluc3RydWN0aW9uKHRoaXMucHJvZ3JhbUlkLCBuYXRpdmVBY2NvdW50KSksIHRoaXMucGF5ZXIpO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4gSW5pdGlhbGl6ZU1pbnQgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBtaW50IFRva2VuIG1pbnQgYWNjb3VudFxuICAgKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWxzIGluIHRva2VuIGFjY291bnQgYW1vdW50c1xuICAgKiBAcGFyYW0gbWludEF1dGhvcml0eSBNaW50aW5nIGF1dGhvcml0eVxuICAgKiBAcGFyYW0gZnJlZXplQXV0aG9yaXR5IE9wdGlvbmFsIGF1dGhvcml0eSB0aGF0IGNhbiBmcmVlemUgdG9rZW4gYWNjb3VudHNcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlSW5pdE1pbnRJbnN0cnVjdGlvbihwcm9ncmFtSWQsIG1pbnQsIGRlY2ltYWxzLCBtaW50QXV0aG9yaXR5LCBmcmVlemVBdXRob3JpdHkpIHtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IG1pbnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBTWVNWQVJfUkVOVF9QVUJLRVksXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH1dO1xuICAgIGNvbnN0IGNvbW1hbmREYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCBCdWZmZXJMYXlvdXQudTgoJ2RlY2ltYWxzJyksIHB1YmxpY0tleSgnbWludEF1dGhvcml0eScpLCBCdWZmZXJMYXlvdXQudTgoJ29wdGlvbicpLCBwdWJsaWNLZXkoJ2ZyZWV6ZUF1dGhvcml0eScpXSk7XG4gICAgbGV0IGRhdGEgPSBCdWZmZXIuYWxsb2MoMTAyNCk7XG4gICAge1xuICAgICAgY29uc3QgZW5jb2RlTGVuZ3RoID0gY29tbWFuZERhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgICAgaW5zdHJ1Y3Rpb246IDAsXG4gICAgICAgIC8vIEluaXRpYWxpemVNaW50IGluc3RydWN0aW9uXG4gICAgICAgIGRlY2ltYWxzLFxuICAgICAgICBtaW50QXV0aG9yaXR5OiBwdWJrZXlUb0J1ZmZlcihtaW50QXV0aG9yaXR5KSxcbiAgICAgICAgb3B0aW9uOiBmcmVlemVBdXRob3JpdHkgPT09IG51bGwgPyAwIDogMSxcbiAgICAgICAgZnJlZXplQXV0aG9yaXR5OiBwdWJrZXlUb0J1ZmZlcihmcmVlemVBdXRob3JpdHkgfHwgbmV3IFB1YmxpY0tleSgwKSlcbiAgICAgIH0sIGRhdGEpO1xuICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCwgZW5jb2RlTGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhbiBJbml0aWFsaXplQWNjb3VudCBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIG1pbnQgVG9rZW4gbWludCBhY2NvdW50XG4gICAqIEBwYXJhbSBhY2NvdW50IE5ldyBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgbmV3IGFjY291bnRcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlSW5pdEFjY291bnRJbnN0cnVjdGlvbihwcm9ncmFtSWQsIG1pbnQsIGFjY291bnQsIG93bmVyKSB7XG4gICAgY29uc3Qga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IGFjY291bnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBtaW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IFNZU1ZBUl9SRU5UX1BVQktFWSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgfV07XG4gICAgY29uc3QgZGF0YUxheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51OCgnaW5zdHJ1Y3Rpb24nKV0pO1xuICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuYWxsb2MoZGF0YUxheW91dC5zcGFuKTtcbiAgICBkYXRhTGF5b3V0LmVuY29kZSh7XG4gICAgICBpbnN0cnVjdGlvbjogMSAvLyBJbml0aWFsaXplQWNjb3VudCBpbnN0cnVjdGlvblxuXG4gICAgfSwgZGF0YSk7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIFRyYW5zZmVyIGluc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBwcm9ncmFtSWQgU1BMIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gc291cmNlIFNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgc291cmNlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBhdXRob3JpdHlgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBOdW1iZXIgb2YgdG9rZW5zIHRvIHRyYW5zZmVyXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZVRyYW5zZmVySW5zdHJ1Y3Rpb24ocHJvZ3JhbUlkLCBzb3VyY2UsIGRlc3RpbmF0aW9uLCBvd25lciwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCB1aW50NjQoJ2Ftb3VudCcpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiAzLFxuICAgICAgLy8gVHJhbnNmZXIgaW5zdHJ1Y3Rpb25cbiAgICAgIGFtb3VudDogbmV3IHU2NChhbW91bnQpLnRvQnVmZmVyKClcbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IHNvdXJjZSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IGRlc3RpbmF0aW9uLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH1dO1xuXG4gICAgaWYgKG11bHRpU2lnbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogb3duZXIsXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogb3duZXIsXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgbXVsdGlTaWduZXJzLmZvckVhY2goc2lnbmVyID0+IGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogc2lnbmVyLnB1YmxpY0tleSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGFuIEFwcHJvdmUgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBhY2NvdW50IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIGRlbGVnYXRlIEFjY291bnQgYXV0aG9yaXplZCB0byBwZXJmb3JtIGEgdHJhbnNmZXIgb2YgdG9rZW5zIGZyb20gdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgc291cmNlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IE1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0aGUgZGVsZWdhdGUgbWF5IHRyYW5zZmVyXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZUFwcHJvdmVJbnN0cnVjdGlvbihwcm9ncmFtSWQsIGFjY291bnQsIGRlbGVnYXRlLCBvd25lciwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCB1aW50NjQoJ2Ftb3VudCcpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiA0LFxuICAgICAgLy8gQXBwcm92ZSBpbnN0cnVjdGlvblxuICAgICAgYW1vdW50OiBuZXcgdTY0KGFtb3VudCkudG9CdWZmZXIoKVxuICAgIH0sIGRhdGEpO1xuICAgIGxldCBrZXlzID0gW3tcbiAgICAgIHB1YmtleTogYWNjb3VudCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IGRlbGVnYXRlLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIG11bHRpU2lnbmVycy5mb3JFYWNoKHNpZ25lciA9PiBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IHNpZ25lci5wdWJsaWNLZXksXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAgICBrZXlzLFxuICAgICAgcHJvZ3JhbUlkOiBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIFJldm9rZSBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIGFjY291bnQgUHVibGljIGtleSBvZiB0aGUgYWNjb3VudFxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlUmV2b2tlSW5zdHJ1Y3Rpb24ocHJvZ3JhbUlkLCBhY2NvdW50LCBvd25lciwgbXVsdGlTaWduZXJzKSB7XG4gICAgY29uc3QgZGF0YUxheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51OCgnaW5zdHJ1Y3Rpb24nKV0pO1xuICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuYWxsb2MoZGF0YUxheW91dC5zcGFuKTtcbiAgICBkYXRhTGF5b3V0LmVuY29kZSh7XG4gICAgICBpbnN0cnVjdGlvbjogNSAvLyBBcHByb3ZlIGluc3RydWN0aW9uXG5cbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IGFjY291bnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfV07XG5cbiAgICBpZiAobXVsdGlTaWduZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBtdWx0aVNpZ25lcnMuZm9yRWFjaChzaWduZXIgPT4ga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBzaWduZXIucHVibGljS2V5LFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24oe1xuICAgICAga2V5cyxcbiAgICAgIHByb2dyYW1JZDogcHJvZ3JhbUlkLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBTZXRBdXRob3JpdHkgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBhY2NvdW50IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIG5ld0F1dGhvcml0eSBOZXcgYXV0aG9yaXR5IG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBhdXRob3JpdHlUeXBlIFR5cGUgb2YgYXV0aG9yaXR5IHRvIHNldFxuICAgKiBAcGFyYW0gY3VycmVudEF1dGhvcml0eSBDdXJyZW50IGF1dGhvcml0eSBvZiB0aGUgc3BlY2lmaWVkIHR5cGVcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBjdXJyZW50QXV0aG9yaXR5YCBpcyBhIG11bHRpU2lnXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZVNldEF1dGhvcml0eUluc3RydWN0aW9uKHByb2dyYW1JZCwgYWNjb3VudCwgbmV3QXV0aG9yaXR5LCBhdXRob3JpdHlUeXBlLCBjdXJyZW50QXV0aG9yaXR5LCBtdWx0aVNpZ25lcnMpIHtcbiAgICBjb25zdCBjb21tYW5kRGF0YUxheW91dCA9IEJ1ZmZlckxheW91dC5zdHJ1Y3QoW0J1ZmZlckxheW91dC51OCgnaW5zdHJ1Y3Rpb24nKSwgQnVmZmVyTGF5b3V0LnU4KCdhdXRob3JpdHlUeXBlJyksIEJ1ZmZlckxheW91dC51OCgnb3B0aW9uJyksIHB1YmxpY0tleSgnbmV3QXV0aG9yaXR5JyldKTtcbiAgICBsZXQgZGF0YSA9IEJ1ZmZlci5hbGxvYygxMDI0KTtcbiAgICB7XG4gICAgICBjb25zdCBlbmNvZGVMZW5ndGggPSBjb21tYW5kRGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgICBpbnN0cnVjdGlvbjogNixcbiAgICAgICAgLy8gU2V0QXV0aG9yaXR5IGluc3RydWN0aW9uXG4gICAgICAgIGF1dGhvcml0eVR5cGU6IEF1dGhvcml0eVR5cGVDb2Rlc1thdXRob3JpdHlUeXBlXSxcbiAgICAgICAgb3B0aW9uOiBuZXdBdXRob3JpdHkgPT09IG51bGwgPyAwIDogMSxcbiAgICAgICAgbmV3QXV0aG9yaXR5OiBwdWJrZXlUb0J1ZmZlcihuZXdBdXRob3JpdHkgfHwgbmV3IFB1YmxpY0tleSgwKSlcbiAgICAgIH0sIGRhdGEpO1xuICAgICAgZGF0YSA9IGRhdGEuc2xpY2UoMCwgZW5jb2RlTGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBhY2NvdW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH1dO1xuXG4gICAgaWYgKG11bHRpU2lnbmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogY3VycmVudEF1dGhvcml0eSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBjdXJyZW50QXV0aG9yaXR5LFxuICAgICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIG11bHRpU2lnbmVycy5mb3JFYWNoKHNpZ25lciA9PiBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IHNpZ25lci5wdWJsaWNLZXksXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAgICBrZXlzLFxuICAgICAgcHJvZ3JhbUlkOiBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIE1pbnRUbyBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIG1pbnQgUHVibGljIGtleSBvZiB0aGUgbWludFxuICAgKiBAcGFyYW0gZGVzdCBQdWJsaWMga2V5IG9mIHRoZSBhY2NvdW50IHRvIG1pbnQgdG9cbiAgICogQHBhcmFtIGF1dGhvcml0eSBUaGUgbWludCBhdXRob3JpdHlcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBhdXRob3JpdHlgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBBbW91bnQgdG8gbWludFxuICAgKi9cblxuXG4gIHN0YXRpYyBjcmVhdGVNaW50VG9JbnN0cnVjdGlvbihwcm9ncmFtSWQsIG1pbnQsIGRlc3QsIGF1dGhvcml0eSwgbXVsdGlTaWduZXJzLCBhbW91bnQpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCB1aW50NjQoJ2Ftb3VudCcpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiA3LFxuICAgICAgLy8gTWludFRvIGluc3RydWN0aW9uXG4gICAgICBhbW91bnQ6IG5ldyB1NjQoYW1vdW50KS50b0J1ZmZlcigpXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBtaW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogZGVzdCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IGF1dGhvcml0eSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBhdXRob3JpdHksXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgbXVsdGlTaWduZXJzLmZvckVhY2goc2lnbmVyID0+IGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogc2lnbmVyLnB1YmxpY0tleSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgQnVybiBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIG1pbnQgTWludCBmb3IgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byBidXJuIHRva2VucyBmcm9tXG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgYWNjb3VudFxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGF1dGhvcml0eWAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IGFtb3VudCB0byBidXJuXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZUJ1cm5JbnN0cnVjdGlvbihwcm9ncmFtSWQsIG1pbnQsIGFjY291bnQsIG93bmVyLCBtdWx0aVNpZ25lcnMsIGFtb3VudCkge1xuICAgIGNvbnN0IGRhdGFMYXlvdXQgPSBCdWZmZXJMYXlvdXQuc3RydWN0KFtCdWZmZXJMYXlvdXQudTgoJ2luc3RydWN0aW9uJyksIHVpbnQ2NCgnYW1vdW50JyldKTtcbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFMYXlvdXQuc3Bhbik7XG4gICAgZGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgaW5zdHJ1Y3Rpb246IDgsXG4gICAgICAvLyBCdXJuIGluc3RydWN0aW9uXG4gICAgICBhbW91bnQ6IG5ldyB1NjQoYW1vdW50KS50b0J1ZmZlcigpXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBhY2NvdW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogbWludCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIG11bHRpU2lnbmVycy5mb3JFYWNoKHNpZ25lciA9PiBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IHNpZ25lci5wdWJsaWNLZXksXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAgICBrZXlzLFxuICAgICAgcHJvZ3JhbUlkOiBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIENsb3NlIGluc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBwcm9ncmFtSWQgU1BMIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gYWNjb3VudCBBY2NvdW50IHRvIGNsb3NlXG4gICAqIEBwYXJhbSBkZXN0IEFjY291bnQgdG8gcmVjZWl2ZSB0aGUgcmVtYWluaW5nIGJhbGFuY2Ugb2YgdGhlIGNsb3NlZCBhY2NvdW50XG4gICAqIEBwYXJhbSBhdXRob3JpdHkgQWNjb3VudCBDbG9zZSBhdXRob3JpdHlcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBvd25lcmAgaXMgYSBtdWx0aVNpZ1xuICAgKi9cblxuXG4gIHN0YXRpYyBjcmVhdGVDbG9zZUFjY291bnRJbnN0cnVjdGlvbihwcm9ncmFtSWQsIGFjY291bnQsIGRlc3QsIG93bmVyLCBtdWx0aVNpZ25lcnMpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiA5IC8vIENsb3NlQWNjb3VudCBpbnN0cnVjdGlvblxuXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBhY2NvdW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogZGVzdCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIG11bHRpU2lnbmVycy5mb3JFYWNoKHNpZ25lciA9PiBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IHNpZ25lci5wdWJsaWNLZXksXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAgICBrZXlzLFxuICAgICAgcHJvZ3JhbUlkOiBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIEZyZWV6ZSBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byBmcmVlemVcbiAgICogQHBhcmFtIG1pbnQgTWludCBhY2NvdW50XG4gICAqIEBwYXJhbSBhdXRob3JpdHkgTWludCBmcmVlemUgYXV0aG9yaXR5XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlRnJlZXplQWNjb3VudEluc3RydWN0aW9uKHByb2dyYW1JZCwgYWNjb3VudCwgbWludCwgYXV0aG9yaXR5LCBtdWx0aVNpZ25lcnMpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiAxMCAvLyBGcmVlemVBY2NvdW50IGluc3RydWN0aW9uXG5cbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IGFjY291bnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBtaW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IGF1dGhvcml0eSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBhdXRob3JpdHksXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgbXVsdGlTaWduZXJzLmZvckVhY2goc2lnbmVyID0+IGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogc2lnbmVyLnB1YmxpY0tleSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgVGhhdyBpbnN0cnVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIGFjY291bnQgQWNjb3VudCB0byB0aGF3XG4gICAqIEBwYXJhbSBtaW50IE1pbnQgYWNjb3VudFxuICAgKiBAcGFyYW0gYXV0aG9yaXR5IE1pbnQgZnJlZXplIGF1dGhvcml0eVxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYG93bmVyYCBpcyBhIG11bHRpU2lnXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZVRoYXdBY2NvdW50SW5zdHJ1Y3Rpb24ocHJvZ3JhbUlkLCBhY2NvdW50LCBtaW50LCBhdXRob3JpdHksIG11bHRpU2lnbmVycykge1xuICAgIGNvbnN0IGRhdGFMYXlvdXQgPSBCdWZmZXJMYXlvdXQuc3RydWN0KFtCdWZmZXJMYXlvdXQudTgoJ2luc3RydWN0aW9uJyldKTtcbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFMYXlvdXQuc3Bhbik7XG4gICAgZGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgaW5zdHJ1Y3Rpb246IDExIC8vIFRoYXdBY2NvdW50IGluc3RydWN0aW9uXG5cbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IGFjY291bnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBtaW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IGF1dGhvcml0eSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBhdXRob3JpdHksXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgbXVsdGlTaWduZXJzLmZvckVhY2goc2lnbmVyID0+IGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogc2lnbmVyLnB1YmxpY0tleSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgVHJhbnNmZXJDaGVja2VkIGluc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBwcm9ncmFtSWQgU1BMIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gc291cmNlIFNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtaW50IE1pbnQgYWNjb3VudFxuICAgKiBAcGFyYW0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gYWNjb3VudFxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgYXV0aG9yaXR5YCBpcyBhIG11bHRpU2lnXG4gICAqIEBwYXJhbSBhbW91bnQgTnVtYmVyIG9mIHRva2VucyB0byB0cmFuc2ZlclxuICAgKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWxzIGluIHRyYW5zZmVyIGFtb3VudFxuICAgKi9cblxuXG4gIHN0YXRpYyBjcmVhdGVUcmFuc2ZlckNoZWNrZWRJbnN0cnVjdGlvbihwcm9ncmFtSWQsIHNvdXJjZSwgbWludCwgZGVzdGluYXRpb24sIG93bmVyLCBtdWx0aVNpZ25lcnMsIGFtb3VudCwgZGVjaW1hbHMpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCB1aW50NjQoJ2Ftb3VudCcpLCBCdWZmZXJMYXlvdXQudTgoJ2RlY2ltYWxzJyldKTtcbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFMYXlvdXQuc3Bhbik7XG4gICAgZGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgaW5zdHJ1Y3Rpb246IDEyLFxuICAgICAgLy8gVHJhbnNmZXJDaGVja2VkIGluc3RydWN0aW9uXG4gICAgICBhbW91bnQ6IG5ldyB1NjQoYW1vdW50KS50b0J1ZmZlcigpLFxuICAgICAgZGVjaW1hbHNcbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IHNvdXJjZSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IG1pbnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogZGVzdGluYXRpb24sXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfV07XG5cbiAgICBpZiAobXVsdGlTaWduZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBtdWx0aVNpZ25lcnMuZm9yRWFjaChzaWduZXIgPT4ga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBzaWduZXIucHVibGljS2V5LFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24oe1xuICAgICAga2V5cyxcbiAgICAgIHByb2dyYW1JZDogcHJvZ3JhbUlkLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4gQXBwcm92ZUNoZWNrZWQgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBhY2NvdW50IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIG1pbnQgTWludCBhY2NvdW50XG4gICAqIEBwYXJhbSBkZWxlZ2F0ZSBBY2NvdW50IGF1dGhvcml6ZWQgdG8gcGVyZm9ybSBhIHRyYW5zZmVyIG9mIHRva2VucyBmcm9tIHRoZSBzb3VyY2UgYWNjb3VudFxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIHNvdXJjZSBhY2NvdW50XG4gICAqIEBwYXJhbSBtdWx0aVNpZ25lcnMgU2lnbmluZyBhY2NvdW50cyBpZiBgb3duZXJgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBNYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdGhlIGRlbGVnYXRlIG1heSB0cmFuc2ZlclxuICAgKiBAcGFyYW0gZGVjaW1hbHMgTnVtYmVyIG9mIGRlY2ltYWxzIGluIGFwcHJvdmUgYW1vdW50XG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZUFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb24ocHJvZ3JhbUlkLCBhY2NvdW50LCBtaW50LCBkZWxlZ2F0ZSwgb3duZXIsIG11bHRpU2lnbmVycywgYW1vdW50LCBkZWNpbWFscykge1xuICAgIGNvbnN0IGRhdGFMYXlvdXQgPSBCdWZmZXJMYXlvdXQuc3RydWN0KFtCdWZmZXJMYXlvdXQudTgoJ2luc3RydWN0aW9uJyksIHVpbnQ2NCgnYW1vdW50JyksIEJ1ZmZlckxheW91dC51OCgnZGVjaW1hbHMnKV0pO1xuICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuYWxsb2MoZGF0YUxheW91dC5zcGFuKTtcbiAgICBkYXRhTGF5b3V0LmVuY29kZSh7XG4gICAgICBpbnN0cnVjdGlvbjogMTMsXG4gICAgICAvLyBBcHByb3ZlQ2hlY2tlZCBpbnN0cnVjdGlvblxuICAgICAgYW1vdW50OiBuZXcgdTY0KGFtb3VudCkudG9CdWZmZXIoKSxcbiAgICAgIGRlY2ltYWxzXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBhY2NvdW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogbWludCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBkZWxlZ2F0ZSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgfV07XG5cbiAgICBpZiAobXVsdGlTaWduZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBvd25lcixcbiAgICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBtdWx0aVNpZ25lcnMuZm9yRWFjaChzaWduZXIgPT4ga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBzaWduZXIucHVibGljS2V5LFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24oe1xuICAgICAga2V5cyxcbiAgICAgIHByb2dyYW1JZDogcHJvZ3JhbUlkLFxuICAgICAgZGF0YVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBNaW50VG9DaGVja2VkIGluc3RydWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBwcm9ncmFtSWQgU1BMIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gbWludCBQdWJsaWMga2V5IG9mIHRoZSBtaW50XG4gICAqIEBwYXJhbSBkZXN0IFB1YmxpYyBrZXkgb2YgdGhlIGFjY291bnQgdG8gbWludCB0b1xuICAgKiBAcGFyYW0gYXV0aG9yaXR5IFRoZSBtaW50IGF1dGhvcml0eVxuICAgKiBAcGFyYW0gbXVsdGlTaWduZXJzIFNpZ25pbmcgYWNjb3VudHMgaWYgYGF1dGhvcml0eWAgaXMgYSBtdWx0aVNpZ1xuICAgKiBAcGFyYW0gYW1vdW50IEFtb3VudCB0byBtaW50XG4gICAqIEBwYXJhbSBkZWNpbWFscyBOdW1iZXIgb2YgZGVjaW1hbHMgaW4gYW1vdW50IHRvIG1pbnRcbiAgICovXG5cblxuICBzdGF0aWMgY3JlYXRlTWludFRvQ2hlY2tlZEluc3RydWN0aW9uKHByb2dyYW1JZCwgbWludCwgZGVzdCwgYXV0aG9yaXR5LCBtdWx0aVNpZ25lcnMsIGFtb3VudCwgZGVjaW1hbHMpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpLCB1aW50NjQoJ2Ftb3VudCcpLCBCdWZmZXJMYXlvdXQudTgoJ2RlY2ltYWxzJyldKTtcbiAgICBjb25zdCBkYXRhID0gQnVmZmVyLmFsbG9jKGRhdGFMYXlvdXQuc3Bhbik7XG4gICAgZGF0YUxheW91dC5lbmNvZGUoe1xuICAgICAgaW5zdHJ1Y3Rpb246IDE0LFxuICAgICAgLy8gTWludFRvQ2hlY2tlZCBpbnN0cnVjdGlvblxuICAgICAgYW1vdW50OiBuZXcgdTY0KGFtb3VudCkudG9CdWZmZXIoKSxcbiAgICAgIGRlY2ltYWxzXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBtaW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogZGVzdCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IGF1dGhvcml0eSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgcHVia2V5OiBhdXRob3JpdHksXG4gICAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgbXVsdGlTaWduZXJzLmZvckVhY2goc2lnbmVyID0+IGtleXMucHVzaCh7XG4gICAgICAgIHB1YmtleTogc2lnbmVyLnB1YmxpY0tleSxcbiAgICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgQnVybkNoZWNrZWQgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBtaW50IE1pbnQgZm9yIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBhY2NvdW50IEFjY291bnQgdG8gYnVybiB0b2tlbnMgZnJvbVxuICAgKiBAcGFyYW0gb3duZXIgT3duZXIgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIG11bHRpU2lnbmVycyBTaWduaW5nIGFjY291bnRzIGlmIGBhdXRob3JpdHlgIGlzIGEgbXVsdGlTaWdcbiAgICogQHBhcmFtIGFtb3VudCBhbW91bnQgdG8gYnVyblxuICAgKi9cblxuXG4gIHN0YXRpYyBjcmVhdGVCdXJuQ2hlY2tlZEluc3RydWN0aW9uKHByb2dyYW1JZCwgbWludCwgYWNjb3VudCwgb3duZXIsIG11bHRpU2lnbmVycywgYW1vdW50LCBkZWNpbWFscykge1xuICAgIGNvbnN0IGRhdGFMYXlvdXQgPSBCdWZmZXJMYXlvdXQuc3RydWN0KFtCdWZmZXJMYXlvdXQudTgoJ2luc3RydWN0aW9uJyksIHVpbnQ2NCgnYW1vdW50JyksIEJ1ZmZlckxheW91dC51OCgnZGVjaW1hbHMnKV0pO1xuICAgIGNvbnN0IGRhdGEgPSBCdWZmZXIuYWxsb2MoZGF0YUxheW91dC5zcGFuKTtcbiAgICBkYXRhTGF5b3V0LmVuY29kZSh7XG4gICAgICBpbnN0cnVjdGlvbjogMTUsXG4gICAgICAvLyBCdXJuQ2hlY2tlZCBpbnN0cnVjdGlvblxuICAgICAgYW1vdW50OiBuZXcgdTY0KGFtb3VudCkudG9CdWZmZXIoKSxcbiAgICAgIGRlY2ltYWxzXG4gICAgfSwgZGF0YSk7XG4gICAgbGV0IGtleXMgPSBbe1xuICAgICAgcHVia2V5OiBhY2NvdW50LFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogdHJ1ZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogbWludCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9XTtcblxuICAgIGlmIChtdWx0aVNpZ25lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogdHJ1ZSxcbiAgICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIG11bHRpU2lnbmVycy5mb3JFYWNoKHNpZ25lciA9PiBrZXlzLnB1c2goe1xuICAgICAgICBwdWJrZXk6IHNpZ25lci5wdWJsaWNLZXksXG4gICAgICAgIGlzU2lnbmVyOiB0cnVlLFxuICAgICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25JbnN0cnVjdGlvbih7XG4gICAgICBrZXlzLFxuICAgICAgcHJvZ3JhbUlkOiBwcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIFN5bmNOYXRpdmUgaW5zdHJ1Y3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHByb2dyYW1JZCBTUEwgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBuYXRpdmVBY2NvdW50IEFjY291bnQgdG8gc3luYyBsYW1wb3J0cyBmcm9tXG4gICAqL1xuXG5cbiAgc3RhdGljIGNyZWF0ZVN5bmNOYXRpdmVJbnN0cnVjdGlvbihwcm9ncmFtSWQsIG5hdGl2ZUFjY291bnQpIHtcbiAgICBjb25zdCBkYXRhTGF5b3V0ID0gQnVmZmVyTGF5b3V0LnN0cnVjdChbQnVmZmVyTGF5b3V0LnU4KCdpbnN0cnVjdGlvbicpXSk7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYyhkYXRhTGF5b3V0LnNwYW4pO1xuICAgIGRhdGFMYXlvdXQuZW5jb2RlKHtcbiAgICAgIGluc3RydWN0aW9uOiAxNyAvLyBTeW5jTmF0aXZlIGluc3RydWN0aW9uXG5cbiAgICB9LCBkYXRhKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IG5hdGl2ZUFjY291bnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfV07XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IHByb2dyYW1JZCxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBhZGRyZXNzIGZvciB0aGUgYXNzb2NpYXRlZCB0b2tlbiBhY2NvdW50XG4gICAqXG4gICAqIEBwYXJhbSBhc3NvY2lhdGVkUHJvZ3JhbUlkIFNQTCBBc3NvY2lhdGVkIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gcHJvZ3JhbUlkIFNQTCBUb2tlbiBwcm9ncmFtIGFjY291bnRcbiAgICogQHBhcmFtIG1pbnQgVG9rZW4gbWludCBhY2NvdW50XG4gICAqIEBwYXJhbSBvd25lciBPd25lciBvZiB0aGUgbmV3IGFjY291bnRcbiAgICogQHJldHVybiBQdWJsaWMga2V5IG9mIHRoZSBhc3NvY2lhdGVkIHRva2VuIGFjY291bnRcbiAgICovXG5cblxuICBzdGF0aWMgYXN5bmMgZ2V0QXNzb2NpYXRlZFRva2VuQWRkcmVzcyhhc3NvY2lhdGVkUHJvZ3JhbUlkLCBwcm9ncmFtSWQsIG1pbnQsIG93bmVyLCBhbGxvd093bmVyT2ZmQ3VydmUgPSBmYWxzZSkge1xuICAgIGlmICghYWxsb3dPd25lck9mZkN1cnZlICYmICFQdWJsaWNLZXkuaXNPbkN1cnZlKG93bmVyLnRvQnVmZmVyKCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE93bmVyIGNhbm5vdCBzaWduOiAke293bmVyLnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhd2FpdCBQdWJsaWNLZXkuZmluZFByb2dyYW1BZGRyZXNzKFtvd25lci50b0J1ZmZlcigpLCBwcm9ncmFtSWQudG9CdWZmZXIoKSwgbWludC50b0J1ZmZlcigpXSwgYXNzb2NpYXRlZFByb2dyYW1JZCkpWzBdO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgdGhlIEFzc29jaWF0ZWRUb2tlblByb2dyYW0gaW5zdHJ1Y3Rpb24gdG8gY3JlYXRlIHRoZSBhc3NvY2lhdGVkXG4gICAqIHRva2VuIGFjY291bnRcbiAgICpcbiAgICogQHBhcmFtIGFzc29jaWF0ZWRQcm9ncmFtSWQgU1BMIEFzc29jaWF0ZWQgVG9rZW4gcHJvZ3JhbSBhY2NvdW50XG4gICAqIEBwYXJhbSBwcm9ncmFtSWQgU1BMIFRva2VuIHByb2dyYW0gYWNjb3VudFxuICAgKiBAcGFyYW0gbWludCBUb2tlbiBtaW50IGFjY291bnRcbiAgICogQHBhcmFtIGFzc29jaWF0ZWRBY2NvdW50IE5ldyBhc3NvY2lhdGVkIGFjY291bnRcbiAgICogQHBhcmFtIG93bmVyIE93bmVyIG9mIHRoZSBuZXcgYWNjb3VudFxuICAgKiBAcGFyYW0gcGF5ZXIgUGF5ZXIgb2YgZmVlc1xuICAgKi9cblxuXG4gIHN0YXRpYyBjcmVhdGVBc3NvY2lhdGVkVG9rZW5BY2NvdW50SW5zdHJ1Y3Rpb24oYXNzb2NpYXRlZFByb2dyYW1JZCwgcHJvZ3JhbUlkLCBtaW50LCBhc3NvY2lhdGVkQWNjb3VudCwgb3duZXIsIHBheWVyKSB7XG4gICAgY29uc3QgZGF0YSA9IEJ1ZmZlci5hbGxvYygwKTtcbiAgICBsZXQga2V5cyA9IFt7XG4gICAgICBwdWJrZXk6IHBheWVyLFxuICAgICAgaXNTaWduZXI6IHRydWUsXG4gICAgICBpc1dyaXRhYmxlOiB0cnVlXG4gICAgfSwge1xuICAgICAgcHVia2V5OiBhc3NvY2lhdGVkQWNjb3VudCxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IHRydWVcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IG93bmVyLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IG1pbnQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogU3lzdGVtUHJvZ3JhbS5wcm9ncmFtSWQsXG4gICAgICBpc1NpZ25lcjogZmFsc2UsXG4gICAgICBpc1dyaXRhYmxlOiBmYWxzZVxuICAgIH0sIHtcbiAgICAgIHB1YmtleTogcHJvZ3JhbUlkLFxuICAgICAgaXNTaWduZXI6IGZhbHNlLFxuICAgICAgaXNXcml0YWJsZTogZmFsc2VcbiAgICB9LCB7XG4gICAgICBwdWJrZXk6IFNZU1ZBUl9SRU5UX1BVQktFWSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlXG4gICAgfV07XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkluc3RydWN0aW9uKHtcbiAgICAgIGtleXMsXG4gICAgICBwcm9ncmFtSWQ6IGFzc29jaWF0ZWRQcm9ncmFtSWQsXG4gICAgICBkYXRhXG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgeyBBU1NPQ0lBVEVEX1RPS0VOX1BST0dSQU1fSUQsIEFjY291bnRMYXlvdXQsIE1pbnRMYXlvdXQsIE5BVElWRV9NSU5ULCBUT0tFTl9QUk9HUkFNX0lELCBUb2tlbiwgdTY0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwibmFtZXMiOlsiX2RlZmluZVByb3BlcnR5IiwiQnVmZmVyIiwiYXNzZXJ0IiwiQk4iLCJCdWZmZXJMYXlvdXQiLCJzZW5kQW5kQ29uZmlybVRyYW5zYWN0aW9uIiwic2VuZEFuZENvbmZpcm1UcmFuc2FjdGlvbiQxIiwiUHVibGljS2V5IiwiS2V5cGFpciIsIlRyYW5zYWN0aW9uIiwiU3lzdGVtUHJvZ3JhbSIsIlNZU1ZBUl9SRU5UX1BVQktFWSIsIlRyYW5zYWN0aW9uSW5zdHJ1Y3Rpb24iLCJwdWJsaWNLZXkiLCJwcm9wZXJ0eSIsImJsb2IiLCJ1aW50NjQiLCJ0aXRsZSIsImNvbm5lY3Rpb24iLCJ0cmFuc2FjdGlvbiIsInNpZ25lcnMiLCJza2lwUHJlZmxpZ2h0IiwiVE9LRU5fUFJPR1JBTV9JRCIsIkFTU09DSUFURURfVE9LRU5fUFJPR1JBTV9JRCIsIkZBSUxFRF9UT19GSU5EX0FDQ09VTlQiLCJJTlZBTElEX0FDQ09VTlRfT1dORVIiLCJwdWJrZXlUb0J1ZmZlciIsImZyb20iLCJ0b0J1ZmZlciIsInU2NCIsImEiLCJ0b0FycmF5IiwicmV2ZXJzZSIsImIiLCJsZW5ndGgiLCJ6ZXJvUGFkIiwiYWxsb2MiLCJjb3B5IiwiZnJvbUJ1ZmZlciIsImJ1ZmZlciIsIm1hcCIsImkiLCJ0b1N0cmluZyIsInNsaWNlIiwiam9pbiIsImlzQWNjb3VudCIsImFjY291bnRPclB1YmxpY0tleSIsIkF1dGhvcml0eVR5cGVDb2RlcyIsIk1pbnRUb2tlbnMiLCJGcmVlemVBY2NvdW50IiwiQWNjb3VudE93bmVyIiwiQ2xvc2VBY2NvdW50IiwiTkFUSVZFX01JTlQiLCJNaW50TGF5b3V0Iiwic3RydWN0IiwidTMyIiwidTgiLCJBY2NvdW50TGF5b3V0IiwiTXVsdGlzaWdMYXlvdXQiLCJUb2tlbiIsImNvbnN0cnVjdG9yIiwicHJvZ3JhbUlkIiwicGF5ZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJhc3NvY2lhdGVkUHJvZ3JhbUlkIiwiZ2V0TWluQmFsYW5jZVJlbnRGb3JFeGVtcHRNaW50IiwiZ2V0TWluaW11bUJhbGFuY2VGb3JSZW50RXhlbXB0aW9uIiwic3BhbiIsImdldE1pbkJhbGFuY2VSZW50Rm9yRXhlbXB0QWNjb3VudCIsImdldE1pbkJhbGFuY2VSZW50Rm9yRXhlbXB0TXVsdGlzaWciLCJjcmVhdGVNaW50IiwibWludEF1dGhvcml0eSIsImZyZWV6ZUF1dGhvcml0eSIsImRlY2ltYWxzIiwibWludEFjY291bnQiLCJnZW5lcmF0ZSIsInRva2VuIiwiYmFsYW5jZU5lZWRlZCIsImFkZCIsImNyZWF0ZUFjY291bnQiLCJmcm9tUHVia2V5IiwibmV3QWNjb3VudFB1YmtleSIsImxhbXBvcnRzIiwic3BhY2UiLCJjcmVhdGVJbml0TWludEluc3RydWN0aW9uIiwib3duZXIiLCJuZXdBY2NvdW50IiwibWludFB1YmxpY0tleSIsImNyZWF0ZUluaXRBY2NvdW50SW5zdHJ1Y3Rpb24iLCJjcmVhdGVBc3NvY2lhdGVkVG9rZW5BY2NvdW50IiwiYXNzb2NpYXRlZEFkZHJlc3MiLCJnZXRBc3NvY2lhdGVkVG9rZW5BZGRyZXNzIiwiY3JlYXRlQXNzb2NpYXRlZFRva2VuQWNjb3VudEludGVybmFsIiwiY3JlYXRlQXNzb2NpYXRlZFRva2VuQWNjb3VudEluc3RydWN0aW9uIiwiZ2V0T3JDcmVhdGVBc3NvY2lhdGVkQWNjb3VudEluZm8iLCJnZXRBY2NvdW50SW5mbyIsImVyciIsIm1lc3NhZ2UiLCJjcmVhdGVXcmFwcGVkTmF0aXZlQWNjb3VudCIsImFtb3VudCIsInRyYW5zZmVyIiwidG9QdWJrZXkiLCJjcmVhdGVNdWx0aXNpZyIsIm0iLCJtdWx0aXNpZ0FjY291bnQiLCJrZXlzIiwicHVia2V5IiwiaXNTaWduZXIiLCJpc1dyaXRhYmxlIiwiZm9yRWFjaCIsInNpZ25lciIsInB1c2giLCJkYXRhTGF5b3V0IiwiZGF0YSIsImVuY29kZSIsImluc3RydWN0aW9uIiwiZ2V0TWludEluZm8iLCJpbmZvIiwiRXJyb3IiLCJlcXVhbHMiLCJKU09OIiwic3RyaW5naWZ5IiwibWludEluZm8iLCJkZWNvZGUiLCJtaW50QXV0aG9yaXR5T3B0aW9uIiwic3VwcGx5IiwiaXNJbml0aWFsaXplZCIsImZyZWV6ZUF1dGhvcml0eU9wdGlvbiIsImFjY291bnQiLCJjb21taXRtZW50IiwiYWNjb3VudEluZm8iLCJhZGRyZXNzIiwibWludCIsImRlbGVnYXRlT3B0aW9uIiwiZGVsZWdhdGUiLCJkZWxlZ2F0ZWRBbW91bnQiLCJzdGF0ZSIsImlzRnJvemVuIiwiaXNOYXRpdmVPcHRpb24iLCJyZW50RXhlbXB0UmVzZXJ2ZSIsImlzTmF0aXZlIiwiY2xvc2VBdXRob3JpdHlPcHRpb24iLCJjbG9zZUF1dGhvcml0eSIsImdldE11bHRpc2lnSW5mbyIsIm11bHRpc2lnIiwibXVsdGlzaWdJbmZvIiwic2lnbmVyMSIsInNpZ25lcjIiLCJzaWduZXIzIiwic2lnbmVyNCIsInNpZ25lcjUiLCJzaWduZXI2Iiwic2lnbmVyNyIsInNpZ25lcjgiLCJzaWduZXI5Iiwic2lnbmVyMTAiLCJzaWduZXIxMSIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwibXVsdGlTaWduZXJzIiwib3duZXJQdWJsaWNLZXkiLCJjcmVhdGVUcmFuc2Zlckluc3RydWN0aW9uIiwiYXBwcm92ZSIsImNyZWF0ZUFwcHJvdmVJbnN0cnVjdGlvbiIsInJldm9rZSIsImNyZWF0ZVJldm9rZUluc3RydWN0aW9uIiwic2V0QXV0aG9yaXR5IiwibmV3QXV0aG9yaXR5IiwiYXV0aG9yaXR5VHlwZSIsImN1cnJlbnRBdXRob3JpdHkiLCJjdXJyZW50QXV0aG9yaXR5UHVibGljS2V5IiwiY3JlYXRlU2V0QXV0aG9yaXR5SW5zdHJ1Y3Rpb24iLCJtaW50VG8iLCJkZXN0IiwiYXV0aG9yaXR5IiwiY3JlYXRlTWludFRvSW5zdHJ1Y3Rpb24iLCJidXJuIiwiY3JlYXRlQnVybkluc3RydWN0aW9uIiwiY2xvc2VBY2NvdW50IiwiYXV0aG9yaXR5UHVibGljS2V5IiwiY3JlYXRlQ2xvc2VBY2NvdW50SW5zdHJ1Y3Rpb24iLCJmcmVlemVBY2NvdW50IiwiY3JlYXRlRnJlZXplQWNjb3VudEluc3RydWN0aW9uIiwidGhhd0FjY291bnQiLCJjcmVhdGVUaGF3QWNjb3VudEluc3RydWN0aW9uIiwidHJhbnNmZXJDaGVja2VkIiwiY3JlYXRlVHJhbnNmZXJDaGVja2VkSW5zdHJ1Y3Rpb24iLCJhcHByb3ZlQ2hlY2tlZCIsImNyZWF0ZUFwcHJvdmVDaGVja2VkSW5zdHJ1Y3Rpb24iLCJtaW50VG9DaGVja2VkIiwiY3JlYXRlTWludFRvQ2hlY2tlZEluc3RydWN0aW9uIiwiYnVybkNoZWNrZWQiLCJjcmVhdGVCdXJuQ2hlY2tlZEluc3RydWN0aW9uIiwic3luY05hdGl2ZSIsIm5hdGl2ZUFjY291bnQiLCJjcmVhdGVTeW5jTmF0aXZlSW5zdHJ1Y3Rpb24iLCJjb21tYW5kRGF0YUxheW91dCIsImVuY29kZUxlbmd0aCIsIm9wdGlvbiIsImFsbG93T3duZXJPZmZDdXJ2ZSIsImlzT25DdXJ2ZSIsImZpbmRQcm9ncmFtQWRkcmVzcyIsImFzc29jaWF0ZWRBY2NvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@solana+spl-token@0.1.8_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/@solana/spl-token/lib/index.esm.js\n");

/***/ })

};
;
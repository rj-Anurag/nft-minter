"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@irys+arweave@0.0.2_debug@4.4.0";
exports.ids = ["vendor-chunks/@irys+arweave@0.0.2_debug@4.4.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arweave: () => (/* binding */ Arweave),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _blocks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blocks.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/blocks.js\");\n/* harmony import */ var _chunks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunks.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/chunks.js\");\n/* harmony import */ var _lib_crypto_crypto_augment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/crypto/crypto-augment.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/crypto-augment.js\");\n/* harmony import */ var _lib_deepHash_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/deepHash.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/deepHash.js\");\n/* harmony import */ var _lib_fallbackApi_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/fallbackApi.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/fallbackApi.js\");\n/* harmony import */ var _lib_merkle_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/merkle.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js\");\n/* harmony import */ var _lib_transaction_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/transaction.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/* harmony import */ var _network_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./network.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/network.js\");\n/* harmony import */ var _transactions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./transactions.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/transactions.js\");\n/* harmony import */ var _wallets_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./wallets.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/wallets.js\");\n// import Ar from \"./ar\";\n\n\n\n\n\n\n\n\n\n\n\nclass Arweave {\n    static{\n        this.utils = _lib_utils_js__WEBPACK_IMPORTED_MODULE_7__;\n    }\n    static{\n        this.VERSION = \"0.0.1\";\n    }\n    constructor(config){\n        this.config = config;\n        if (!config.crypto) throw new Error(`config.crypto is required`); // `crypto` is automatically added by the wrapper constructors, users should never encounter this\n        this.crypto = (0,_lib_crypto_crypto_augment_js__WEBPACK_IMPORTED_MODULE_2__.augmentCrypto)(config.crypto, {\n            deepHash: _lib_deepHash_js__WEBPACK_IMPORTED_MODULE_3__.DeepHash\n        });\n        this.deepHash = this.crypto.deepHash;\n        const apiConfig = config.gateways ? Array.isArray(config.gateways) ? config.gateways : [\n            config.gateways\n        ] : undefined;\n        this.api = new _lib_fallbackApi_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n            gateways: apiConfig,\n            miners: config.miners\n        });\n        this.wallets = new _wallets_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"](this.api, this.crypto);\n        this.chunks = new _chunks_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.api);\n        this.network = new _network_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"](this.api);\n        this.blocks = new _blocks_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.api, this.network);\n        this.merkle = new _lib_merkle_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]({\n            deps: {\n                crypto: this.crypto\n            }\n        });\n        this.transactions = new _transactions_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({\n            deps: {\n                api: this.api,\n                crypto: config.crypto,\n                chunks: this.chunks,\n                merkle: this.merkle,\n                deepHash: this.deepHash\n            }\n        });\n    }\n    get utils() {\n        return Arweave.utils;\n    }\n    getConfig() {\n        return this.config;\n    }\n    async createTransaction(attributes, jwk) {\n        const transaction = {};\n        Object.assign(transaction, attributes);\n        if (!attributes.data && !(attributes.target && attributes.quantity)) {\n            throw new Error(`A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.`);\n        }\n        if (attributes.owner == undefined) {\n            if (jwk && jwk !== \"use_wallet\") {\n                transaction.owner = jwk.n;\n            }\n        }\n        if (attributes.last_tx == undefined) {\n            transaction.last_tx = await this.transactions.getTransactionAnchor();\n        }\n        if (typeof attributes.data === \"string\") {\n            attributes.data = _lib_utils_js__WEBPACK_IMPORTED_MODULE_7__.stringToBuffer(attributes.data);\n        }\n        if (attributes.data instanceof ArrayBuffer) {\n            attributes.data = new Uint8Array(attributes.data);\n        }\n        if (attributes.data && !(attributes.data instanceof Uint8Array)) {\n            throw new Error(\"Expected data to be a string, Uint8Array or ArrayBuffer\");\n        }\n        if (attributes.reward == undefined) {\n            const length = attributes.data ? attributes.data.byteLength : 0;\n            transaction.reward = await this.transactions.getPrice(length, transaction.target);\n        }\n        // here we should call prepare chunk\n        transaction.data_root = \"\";\n        transaction.data_size = attributes.data ? attributes.data.byteLength.toString() : \"0\";\n        transaction.data = attributes.data || new Uint8Array(0);\n        const createdTransaction = new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n            attributes: transaction,\n            deps: {\n                merkle: this.merkle,\n                deepHash: this.deepHash\n            }\n        });\n        await createdTransaction.getSignatureData();\n        return createdTransaction;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Arweave); //# sourceMappingURL=arweave.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2Fyd2VhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHlCQUF5QjtBQUNRO0FBQ0E7QUFDOEI7QUFDbEI7QUFDRTtBQUNWO0FBQ1U7QUFDQTtBQUNaO0FBQ1U7QUFDVjtBQUM1QixNQUFNVzs7YUFTRkMsUUFBUUwsMENBQVlBOzs7YUFJcEJNLFVBQVU7O0lBQ2pCQyxZQUFZQyxNQUFNLENBQUU7UUFDaEIsSUFBSSxDQUFDQSxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQSxPQUFPQyxNQUFNLEVBQ2QsTUFBTSxJQUFJQyxNQUFNLENBQUMseUJBQXlCLENBQUMsR0FBRyxpR0FBaUc7UUFDbkosSUFBSSxDQUFDRCxNQUFNLEdBQUdkLDRFQUFhQSxDQUFDYSxPQUFPQyxNQUFNLEVBQUU7WUFBRUUsVUFBVWYsc0RBQVFBO1FBQUM7UUFDaEUsSUFBSSxDQUFDZSxRQUFRLEdBQUcsSUFBSSxDQUFDRixNQUFNLENBQUNFLFFBQVE7UUFDcEMsTUFBTUMsWUFBWUosT0FBT0ssUUFBUSxHQUFJQyxNQUFNQyxPQUFPLENBQUNQLE9BQU9LLFFBQVEsSUFBSUwsT0FBT0ssUUFBUSxHQUFHO1lBQUNMLE9BQU9LLFFBQVE7U0FBQyxHQUFJRztRQUM3RyxJQUFJLENBQUNDLEdBQUcsR0FBRyxJQUFJcEIsMkRBQVdBLENBQUM7WUFBRWdCLFVBQVVEO1lBQVdNLFFBQVFWLE9BQU9VLE1BQU07UUFBQztRQUN4RSxJQUFJLENBQUNDLE9BQU8sR0FBRyxJQUFJaEIsb0RBQU9BLENBQUMsSUFBSSxDQUFDYyxHQUFHLEVBQUUsSUFBSSxDQUFDUixNQUFNO1FBQ2hELElBQUksQ0FBQ1csTUFBTSxHQUFHLElBQUkxQixrREFBTUEsQ0FBQyxJQUFJLENBQUN1QixHQUFHO1FBQ2pDLElBQUks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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS9jb21tb24vYXJ3ZWF2ZS5qcz9lYzhiIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBBciBmcm9tIFwiLi9hclwiO1xuaW1wb3J0IEJsb2NrcyBmcm9tIFwiLi9ibG9ja3MuanNcIjtcbmltcG9ydCBDaHVua3MgZnJvbSBcIi4vY2h1bmtzLmpzXCI7XG5pbXBvcnQgeyBhdWdtZW50Q3J5cHRvIH0gZnJvbSBcIi4vbGliL2NyeXB0by9jcnlwdG8tYXVnbWVudC5qc1wiO1xuaW1wb3J0IHsgRGVlcEhhc2ggfSBmcm9tIFwiLi9saWIvZGVlcEhhc2guanNcIjtcbmltcG9ydCBGYWxsYmFja0FwaSBmcm9tIFwiLi9saWIvZmFsbGJhY2tBcGkuanNcIjtcbmltcG9ydCBNZXJrbGUgZnJvbSBcIi4vbGliL21lcmtsZS5qc1wiO1xuaW1wb3J0IFRyYW5zYWN0aW9uIGZyb20gXCIuL2xpYi90cmFuc2FjdGlvbi5qc1wiO1xuaW1wb3J0ICogYXMgQXJ3ZWF2ZVV0aWxzIGZyb20gXCIuL2xpYi91dGlscy5qc1wiO1xuaW1wb3J0IE5ldHdvcmsgZnJvbSBcIi4vbmV0d29yay5qc1wiO1xuaW1wb3J0IFRyYW5zYWN0aW9ucyBmcm9tIFwiLi90cmFuc2FjdGlvbnMuanNcIjtcbmltcG9ydCBXYWxsZXRzIGZyb20gXCIuL3dhbGxldHMuanNcIjtcbmV4cG9ydCBjbGFzcyBBcndlYXZlIHtcbiAgICBjb25maWc7XG4gICAgYXBpO1xuICAgIHdhbGxldHM7XG4gICAgdHJhbnNhY3Rpb25zO1xuICAgIG5ldHdvcms7XG4gICAgYmxvY2tzO1xuICAgIGNodW5rcztcbiAgICBzdGF0aWMgaW5pdDtcbiAgICBzdGF0aWMgdXRpbHMgPSBBcndlYXZlVXRpbHM7XG4gICAgY3J5cHRvO1xuICAgIGRlZXBIYXNoO1xuICAgIG1lcmtsZTtcbiAgICBzdGF0aWMgVkVSU0lPTiA9IFwiMC4wLjFcIjtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIGlmICghY29uZmlnLmNyeXB0bylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY29uZmlnLmNyeXB0byBpcyByZXF1aXJlZGApOyAvLyBgY3J5cHRvYCBpcyBhdXRvbWF0aWNhbGx5IGFkZGVkIGJ5IHRoZSB3cmFwcGVyIGNvbnN0cnVjdG9ycywgdXNlcnMgc2hvdWxkIG5ldmVyIGVuY291bnRlciB0aGlzXG4gICAgICAgIHRoaXMuY3J5cHRvID0gYXVnbWVudENyeXB0byhjb25maWcuY3J5cHRvLCB7IGRlZXBIYXNoOiBEZWVwSGFzaCB9KTtcbiAgICAgICAgdGhpcy5kZWVwSGFzaCA9IHRoaXMuY3J5cHRvLmRlZXBIYXNoO1xuICAgICAgICBjb25zdCBhcGlDb25maWcgPSBjb25maWcuZ2F0ZXdheXMgPyAoQXJyYXkuaXNBcnJheShjb25maWcuZ2F0ZXdheXMpID8gY29uZmlnLmdhdGV3YXlzIDogW2NvbmZpZy5nYXRld2F5c10pIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmFwaSA9IG5ldyBGYWxsYmFja0FwaSh7IGdhdGV3YXlzOiBhcGlDb25maWcsIG1pbmVyczogY29uZmlnLm1pbmVycyB9KTtcbiAgICAgICAgdGhpcy53YWxsZXRzID0gbmV3IFdhbGxldHModGhpcy5hcGksIHRoaXMuY3J5cHRvKTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBuZXcgQ2h1bmtzKHRoaXMuYXBpKTtcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmsodGhpcy5hcGkpO1xuICAgICAgICB0aGlzLmJsb2NrcyA9IG5ldyBCbG9ja3ModGhpcy5hcGksIHRoaXMubmV0d29yayk7XG4gICAgICAgIHRoaXMubWVya2xlID0gbmV3IE1lcmtsZSh7IGRlcHM6IHsgY3J5cHRvOiB0aGlzLmNyeXB0byB9IH0pO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbnMoe1xuICAgICAgICAgICAgZGVwczogeyBhcGk6IHRoaXMuYXBpLCBjcnlwdG86IGNvbmZpZy5jcnlwdG8sIGNodW5rczogdGhpcy5jaHVua3MsIG1lcmtsZTogdGhpcy5tZXJrbGUsIGRlZXBIYXNoOiB0aGlzLmRlZXBIYXNoIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgdXRpbHMoKSB7XG4gICAgICAgIHJldHVybiBBcndlYXZlLnV0aWxzO1xuICAgIH1cbiAgICBnZXRDb25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlVHJhbnNhY3Rpb24oYXR0cmlidXRlcywgandrKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge307XG4gICAgICAgIE9iamVjdC5hc3NpZ24odHJhbnNhY3Rpb24sIGF0dHJpYnV0ZXMpO1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuZGF0YSAmJiAhKGF0dHJpYnV0ZXMudGFyZ2V0ICYmIGF0dHJpYnV0ZXMucXVhbnRpdHkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgbmV3IEFyd2VhdmUgdHJhbnNhY3Rpb24gbXVzdCBoYXZlIGEgJ2RhdGEnIHZhbHVlLCBvciAndGFyZ2V0JyBhbmQgJ3F1YW50aXR5JyB2YWx1ZXMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMub3duZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoandrICYmIGp3ayAhPT0gXCJ1c2Vfd2FsbGV0XCIpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vd25lciA9IGp3ay5uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmxhc3RfdHggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5sYXN0X3R4ID0gYXdhaXQgdGhpcy50cmFuc2FjdGlvbnMuZ2V0VHJhbnNhY3Rpb25BbmNob3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5kYXRhID0gQXJ3ZWF2ZVV0aWxzLnN0cmluZ1RvQnVmZmVyKGF0dHJpYnV0ZXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmRhdGEgPSBuZXcgVWludDhBcnJheShhdHRyaWJ1dGVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmRhdGEgJiYgIShhdHRyaWJ1dGVzLmRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgZGF0YSB0byBiZSBhIHN0cmluZywgVWludDhBcnJheSBvciBBcnJheUJ1ZmZlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlcy5yZXdhcmQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBhdHRyaWJ1dGVzLmRhdGEgPyBhdHRyaWJ1dGVzLmRhdGEuYnl0ZUxlbmd0aCA6IDA7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5yZXdhcmQgPSBhd2FpdCB0aGlzLnRyYW5zYWN0aW9ucy5nZXRQcmljZShsZW5ndGgsIHRyYW5zYWN0aW9uLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGVyZSB3ZSBzaG91bGQgY2FsbCBwcmVwYXJlIGNodW5rXG4gICAgICAgIHRyYW5zYWN0aW9uLmRhdGFfcm9vdCA9IFwiXCI7XG4gICAgICAgIHRyYW5zYWN0aW9uLmRhdGFfc2l6ZSA9IGF0dHJpYnV0ZXMuZGF0YSA/IGF0dHJpYnV0ZXMuZGF0YS5ieXRlTGVuZ3RoLnRvU3RyaW5nKCkgOiBcIjBcIjtcbiAgICAgICAgdHJhbnNhY3Rpb24uZGF0YSA9IGF0dHJpYnV0ZXMuZGF0YSB8fCBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgY29uc3QgY3JlYXRlZFRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRyYW5zYWN0aW9uLFxuICAgICAgICAgICAgZGVwczogeyBtZXJrbGU6IHRoaXMubWVya2xlLCBkZWVwSGFzaDogdGhpcy5kZWVwSGFzaCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgY3JlYXRlZFRyYW5zYWN0aW9uLmdldFNpZ25hdHVyZURhdGEoKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZWRUcmFuc2FjdGlvbjtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBBcndlYXZlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJ3ZWF2ZS5qcy5tYXAiXSwibmFtZXMiOlsiQmxvY2tzIiwiQ2h1bmtzIiwiYXVnbWVudENyeXB0byIsIkRlZXBIYXNoIiwiRmFsbGJhY2tBcGkiLCJNZXJrbGUiLCJUcmFuc2FjdGlvbiIsIkFyd2VhdmVVdGlscyIsIk5ldHdvcmsiLCJUcmFuc2FjdGlvbnMiLCJXYWxsZXRzIiwiQXJ3ZWF2ZSIsInV0aWxzIiwiVkVSU0lPTiIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiY3J5cHRvIiwiRXJyb3IiLCJkZWVwSGFzaCIsImFwaUNvbmZpZyIsImdhdGV3YXlzIiwiQXJyYXkiLCJpc0FycmF5IiwidW5kZWZpbmVkIiwiYXBpIiwibWluZXJzIiwid2FsbGV0cyIsImNodW5rcyIsIm5ldHdvcmsiLCJibG9ja3MiLCJtZXJrbGUiLCJkZXBzIiwidHJhbnNhY3Rpb25zIiwiZ2V0Q29uZmlnIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJhdHRyaWJ1dGVzIiwiandrIiwidHJhbnNhY3Rpb24iLCJPYmplY3QiLCJhc3NpZ24iLCJkYXRhIiwidGFyZ2V0IiwicXVhbnRpdHkiLCJvd25lciIsIm4iLCJsYXN0X3R4IiwiZ2V0VHJhbnNhY3Rpb25BbmNob3IiLCJzdHJpbmdUb0J1ZmZlciIsIkFycmF5QnVmZmVyIiwiVWludDhBcnJheSIsInJld2FyZCIsImxlbmd0aCIsImJ5dGVMZW5ndGgiLCJnZXRQcmljZSIsImRhdGFfcm9vdCIsImRhdGFfc2l6ZSIsInRvU3RyaW5nIiwiY3JlYXRlZFRyYW5zYWN0aW9uIiwiZ2V0U2lnbmF0dXJlRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/blocks.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/blocks.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Blocks)\n/* harmony export */ });\n/* harmony import */ var _lib_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/error.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js\");\n/* eslint-disable @typescript-eslint/naming-convention */ \nclass Blocks {\n    constructor(api, network){\n        this.api = api;\n        this.network = network;\n    }\n    /**\n     * Gets a block by its \"indep_hash\"\n     */ async getByHash(indepHash) {\n        const response = await this.api.get(`block/hash/${indepHash}`);\n        if (response.status === 200) {\n            return response.data;\n        } else {\n            if (response.status === 404) {\n                throw new _lib_error_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"BLOCK_NOT_FOUND\" /* ArweaveErrorType.BLOCK_NOT_FOUND */ );\n            } else {\n                throw new Error(`Error while loading block data: ${response}`);\n            }\n        }\n    }\n    /**\n     * Gets a block by its \"indep_hash\"\n     */ async getByHeight(height) {\n        const response = await this.api.get(`block/height/${height}`);\n        if (response.status === 200) {\n            return response.data;\n        } else {\n            if (response.status === 404) {\n                throw new _lib_error_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"BLOCK_NOT_FOUND\" /* ArweaveErrorType.BLOCK_NOT_FOUND */ );\n            } else {\n                throw new Error(`Error while loading block data: ${response}`);\n            }\n        }\n    }\n    /**\n     * Gets current block data (ie. block with indep_hash = Network.getInfo().current)\n     */ async getCurrent() {\n        const { current } = await this.network.getInfo();\n        return await this.getByHash(current);\n    }\n} //# sourceMappingURL=blocks.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2Jsb2Nrcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHVEQUF1RCxHQUNiO0FBQzNCLE1BQU1DO0lBR2pCQyxZQUFZQyxHQUFHLEVBQUVDLE9BQU8sQ0FBRTtRQUN0QixJQUFJLENBQUNELEdBQUcsR0FBR0E7UUFDWCxJQUFJLENBQUNDLE9BQU8sR0FBR0E7SUFDbkI7SUFDQTs7S0FFQyxHQUNELE1BQU1DLFVBQVVDLFNBQVMsRUFBRTtRQUN2QixNQUFNQyxXQUFXLE1BQU0sSUFBSSxDQUFDSixHQUFHLENBQUNLLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRUYsVUFBVSxDQUFDO1FBQzdELElBQUlDLFNBQVNFLE1BQU0sS0FBSyxLQUFLO1lBQ3pCLE9BQU9GLFNBQVNHLElBQUk7UUFDeEIsT0FDSztZQUNELElBQUlILFNBQVNFLE1BQU0sS0FBSyxLQUFLO2dCQUN6QixNQUFNLElBQUlULHFEQUFZQSxDQUFDLGtCQUFrQixvQ0FBb0M7WUFDakYsT0FDSztnQkFDRCxNQUFNLElBQUlXLE1BQU0sQ0FBQyxnQ0FBZ0MsRUFBRUosU0FBUyxDQUFDO1lBQ2pFO1FBQ0o7SUFDSjtJQUNBOztLQUVDLEdBQ0QsTUFBTUssWUFBWUMsTUFBTSxFQUFFO1FBQ3RCLE1BQU1OLFdBQVcsTUFBTSxJQUFJLENBQUNKLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFSyxPQUFPLENBQUM7UUFDNUQsSUFBSU4sU0FBU0UsTUFBTSxLQUFLLEtBQUs7WUFDekIsT0FBT0YsU0FBU0csSUFBSTtRQUN4QixPQUNLO1lBQ0QsSUFBSUgsU0FBU0UsTUFBTSxLQUFLLEtBQUs7Z0JBQ3pCLE1BQU0sSUFBSVQscURBQVlBLENBQUMsa0JBQWtCLG9DQUFvQztZQUNqRixPQUNLO2dCQUNELE1BQU0sSUFBSVcsTUFBTSxDQUFDLGdDQUFnQyxFQUFFSixTQUFTLENBQUM7WUFDakU7UUFDSjtJQUNKO0lBQ0E7O0tBRUMsR0FDRCxNQUFNTyxhQUFhO1FBQ2YsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQ1gsT0FBTyxDQUFDWSxPQUFPO1FBQzlDLE9BQU8sTUFBTSxJQUFJLENBQUNYLFNBQVMsQ0FBQ1U7SUFDaEM7QUFDSixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2Jsb2Nrcy5qcz8wYzg1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvbiAqL1xuaW1wb3J0IEFyd2VhdmVFcnJvciBmcm9tIFwiLi9saWIvZXJyb3IuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsb2NrcyB7XG4gICAgYXBpO1xuICAgIG5ldHdvcms7XG4gICAgY29uc3RydWN0b3IoYXBpLCBuZXR3b3JrKSB7XG4gICAgICAgIHRoaXMuYXBpID0gYXBpO1xuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXR3b3JrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgYmxvY2sgYnkgaXRzIFwiaW5kZXBfaGFzaFwiXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QnlIYXNoKGluZGVwSGFzaCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpLmdldChgYmxvY2svaGFzaC8ke2luZGVwSGFzaH1gKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBcndlYXZlRXJyb3IoXCJCTE9DS19OT1RfRk9VTkRcIiAvKiBBcndlYXZlRXJyb3JUeXBlLkJMT0NLX05PVF9GT1VORCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHdoaWxlIGxvYWRpbmcgYmxvY2sgZGF0YTogJHtyZXNwb25zZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgYmxvY2sgYnkgaXRzIFwiaW5kZXBfaGFzaFwiXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QnlIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5hcGkuZ2V0KGBibG9jay9oZWlnaHQvJHtoZWlnaHR9YCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXJ3ZWF2ZUVycm9yKFwiQkxPQ0tfTk9UX0ZPVU5EXCIgLyogQXJ3ZWF2ZUVycm9yVHlwZS5CTE9DS19OT1RfRk9VTkQgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciB3aGlsZSBsb2FkaW5nIGJsb2NrIGRhdGE6ICR7cmVzcG9uc2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBjdXJyZW50IGJsb2NrIGRhdGEgKGllLiBibG9jayB3aXRoIGluZGVwX2hhc2ggPSBOZXR3b3JrLmdldEluZm8oKS5jdXJyZW50KVxuICAgICAqL1xuICAgIGFzeW5jIGdldEN1cnJlbnQoKSB7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudCB9ID0gYXdhaXQgdGhpcy5uZXR3b3JrLmdldEluZm8oKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0QnlIYXNoKGN1cnJlbnQpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2Nrcy5qcy5tYXAiXSwibmFtZXMiOlsiQXJ3ZWF2ZUVycm9yIiwiQmxvY2tzIiwiY29uc3RydWN0b3IiLCJhcGkiLCJuZXR3b3JrIiwiZ2V0QnlIYXNoIiwiaW5kZXBIYXNoIiwicmVzcG9uc2UiLCJnZXQiLCJzdGF0dXMiLCJkYXRhIiwiRXJyb3IiLCJnZXRCeUhlaWdodCIsImhlaWdodCIsImdldEN1cnJlbnQiLCJjdXJyZW50IiwiZ2V0SW5mbyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/blocks.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/chunks.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/chunks.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Chunks)\n/* harmony export */ });\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bignumber.js */ \"(ssr)/./node_modules/.pnpm/bignumber.js@9.3.0/node_modules/bignumber.js/bignumber.mjs\");\n/* harmony import */ var _lib_error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/error.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/* harmony import */ var _lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/merkle.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js\");\n\n\n\n\nclass Chunks {\n    constructor(api){\n        this.api = api;\n    }\n    async getTransactionMetadata(id) {\n        const resp = await this.api.get(`tx/${id}/offset`);\n        if (resp.status === 200) {\n            return resp.data;\n        }\n        throw new Error(`Unable to get transaction offset: ${(0,_lib_error_js__WEBPACK_IMPORTED_MODULE_1__.getError)(resp)}`);\n    }\n    async getChunk(offset) {\n        const resp = await this.api.get(`chunk/${offset}`);\n        if (resp.status === 200) {\n            return resp.data;\n        }\n        throw new Error(`Unable to get chunk: ${(0,_lib_error_js__WEBPACK_IMPORTED_MODULE_1__.getError)(resp)}`);\n    }\n    async getChunkData(offset) {\n        const chunk = await this.getChunk(offset);\n        const buf = _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__.b64UrlToBuffer(chunk.chunk);\n        return buf;\n    }\n    firstChunkOffset(offsetResponse) {\n        return parseInt(offsetResponse.offset) - parseInt(offsetResponse.size) + 1;\n    }\n    /**\n     * Downloads chunks from the configured API peers, with a default concurrency of 10\n     * @param id - ID of the transaction to download\n     * @param options - Options object for configuring the downloader\n     * @param options.concurrency - The number of chunks to download simultaneously. reduce on slower connections.\n     * @returns\n     */ async downloadChunkedData(id, options) {\n        const offsetResponse = await this.getTransactionMetadata(id);\n        const size = parseInt(offsetResponse.size);\n        const data = new Uint8Array(size);\n        let byte = 0;\n        for await (const chunkData of this.concurrentChunkDownloader(id, options)){\n            data.set(chunkData, byte);\n            byte += chunkData.length;\n        }\n        return data;\n    }\n    async *concurrentChunkDownloader(id, options) {\n        const opts = {\n            concurrency: 10,\n            ...options\n        };\n        const metadata = await this.getTransactionMetadata(id);\n        // use big numbers for safety\n        const endOffset = new bignumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](metadata.offset);\n        const size = new bignumber_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](metadata.size);\n        const startOffset = endOffset.minus(size).plus(1);\n        let processedBytes = 0;\n        const chunks = Math.ceil(size.dividedBy(_lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__.MAX_CHUNK_SIZE).toNumber());\n        const downloadData = (offset)=>this.getChunkData(offset.toString()).then((r)=>{\n                processedBytes += r.length;\n                return r;\n            });\n        const processing = [];\n        // only parallelise everything except last two chunks.\n        // last two due to merkle rebalancing due to minimum chunk size, see https://github.com/ArweaveTeam/arweave-js/blob/ce441f8d4e66a2524cfe86bbbcaed34b887ba193/src/common/lib/merkle.ts#LL53C19-L53C19\n        const parallelChunks = chunks - 2;\n        const concurrency = Math.min(parallelChunks, opts.concurrency);\n        let currChunk = 0;\n        // logger.debug(`[downloadTx] Tx ${txId} start ${startOffset} size ${size} chunks ${chunks} concurrency ${concurrency}`);\n        for(let i = 0; i < concurrency; i++)processing.push(downloadData(startOffset.plus(_lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__.MAX_CHUNK_SIZE * currChunk++)));\n        while(currChunk < parallelChunks){\n            processing.push(downloadData(startOffset.plus(_lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__.MAX_CHUNK_SIZE * currChunk++)));\n            // yield await so that processedBytes works properly\n            yield processing.shift();\n        }\n        while(processing.length > 0)yield processing.shift();\n        yield downloadData(startOffset.plus(_lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__.MAX_CHUNK_SIZE * currChunk++));\n        if (size.isGreaterThan(processedBytes)) yield downloadData(startOffset.plus(_lib_merkle_js__WEBPACK_IMPORTED_MODULE_3__.MAX_CHUNK_SIZE * currChunk++));\n        if (!size.isEqualTo(processedBytes)) throw new Error(`got ${processedBytes}B, expected ${size.toString()}B`);\n        return;\n    }\n} //# sourceMappingURL=chunks.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2NodW5rcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxQztBQUNLO0FBQ0s7QUFDRTtBQUNsQyxNQUFNSTtJQUVqQkMsWUFBWUMsR0FBRyxDQUFFO1FBQ2IsSUFBSSxDQUFDQSxHQUFHLEdBQUdBO0lBQ2Y7SUFDQSxNQUFNQyx1QkFBdUJDLEVBQUUsRUFBRTtRQUM3QixNQUFNQyxPQUFPLE1BQU0sSUFBSSxDQUFDSCxHQUFHLENBQUNJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRUYsR0FBRyxPQUFPLENBQUM7UUFDakQsSUFBSUMsS0FBS0UsTUFBTSxLQUFLLEtBQUs7WUFDckIsT0FBT0YsS0FBS0csSUFBSTtRQUNwQjtRQUNBLE1BQU0sSUFBSUMsTUFBTSxDQUFDLGtDQUFrQyxFQUFFWix1REFBUUEsQ0FBQ1EsTUFBTSxDQUFDO0lBQ3pFO0lBQ0EsTUFBTUssU0FBU0MsTUFBTSxFQUFFO1FBQ25CLE1BQU1OLE9BQU8sTUFBTSxJQUFJLENBQUNILEdBQUcsQ0FBQ0ksR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFSyxPQUFPLENBQUM7UUFDakQsSUFBSU4sS0FBS0UsTUFBTSxLQUFLLEtBQUs7WUFDckIsT0FBT0YsS0FBS0csSUFBSTtRQUNwQjtRQUNBLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHFCQUFxQixFQUFFWix1REFBUUEsQ0FBQ1EsTUFBTSxDQUFDO0lBQzVEO0lBQ0EsTUFBTU8sYUFBYUQsTUFBTSxFQUFFO1FBQ3ZCLE1BQU1FLFFBQVEsTUFBTSxJQUFJLENBQUNILFFBQVEsQ0FBQ0M7UUFDbEMsTUFBTUcsTUFBTWhCLHlEQUEyQixDQUFDZSxNQUFNQSxLQUFLO1FBQ25ELE9BQU9DO0lBQ1g7SUFDQUUsaUJBQWlCQyxjQUFjLEVBQUU7UUFDN0IsT0FBT0MsU0FBU0QsZUFBZU4sTUFBTSxJQUFJTyxTQUFTRCxlQUFlRSxJQUFJLElBQUk7SUFDN0U7SUFDQTs7Ozs7O0tBTUMsR0FDRCxNQUFNQyxvQkFBb0JoQixFQUFFLEVBQUVpQixPQUFPLEVBQUU7UUFDbkMsTUFBTUosaUJBQWlCLE1BQU0sSUFBSSxDQUFDZCxzQkFBc0IsQ0FBQ0M7UUFDekQsTUFBTWUsT0FBT0QsU0FBU0QsZUFBZUUsSUFBSTtRQUN6QyxNQUFNWCxPQUFPLElBQUljLFdBQVdIO1FBQzVCLElBQUlJLE9BQU87UUFDWCxXQUFXLE1BQU1DLGFBQWEsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQ3JCLElBQUlpQixTQUFVO1lBQ3ZFYixLQUFLa0IsR0FBRyxDQUFDRixXQUFXRDtZQUNwQkEsUUFBUUMsVUFBVUcsTUFBTTtRQUM1QjtRQUNBLE9BQU9uQjtJQUNYO0lBQ0EsT0FBT2lCLDBCQUEwQnJCLEVBQUUsRUFBRWlCLE9BQU8sRUFBRTtRQUMxQyxNQUFNTyxPQUFPO1lBQUVDLGFBQWE7WUFBSSxHQUFHUixPQUFPO1FBQUM7UUFDM0MsTUFBTVMsV0FBVyxNQUFNLElBQUksQ0FBQzNCLHNCQUFzQixDQUFDQztRQUNuRCw2QkFBNkI7UUFDN0IsTUFBTTJCLFlBQVksSUFBSW5DLG9EQUFTQSxDQUFDa0MsU0FBU25CLE1BQU07UUFDL0MsTUFBTVEsT0FBTyxJQUFJdkIsb0RBQVNBLENBQUNrQyxTQUFTWCxJQUFJO1FBQ3hDLE1BQU1hLGNBQWNELFVBQVVFLEtBQUssQ0FBQ2QsTUFBTWUsSUFBSSxDQUFDO1FBQy9DLElBQUlDLGlCQUFpQjtRQUNyQixNQUFNQyxTQUFTQyxLQUFLQyxJQUFJLENBQUNuQixLQUFLb0IsU0FBUyxDQUFDeEMsMERBQWNBLEVBQUV5QyxRQUFRO1FBQ2hFLE1BQU1DLGVBQWUsQ0FBQzlCLFNBQVcsSUFBSSxDQUFDQyxZQUFZLENBQUNELE9BQU8rQixRQUFRLElBQUlDLElBQUksQ0FBQyxDQUFDQztnQkFDeEVULGtCQUFrQlMsRUFBRWpCLE1BQU07Z0JBQzFCLE9BQU9pQjtZQUNYO1FBQ0EsTUFBTUMsYUFBYSxFQUFFO1FBQ3JCLHNEQUFzRDtRQUN0RCxvTUFBb007UUFDcE0sTUFBTUMsaUJBQWlCVixTQUFTO1FBQ2hDLE1BQU1QLGNBQWNRLEtBQUtVLEdBQUcsQ0FBQ0QsZ0JBQWdCbEIsS0FBS0MsV0FBVztRQUM3RCxJQUFJbUIsWUFBWTtRQUNoQix5SEFBeUg7UUFDekgsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlwQixhQUFhb0IsSUFDN0JKLFdBQVdLLElBQUksQ0FBQ1QsYUFBYVQsWUFBWUUsSUFBSSxDQUFDbkMsMERBQWNBLEdBQUdpRDtRQUNuRSxNQUFPQSxZQUFZRixlQUFnQjtZQUMvQkQsV0FBV0ssSUFBSSxDQUFDVCxhQUFhVCxZQUFZRSxJQUFJLENBQUNuQywwREFBY0EsR0FBR2lEO1lBQy9ELG9EQUFvRDtZQUNwRCxNQUFNSCxXQUFXTSxLQUFLO1FBQzFCO1FBQ0EsTUFBT04sV0FBV2xCLE1BQU0sR0FBRyxFQUN2QixNQUFNa0IsV0FBV00sS0FBSztRQUMxQixNQUFNVixhQUFhVCxZQUFZRSxJQUFJLENBQUNuQywwREFBY0EsR0FBR2lEO1FBQ3JELElBQUk3QixLQUFLaUMsYUFBYSxDQUFDakIsaUJBQ25CLE1BQU1NLGFBQWFULFlBQVlFLElBQUksQ0FBQ25DLDBEQUFjQSxHQUFHaUQ7UUFDekQsSUFBSSxDQUFDN0IsS0FBS2tDLFNBQVMsQ0FBQ2xCLGlCQUNoQixNQUFNLElBQUkxQixNQUFNLENBQUMsSUFBSSxFQUFFMEIsZUFBZSxZQUFZLEVBQUVoQixLQUFLdUIsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUMxRTtJQUNKO0FBQ0osRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9jaHVua3MuanM/ZGI3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcbmltcG9ydCB7IGdldEVycm9yIH0gZnJvbSBcIi4vbGliL2Vycm9yLmpzXCI7XG5pbXBvcnQgKiBhcyBBcndlYXZlVXRpbHMgZnJvbSBcIi4vbGliL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBNQVhfQ0hVTktfU0laRSB9IGZyb20gXCIuL2xpYi9tZXJrbGUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENodW5rcyB7XG4gICAgYXBpO1xuICAgIGNvbnN0cnVjdG9yKGFwaSkge1xuICAgICAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0VHJhbnNhY3Rpb25NZXRhZGF0YShpZCkge1xuICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy5hcGkuZ2V0KGB0eC8ke2lkfS9vZmZzZXRgKTtcbiAgICAgICAgaWYgKHJlc3Auc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZ2V0IHRyYW5zYWN0aW9uIG9mZnNldDogJHtnZXRFcnJvcihyZXNwKX1gKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0Q2h1bmsob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLmFwaS5nZXQoYGNodW5rLyR7b2Zmc2V0fWApO1xuICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3AuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBnZXQgY2h1bms6ICR7Z2V0RXJyb3IocmVzcCl9YCk7XG4gICAgfVxuICAgIGFzeW5jIGdldENodW5rRGF0YShvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgY2h1bmsgPSBhd2FpdCB0aGlzLmdldENodW5rKG9mZnNldCk7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IEFyd2VhdmVVdGlscy5iNjRVcmxUb0J1ZmZlcihjaHVuay5jaHVuayk7XG4gICAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICAgIGZpcnN0Q2h1bmtPZmZzZXQob2Zmc2V0UmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG9mZnNldFJlc3BvbnNlLm9mZnNldCkgLSBwYXJzZUludChvZmZzZXRSZXNwb25zZS5zaXplKSArIDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvd25sb2FkcyBjaHVua3MgZnJvbSB0aGUgY29uZmlndXJlZCBBUEkgcGVlcnMsIHdpdGggYSBkZWZhdWx0IGNvbmN1cnJlbmN5IG9mIDEwXG4gICAgICogQHBhcmFtIGlkIC0gSUQgb2YgdGhlIHRyYW5zYWN0aW9uIHRvIGRvd25sb2FkXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIG9iamVjdCBmb3IgY29uZmlndXJpbmcgdGhlIGRvd25sb2FkZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb25jdXJyZW5jeSAtIFRoZSBudW1iZXIgb2YgY2h1bmtzIHRvIGRvd25sb2FkIHNpbXVsdGFuZW91c2x5LiByZWR1Y2Ugb24gc2xvd2VyIGNvbm5lY3Rpb25zLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgZG93bmxvYWRDaHVua2VkRGF0YShpZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBvZmZzZXRSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0VHJhbnNhY3Rpb25NZXRhZGF0YShpZCk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBwYXJzZUludChvZmZzZXRSZXNwb25zZS5zaXplKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICBsZXQgYnl0ZSA9IDA7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmtEYXRhIG9mIHRoaXMuY29uY3VycmVudENodW5rRG93bmxvYWRlcihpZCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgIGRhdGEuc2V0KGNodW5rRGF0YSwgYnl0ZSk7XG4gICAgICAgICAgICBieXRlICs9IGNodW5rRGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGFzeW5jICpjb25jdXJyZW50Q2h1bmtEb3dubG9hZGVyKGlkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7IGNvbmN1cnJlbmN5OiAxMCwgLi4ub3B0aW9ucyB9O1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IHRoaXMuZ2V0VHJhbnNhY3Rpb25NZXRhZGF0YShpZCk7XG4gICAgICAgIC8vIHVzZSBiaWcgbnVtYmVycyBmb3Igc2FmZXR5XG4gICAgICAgIGNvbnN0IGVuZE9mZnNldCA9IG5ldyBCaWdOdW1iZXIobWV0YWRhdGEub2Zmc2V0KTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBCaWdOdW1iZXIobWV0YWRhdGEuc2l6ZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gZW5kT2Zmc2V0Lm1pbnVzKHNpemUpLnBsdXMoMSk7XG4gICAgICAgIGxldCBwcm9jZXNzZWRCeXRlcyA9IDA7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IE1hdGguY2VpbChzaXplLmRpdmlkZWRCeShNQVhfQ0hVTktfU0laRSkudG9OdW1iZXIoKSk7XG4gICAgICAgIGNvbnN0IGRvd25sb2FkRGF0YSA9IChvZmZzZXQpID0+IHRoaXMuZ2V0Q2h1bmtEYXRhKG9mZnNldC50b1N0cmluZygpKS50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICBwcm9jZXNzZWRCeXRlcyArPSByLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc2luZyA9IFtdO1xuICAgICAgICAvLyBvbmx5IHBhcmFsbGVsaXNlIGV2ZXJ5dGhpbmcgZXhjZXB0IGxhc3QgdHdvIGNodW5rcy5cbiAgICAgICAgLy8gbGFzdCB0d28gZHVlIHRvIG1lcmtsZSByZWJhbGFuY2luZyBkdWUgdG8gbWluaW11bSBjaHVuayBzaXplLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0Fyd2VhdmVUZWFtL2Fyd2VhdmUtanMvYmxvYi9jZTQ0MWY4ZDRlNjZhMjUyNGNmZTg2YmJiY2FlZDM0Yjg4N2JhMTkzL3NyYy9jb21tb24vbGliL21lcmtsZS50cyNMTDUzQzE5LUw1M0MxOVxuICAgICAgICBjb25zdCBwYXJhbGxlbENodW5rcyA9IGNodW5rcyAtIDI7XG4gICAgICAgIGNvbnN0IGNvbmN1cnJlbmN5ID0gTWF0aC5taW4ocGFyYWxsZWxDaHVua3MsIG9wdHMuY29uY3VycmVuY3kpO1xuICAgICAgICBsZXQgY3VyckNodW5rID0gMDtcbiAgICAgICAgLy8gbG9nZ2VyLmRlYnVnKGBbZG93bmxvYWRUeF0gVHggJHt0eElkfSBzdGFydCAke3N0YXJ0T2Zmc2V0fSBzaXplICR7c2l6ZX0gY2h1bmtzICR7Y2h1bmtzfSBjb25jdXJyZW5jeSAke2NvbmN1cnJlbmN5fWApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmN1cnJlbmN5OyBpKyspXG4gICAgICAgICAgICBwcm9jZXNzaW5nLnB1c2goZG93bmxvYWREYXRhKHN0YXJ0T2Zmc2V0LnBsdXMoTUFYX0NIVU5LX1NJWkUgKiBjdXJyQ2h1bmsrKykpKTtcbiAgICAgICAgd2hpbGUgKGN1cnJDaHVuayA8IHBhcmFsbGVsQ2h1bmtzKSB7XG4gICAgICAgICAgICBwcm9jZXNzaW5nLnB1c2goZG93bmxvYWREYXRhKHN0YXJ0T2Zmc2V0LnBsdXMoTUFYX0NIVU5LX1NJWkUgKiBjdXJyQ2h1bmsrKykpKTtcbiAgICAgICAgICAgIC8vIHlpZWxkIGF3YWl0IHNvIHRoYXQgcHJvY2Vzc2VkQnl0ZXMgd29ya3MgcHJvcGVybHlcbiAgICAgICAgICAgIHlpZWxkIHByb2Nlc3Npbmcuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocHJvY2Vzc2luZy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgeWllbGQgcHJvY2Vzc2luZy5zaGlmdCgpO1xuICAgICAgICB5aWVsZCBkb3dubG9hZERhdGEoc3RhcnRPZmZzZXQucGx1cyhNQVhfQ0hVTktfU0laRSAqIGN1cnJDaHVuaysrKSk7XG4gICAgICAgIGlmIChzaXplLmlzR3JlYXRlclRoYW4ocHJvY2Vzc2VkQnl0ZXMpKVxuICAgICAgICAgICAgeWllbGQgZG93bmxvYWREYXRhKHN0YXJ0T2Zmc2V0LnBsdXMoTUFYX0NIVU5LX1NJWkUgKiBjdXJyQ2h1bmsrKykpO1xuICAgICAgICBpZiAoIXNpemUuaXNFcXVhbFRvKHByb2Nlc3NlZEJ5dGVzKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ290ICR7cHJvY2Vzc2VkQnl0ZXN9QiwgZXhwZWN0ZWQgJHtzaXplLnRvU3RyaW5nKCl9QmApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmtzLmpzLm1hcCJdLCJuYW1lcyI6WyJCaWdOdW1iZXIiLCJnZXRFcnJvciIsIkFyd2VhdmVVdGlscyIsIk1BWF9DSFVOS19TSVpFIiwiQ2h1bmtzIiwiY29uc3RydWN0b3IiLCJhcGkiLCJnZXRUcmFuc2FjdGlvbk1ldGFkYXRhIiwiaWQiLCJyZXNwIiwiZ2V0Iiwic3RhdHVzIiwiZGF0YSIsIkVycm9yIiwiZ2V0Q2h1bmsiLCJvZmZzZXQiLCJnZXRDaHVua0RhdGEiLCJjaHVuayIsImJ1ZiIsImI2NFVybFRvQnVmZmVyIiwiZmlyc3RDaHVua09mZnNldCIsIm9mZnNldFJlc3BvbnNlIiwicGFyc2VJbnQiLCJzaXplIiwiZG93bmxvYWRDaHVua2VkRGF0YSIsIm9wdGlvbnMiLCJVaW50OEFycmF5IiwiYnl0ZSIsImNodW5rRGF0YSIsImNvbmN1cnJlbnRDaHVua0Rvd25sb2FkZXIiLCJzZXQiLCJsZW5ndGgiLCJvcHRzIiwiY29uY3VycmVuY3kiLCJtZXRhZGF0YSIsImVuZE9mZnNldCIsInN0YXJ0T2Zmc2V0IiwibWludXMiLCJwbHVzIiwicHJvY2Vzc2VkQnl0ZXMiLCJjaHVua3MiLCJNYXRoIiwiY2VpbCIsImRpdmlkZWRCeSIsInRvTnVtYmVyIiwiZG93bmxvYWREYXRhIiwidG9TdHJpbmciLCJ0aGVuIiwiciIsInByb2Nlc3NpbmciLCJwYXJhbGxlbENodW5rcyIsIm1pbiIsImN1cnJDaHVuayIsImkiLCJwdXNoIiwic2hpZnQiLCJpc0dyZWF0ZXJUaGFuIiwiaXNFcXVhbFRvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/chunks.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/index.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/index.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arweave: () => (/* reexport safe */ _arweave_js__WEBPACK_IMPORTED_MODULE_0__.Arweave),\n/* harmony export */   \"default\": () => (/* reexport safe */ _arweave_js__WEBPACK_IMPORTED_MODULE_0__.Arweave)\n/* harmony export */ });\n/* harmony import */ var _arweave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arweave.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js\");\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QjtBQUNxQixDQUNsRCxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9pbmRleC5qcz82OTJiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2Fyd2VhdmUuanNcIjtcbmV4cG9ydCB7IEFyd2VhdmUgYXMgZGVmYXVsdCB9IGZyb20gXCIuL2Fyd2VhdmUuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJBcndlYXZlIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/api.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/api.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Api)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/.pnpm/axios@1.9.0_debug@4.4.0/node_modules/axios/lib/axios.js\");\n/* harmony import */ var async_retry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! async-retry */ \"(ssr)/./node_modules/.pnpm/async-retry@1.3.3/node_modules/async-retry/lib/index.js\");\n/* harmony import */ var _arweave_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../arweave.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js\");\n\n\n\nclass Api {\n    constructor(config){\n        this.cookieMap = new Map();\n        if (config) this.applyConfig(config);\n    }\n    applyConfig(config) {\n        this.config = this.mergeDefaults(config);\n        this._instance = undefined;\n    }\n    getConfig() {\n        return this.config;\n    }\n    async requestInterceptor(request) {\n        const cookies = this.cookieMap.get(new URL(request.baseURL ?? \"\").host);\n        if (cookies) request.headers.cookie = cookies;\n        return request;\n    }\n    async responseInterceptor(response) {\n        const setCookie = response.headers?.[\"set-cookie\"];\n        if (setCookie) this.cookieMap.set(response.request.host, setCookie);\n        return response;\n    }\n    mergeDefaults(config) {\n        config.headers ??= {};\n        if (config.network && !Object.keys(config.headers).includes(\"x-network\")) config.headers[\"x-network\"] = config.network;\n        return {\n            url: config.url,\n            timeout: config.timeout ?? 20000,\n            logging: config.logging ?? false,\n            logger: config.logger ?? console.log,\n            headers: {\n                ...config.headers,\n                \"x-irys-arweave-version\": _arweave_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].VERSION\n            },\n            withCredentials: config.withCredentials ?? false,\n            retry: {\n                retries: 3,\n                maxTimeout: 5000\n            }\n        };\n    }\n    async get(path, config) {\n        try {\n            return await this.request(path, {\n                ...config,\n                method: \"GET\"\n            });\n        } catch (error) {\n            if (error.response?.status) return error.response;\n            throw error;\n        }\n    }\n    async post(path, body, config) {\n        try {\n            return await this.request(path, {\n                data: body,\n                ...config,\n                method: \"POST\"\n            });\n        } catch (error) {\n            if (error.response?.status) return error.response;\n            throw error;\n        }\n    }\n    get instance() {\n        if (this._instance) return this._instance;\n        const instance = axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create({\n            baseURL: this.config.url.toString(),\n            timeout: this.config.timeout,\n            maxContentLength: 1024 * 1024 * 512,\n            headers: this.config.headers,\n            withCredentials: this.config.withCredentials\n        });\n        if (this.config.withCredentials) {\n            instance.interceptors.request.use(this.requestInterceptor.bind(this));\n            instance.interceptors.response.use(this.responseInterceptor.bind(this));\n        }\n        if (this.config.logging) {\n            instance.interceptors.request.use((request)=>{\n                this.config.logger(`Requesting: ${request.baseURL}/${request.url}`);\n                return request;\n            });\n            instance.interceptors.response.use((response)=>{\n                this.config.logger(`Response: ${response.config.url} - ${response.status}`);\n                return response;\n            });\n        }\n        return this._instance = instance;\n    }\n    async request(path, config) {\n        const instance = this.instance;\n        const url = config?.url ?? new URL(path, this.config.url).toString();\n        return async_retry__WEBPACK_IMPORTED_MODULE_0__((_)=>instance({\n                ...config,\n                url\n            }), {\n            ...this.config.retry,\n            ...config?.retry\n        });\n    }\n} //# sourceMappingURL=api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwQjtBQUNXO0FBQ0Q7QUFDckIsTUFBTUc7SUFJakJDLFlBQVlDLE1BQU0sQ0FBRTthQUZwQkMsWUFBWSxJQUFJQztRQUdaLElBQUlGLFFBQ0EsSUFBSSxDQUFDRyxXQUFXLENBQUNIO0lBQ3pCO0lBQ0FHLFlBQVlILE1BQU0sRUFBRTtRQUNoQixJQUFJLENBQUNBLE1BQU0sR0FBRyxJQUFJLENBQUNJLGFBQWEsQ0FBQ0o7UUFDakMsSUFBSSxDQUFDSyxTQUFTLEdBQUdDO0lBQ3JCO0lBQ0FDLFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQ1AsTUFBTTtJQUN0QjtJQUNBLE1BQU1RLG1CQUFtQkMsT0FBTyxFQUFFO1FBQzlCLE1BQU1DLFVBQVUsSUFBSSxDQUFDVCxTQUFTLENBQUNVLEdBQUcsQ0FBQyxJQUFJQyxJQUFJSCxRQUFRSSxPQUFPLElBQUksSUFBSUMsSUFBSTtRQUN0RSxJQUFJSixTQUNBRCxRQUFRTSxPQUFPLENBQUNDLE1BQU0sR0FBR047UUFDN0IsT0FBT0Q7SUFDWDtJQUNBLE1BQU1RLG9CQUFvQkMsUUFBUSxFQUFFO1FBQ2hDLE1BQU1DLFlBQVlELFNBQVNILE9BQU8sRUFBRSxDQUFDLGFBQWE7UUFDbEQsSUFBSUksV0FDQSxJQUFJLENBQUNsQixTQUFTLENBQUNtQixHQUFHLENBQUNGLFNBQVNULE9BQU8sQ0FBQ0ssSUFBSSxFQUFFSztRQUM5QyxPQUFPRDtJQUNYO0lBQ0FkLGNBQWNKLE1BQU0sRUFBRTtRQUNsQkEsT0FBT2UsT0FBTyxLQUFLLENBQUM7UUFDcEIsSUFBSWYsT0FBT3FCLE9BQU8sSUFBSSxDQUFDQyxPQUFPQyxJQUFJLENBQUN2QixPQUFPZSxPQUFPLEVBQUVTLFFBQVEsQ0FBQyxjQUN4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QUFRLElBQUksQ0FBQ2IsU0FBUyxHQUFHc0M7SUFDN0I7SUFDQSxNQUFNbEMsUUFBUTJCLElBQUksRUFBRXBDLE1BQU0sRUFBRTtRQUN4QixNQUFNMkMsV0FBVyxJQUFJLENBQUNBLFFBQVE7UUFDOUIsTUFBTWxCLE1BQU16QixRQUFReUIsT0FBTyxJQUFJYixJQUFJd0IsTUFBTSxJQUFJLENBQUNwQyxNQUFNLENBQUN5QixHQUFHLEVBQUVvQixRQUFRO1FBQ2xFLE9BQU9qRCx3Q0FBVUEsQ0FBQyxDQUFDc0QsSUFBTVAsU0FBUztnQkFBRSxHQUFHM0MsTUFBTTtnQkFBRXlCO1lBQUksSUFBSTtZQUNuRCxHQUFHLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQ2lDLEtBQUs7WUFDcEIsR0FBR2pDLFFBQVFpQyxLQUFLO1FBQ3BCO0lBQ0o7QUFDSixFQUNBLCtCQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9hcGkuanM/ZDAwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXhpb3MgZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgQXN5bmNSZXRyeSBmcm9tIFwiYXN5bmMtcmV0cnlcIjtcbmltcG9ydCBBcndlYXZlIGZyb20gXCIuLi9hcndlYXZlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIF9pbnN0YW5jZTtcbiAgICBjb29raWVNYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnKVxuICAgICAgICAgICAgdGhpcy5hcHBseUNvbmZpZyhjb25maWcpO1xuICAgIH1cbiAgICBhcHBseUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlRGVmYXVsdHMoY29uZmlnKTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldENvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICAgIH1cbiAgICBhc3luYyByZXF1ZXN0SW50ZXJjZXB0b3IocmVxdWVzdCkge1xuICAgICAgICBjb25zdCBjb29raWVzID0gdGhpcy5jb29raWVNYXAuZ2V0KG5ldyBVUkwocmVxdWVzdC5iYXNlVVJMID8/IFwiXCIpLmhvc3QpO1xuICAgICAgICBpZiAoY29va2llcylcbiAgICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5jb29raWUgPSBjb29raWVzO1xuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICB9XG4gICAgYXN5bmMgcmVzcG9uc2VJbnRlcmNlcHRvcihyZXNwb25zZSkge1xuICAgICAgICBjb25zdCBzZXRDb29raWUgPSByZXNwb25zZS5oZWFkZXJzPy5bXCJzZXQtY29va2llXCJdO1xuICAgICAgICBpZiAoc2V0Q29va2llKVxuICAgICAgICAgICAgdGhpcy5jb29raWVNYXAuc2V0KHJlc3BvbnNlLnJlcXVlc3QuaG9zdCwgc2V0Q29va2llKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBtZXJnZURlZmF1bHRzKGNvbmZpZykge1xuICAgICAgICBjb25maWcuaGVhZGVycyA/Pz0ge307XG4gICAgICAgIGlmIChjb25maWcubmV0d29yayAmJiAhT2JqZWN0LmtleXMoY29uZmlnLmhlYWRlcnMpLmluY2x1ZGVzKFwieC1uZXR3b3JrXCIpKVxuICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbXCJ4LW5ldHdvcmtcIl0gPSBjb25maWcubmV0d29yaztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogY29uZmlnLnVybCxcbiAgICAgICAgICAgIHRpbWVvdXQ6IGNvbmZpZy50aW1lb3V0ID8/IDIwMDAwLFxuICAgICAgICAgICAgbG9nZ2luZzogY29uZmlnLmxvZ2dpbmcgPz8gZmFsc2UsXG4gICAgICAgICAgICBsb2dnZXI6IGNvbmZpZy5sb2dnZXIgPz8gY29uc29sZS5sb2csXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLmNvbmZpZy5oZWFkZXJzLCBcIngtaXJ5cy1hcndlYXZlLXZlcnNpb25cIjogQXJ3ZWF2ZS5WRVJTSU9OIH0sXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPz8gZmFsc2UsXG4gICAgICAgICAgICByZXRyeTogeyByZXRyaWVzOiAzLCBtYXhUaW1lb3V0OiA1XzAwMCB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyBnZXQocGF0aCwgY29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5yZXF1ZXN0KHBhdGgsIHsgLi4uY29uZmlnLCBtZXRob2Q6IFwiR0VUXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cylcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IucmVzcG9uc2U7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwb3N0KHBhdGgsIGJvZHksIGNvbmZpZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdChwYXRoLCB7IGRhdGE6IGJvZHksIC4uLmNvbmZpZywgbWV0aG9kOiBcIlBPU1RcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzKVxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvci5yZXNwb25zZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IEF4aW9zLmNyZWF0ZSh7XG4gICAgICAgICAgICBiYXNlVVJMOiB0aGlzLmNvbmZpZy51cmwudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMuY29uZmlnLnRpbWVvdXQsXG4gICAgICAgICAgICBtYXhDb250ZW50TGVuZ3RoOiAxMDI0ICogMTAyNCAqIDUxMixcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlnLndpdGhDcmVkZW50aWFscyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZSh0aGlzLnJlcXVlc3RJbnRlcmNlcHRvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UodGhpcy5yZXNwb25zZUludGVyY2VwdG9yLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb2dnaW5nKSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXIoYFJlcXVlc3Rpbmc6ICR7cmVxdWVzdC5iYXNlVVJMfS8ke3JlcXVlc3QudXJsfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlcihgUmVzcG9uc2U6ICR7cmVzcG9uc2UuY29uZmlnLnVybH0gLSAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX2luc3RhbmNlID0gaW5zdGFuY2UpO1xuICAgIH1cbiAgICBhc3luYyByZXF1ZXN0KHBhdGgsIGNvbmZpZykge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHVybCA9IGNvbmZpZz8udXJsID8/IG5ldyBVUkwocGF0aCwgdGhpcy5jb25maWcudXJsKS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gQXN5bmNSZXRyeSgoXykgPT4gaW5zdGFuY2UoeyAuLi5jb25maWcsIHVybCB9KSwge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcucmV0cnksXG4gICAgICAgICAgICAuLi5jb25maWc/LnJldHJ5LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcGkuanMubWFwIl0sIm5hbWVzIjpbIkF4aW9zIiwiQXN5bmNSZXRyeSIsIkFyd2VhdmUiLCJBcGkiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNvb2tpZU1hcCIsIk1hcCIsImFwcGx5Q29uZmlnIiwibWVyZ2VEZWZhdWx0cyIsIl9pbnN0YW5jZSIsInVuZGVmaW5lZCIsImdldENvbmZpZyIsInJlcXVlc3RJbnRlcmNlcHRvciIsInJlcXVlc3QiLCJjb29raWVzIiwiZ2V0IiwiVVJMIiwiYmFzZVVSTCIsImhvc3QiLCJoZWFkZXJzIiwiY29va2llIiwicmVzcG9uc2VJbnRlcmNlcHRvciIsInJlc3BvbnNlIiwic2V0Q29va2llIiwic2V0IiwibmV0d29yayIsIk9iamVjdCIsImtleXMiLCJpbmNsdWRlcyIsInVybCIsInRpbWVvdXQiLCJsb2dnaW5nIiwibG9nZ2VyIiwiY29uc29sZSIsImxvZyIsIlZFUlNJT04iLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZXRyeSIsInJldHJpZXMiLCJtYXhUaW1lb3V0IiwicGF0aCIsIm1ldGhvZCIsImVycm9yIiwic3RhdHVzIiwicG9zdCIsImJvZHkiLCJkYXRhIiwiaW5zdGFuY2UiLCJjcmVhdGUiLCJ0b1N0cmluZyIsIm1heENvbnRlbnRMZW5ndGgiLCJpbnRlcmNlcHRvcnMiLCJ1c2UiLCJiaW5kIiwiXyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/crypto-augment.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/crypto-augment.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   augmentCrypto: () => (/* binding */ augmentCrypto)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n\nfunction augmentCrypto(crypto, augments) {\n    const crypt = crypto;\n    crypt.deepHash = new augments.deepHash({\n        deps: {\n            utils: {\n                stringToBuffer: _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer,\n                concatBuffers: _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBuffers\n            },\n            crypto\n        }\n    });\n    return crypt;\n//   crypto: Class<CryptoInterface>,\n//   augments: { deepHash: Class<DeepHash, ConstructorParameters<typeof DeepHash>> },\n// ): AugmentedCrypto {\n//   const cryptoAugment = class Crypto extends crypto implements CryptoInterface {\n//     public deepHash: DeepHash;\n//     constructor() {\n//       super();\n//       this.deepHash = new augments.deepHash({ deps: { crypto: this, utils: ArweaveUtils } });\n//     }\n//   };\n//   return new cryptoAugment();\n} //# sourceMappingURL=crypto-augment.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9jcnlwdG8vY3J5cHRvLWF1Z21lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEQ7QUFDckQsU0FBU0UsY0FBY0MsTUFBTSxFQUFFQyxRQUFRO0lBQzFDLE1BQU1DLFFBQVFGO0lBQ2RFLE1BQU1DLFFBQVEsR0FBRyxJQUFJRixTQUFTRSxRQUFRLENBQUM7UUFBRUMsTUFBTTtZQUFFQyxPQUFPO2dCQUFFUCxjQUFjQSx1REFBQUE7Z0JBQUVELGFBQWFBLHNEQUFBQTtZQUFDO1lBQUdHO1FBQU87SUFBRTtJQUNwRyxPQUFPRTtBQUNQLG9DQUFvQztBQUNwQyxxRkFBcUY7QUFDckYsdUJBQXVCO0FBQ3ZCLG1GQUFtRjtBQUNuRixpQ0FBaUM7QUFDakMsc0JBQXNCO0FBQ3RCLGlCQUFpQjtBQUNqQixnR0FBZ0c7QUFDaEcsUUFBUTtBQUNSLE9BQU87QUFDUCxnQ0FBZ0M7QUFDcEMsRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9saWIvY3J5cHRvL2NyeXB0by1hdWdtZW50LmpzP2UyYWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uY2F0QnVmZmVycywgc3RyaW5nVG9CdWZmZXIgfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBhdWdtZW50Q3J5cHRvKGNyeXB0bywgYXVnbWVudHMpIHtcbiAgICBjb25zdCBjcnlwdCA9IGNyeXB0bztcbiAgICBjcnlwdC5kZWVwSGFzaCA9IG5ldyBhdWdtZW50cy5kZWVwSGFzaCh7IGRlcHM6IHsgdXRpbHM6IHsgc3RyaW5nVG9CdWZmZXIsIGNvbmNhdEJ1ZmZlcnMgfSwgY3J5cHRvIH0gfSk7XG4gICAgcmV0dXJuIGNyeXB0O1xuICAgIC8vICAgY3J5cHRvOiBDbGFzczxDcnlwdG9JbnRlcmZhY2U+LFxuICAgIC8vICAgYXVnbWVudHM6IHsgZGVlcEhhc2g6IENsYXNzPERlZXBIYXNoLCBDb25zdHJ1Y3RvclBhcmFtZXRlcnM8dHlwZW9mIERlZXBIYXNoPj4gfSxcbiAgICAvLyApOiBBdWdtZW50ZWRDcnlwdG8ge1xuICAgIC8vICAgY29uc3QgY3J5cHRvQXVnbWVudCA9IGNsYXNzIENyeXB0byBleHRlbmRzIGNyeXB0byBpbXBsZW1lbnRzIENyeXB0b0ludGVyZmFjZSB7XG4gICAgLy8gICAgIHB1YmxpYyBkZWVwSGFzaDogRGVlcEhhc2g7XG4gICAgLy8gICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vICAgICAgIHN1cGVyKCk7XG4gICAgLy8gICAgICAgdGhpcy5kZWVwSGFzaCA9IG5ldyBhdWdtZW50cy5kZWVwSGFzaCh7IGRlcHM6IHsgY3J5cHRvOiB0aGlzLCB1dGlsczogQXJ3ZWF2ZVV0aWxzIH0gfSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyAgIH07XG4gICAgLy8gICByZXR1cm4gbmV3IGNyeXB0b0F1Z21lbnQoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyeXB0by1hdWdtZW50LmpzLm1hcCJdLCJuYW1lcyI6WyJjb25jYXRCdWZmZXJzIiwic3RyaW5nVG9CdWZmZXIiLCJhdWdtZW50Q3J5cHRvIiwiY3J5cHRvIiwiYXVnbWVudHMiLCJjcnlwdCIsImRlZXBIYXNoIiwiZGVwcyIsInV0aWxzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/crypto-augment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/pem.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/pem.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RSA_OID: () => (/* binding */ RSA_OID),\n/* harmony export */   jwkTopem: () => (/* binding */ jwkTopem),\n/* harmony export */   pemTojwk: () => (/* binding */ pemTojwk)\n/* harmony export */ });\n/* harmony import */ var asn1_js_lib_asn1_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! asn1.js/lib/asn1/api.js */ \"(ssr)/./node_modules/.pnpm/asn1.js@5.4.1/node_modules/asn1.js/lib/asn1/api.js\");\n/* harmony import */ var bn_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bn.js */ \"(ssr)/./node_modules/.pnpm/bn.js@5.2.2/node_modules/bn.js/lib/bn.js\");\n// @ts-expect-error no typing :c\n\nconst define = asn1_js_lib_asn1_api_js__WEBPACK_IMPORTED_MODULE_0__.define;\n\nfunction urlize(base64) {\n    return base64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\nfunction hex2b64url(str) {\n    return urlize(Buffer.from(str, \"hex\").toString(\"base64\"));\n}\nconst RSAPublicKey = define(\"RSAPublicKey\", function() {\n    this.seq().obj(this.key(\"n\").int(), this.key(\"e\").int());\n});\nconst AlgorithmIdentifier = define(\"AlgorithmIdentifier\", function() {\n    this.seq().obj(this.key(\"algorithm\").objid(), this.key(\"parameters\").optional().any());\n});\nconst PublicKeyInfo = define(\"PublicKeyInfo\", function() {\n    this.seq().obj(this.key(\"algorithm\").use(AlgorithmIdentifier), this.key(\"publicKey\").bitstr());\n});\nconst Version = define(\"Version\", function() {\n    this.int({\n        0: \"two-prime\",\n        1: \"multi\"\n    });\n});\nconst OtherPrimeInfos = define(\"OtherPrimeInfos\", function() {\n    this.seq().obj(this.key(\"ri\").int(), this.key(\"di\").int(), this.key(\"ti\").int());\n});\nconst RSAPrivateKey = define(\"RSAPrivateKey\", function() {\n    this.seq().obj(this.key(\"version\").use(Version), this.key(\"n\").int(), this.key(\"e\").int(), this.key(\"d\").int(), this.key(\"p\").int(), this.key(\"q\").int(), this.key(\"dp\").int(), this.key(\"dq\").int(), this.key(\"qi\").int(), this.key(\"other\").optional().use(OtherPrimeInfos));\n});\nconst PrivateKeyInfo = define(\"PrivateKeyInfo\", function() {\n    this.seq().obj(this.key(\"version\").use(Version), this.key(\"algorithm\").use(AlgorithmIdentifier), this.key(\"privateKey\").bitstr());\n});\nconst RSA_OID = \"1.2.840.113549.1.1.1\";\nfunction addExtras(obj, extras) {\n    extras = extras || {};\n    Object.keys(extras).forEach(function(key) {\n        obj[key] = extras[key];\n    });\n    return obj;\n}\nfunction pad(hex) {\n    return hex.length % 2 === 1 ? \"0\" + hex : hex;\n}\nfunction decodeRsaPublic(buffer, extras) {\n    const key = RSAPublicKey.decode(buffer, \"der\");\n    const e = pad(key.e.toString(16));\n    const jwk = {\n        kty: \"RSA\",\n        n: bn2base64url(key.n),\n        e: hex2b64url(e)\n    };\n    return addExtras(jwk, extras);\n}\nfunction decodeRsaPrivate(buffer, extras) {\n    const key = RSAPrivateKey.decode(buffer, \"der\");\n    const e = pad(key.e.toString(16));\n    const jwk = {\n        kty: \"RSA\",\n        n: bn2base64url(key.n),\n        e: hex2b64url(e),\n        d: bn2base64url(key.d),\n        p: bn2base64url(key.p),\n        q: bn2base64url(key.q),\n        dp: bn2base64url(key.dp),\n        dq: bn2base64url(key.dq),\n        qi: bn2base64url(key.qi)\n    };\n    return addExtras(jwk, extras);\n}\nfunction decodePublic(buffer, extras) {\n    const info = PublicKeyInfo.decode(buffer, \"der\");\n    return decodeRsaPublic(info.publicKey.data, extras);\n}\nfunction decodePrivate(buffer, extras) {\n    const info = PrivateKeyInfo.decode(buffer, \"der\");\n    return decodeRsaPrivate(info.privateKey.data, extras);\n}\nfunction getDecoder(header) {\n    const match = /^-----BEGIN (RSA )?(PUBLIC|PRIVATE) KEY-----$/.exec(header);\n    if (!match) {\n        return null;\n    }\n    const isRSA = !!match[1];\n    const isPrivate = match[2] === \"PRIVATE\";\n    if (isPrivate) {\n        return isRSA ? decodeRsaPrivate : decodePrivate;\n    } else {\n        return isRSA ? decodeRsaPublic : decodePublic;\n    }\n}\nfunction parse(jwk) {\n    return {\n        n: string2bn(jwk.n),\n        e: string2bn(jwk.e),\n        d: jwk.d && string2bn(jwk.d),\n        p: jwk.p && string2bn(jwk.p),\n        q: jwk.q && string2bn(jwk.q),\n        dp: jwk.dp && string2bn(jwk.dp),\n        dq: jwk.dq && string2bn(jwk.dq),\n        qi: jwk.qi && string2bn(jwk.qi)\n    };\n}\nfunction bn2base64url(bn) {\n    return hex2b64url(pad(bn.toString(16)));\n}\nfunction base64url2bn(str) {\n    return new bn_js__WEBPACK_IMPORTED_MODULE_1__(Buffer.from(str, \"base64\"));\n}\nfunction string2bn(str) {\n    if (/^[0-9]+$/.test(str)) {\n        return new bn_js__WEBPACK_IMPORTED_MODULE_1__(str, 10);\n    }\n    return base64url2bn(str);\n}\nfunction pemTojwk(pem, extras) {\n    let text = pem.toString().split(/(\\r\\n|\\r|\\n)+/g);\n    text = text.filter(function(line) {\n        return line.trim().length !== 0;\n    });\n    const decoder = getDecoder(text[0]);\n    text = text.slice(1, -1).join(\"\");\n    return decoder(Buffer.from(text.replace(/[^\\w\\d\\+\\/=]+/g, \"\"), \"base64\"), extras);\n}\nfunction jwkTopem(json) {\n    const jwk = parse(json);\n    const isPrivate = !!jwk.d;\n    const t = isPrivate ? \"PRIVATE\" : \"PUBLIC\";\n    const header = \"-----BEGIN RSA \" + t + \" KEY-----\\n\";\n    const footer = \"\\n-----END RSA \" + t + \" KEY-----\\n\";\n    let data = Buffer.alloc(0);\n    if (isPrivate) {\n        jwk.version = \"two-prime\";\n        data = RSAPrivateKey.encode(jwk, \"der\");\n    } else {\n        data = RSAPublicKey.encode(jwk, \"der\");\n    }\n    const body = data.toString(\"base64\").match(/.{1,64}/g).join(\"\\n\");\n    return header + body + footer;\n} //# sourceMappingURL=pem.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9jcnlwdG8vcGVtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsZ0NBQWdDO0FBQ1U7QUFDMUMsTUFBTUMsU0FBU0QsMkRBQVU7QUFDRjtBQUN2QixTQUFTRyxPQUFPQyxNQUFNO0lBQ2xCLE9BQU9BLE9BQU9DLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxNQUFNO0FBQ3hFO0FBQ0EsU0FBU0MsV0FBV0MsR0FBRztJQUNuQixPQUFPSixPQUFPSyxPQUFPQyxJQUFJLENBQUNGLEtBQUssT0FBT0csUUFBUSxDQUFDO0FBQ25EO0FBQ0EsTUFBTUMsZUFBZVYsT0FBTyxnQkFBZ0I7SUFDeEMsSUFBSSxDQUFDVyxHQUFHLEdBQUdDLEdBQUcsQ0FBQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxLQUFLQyxHQUFHLElBQUksSUFBSSxDQUFDRCxHQUFHLENBQUMsS0FBS0MsR0FBRztBQUN6RDtBQUNBLE1BQU1DLHNCQUFzQmYsT0FBTyx1QkFBdUI7SUFDdEQsSUFBSSxDQUFDVyxHQUFHLEdBQUdDLEdBQUcsQ0FBQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxhQUFhRyxLQUFLLElBQUksSUFBSSxDQUFDSCxHQUFHLENBQUMsY0FBY0ksUUFBUSxHQUFHQyxHQUFHO0FBQ3ZGO0FBQ0EsTUFBTUMsZ0JBQWdCbkIsT0FBTyxpQkFBaUI7SUFDMUMsSUFBSSxDQUFDVyxHQUFHLEdBQUdDLEdBQUcsQ0FBQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxhQUFhTyxHQUFHLENBQUNMLHNCQUFzQixJQUFJLENBQUNGLEdBQUcsQ0FBQyxhQUFhUSxNQUFNO0FBQy9GO0FBQ0EsTUFBTUMsVUFBVXRCLE9BQU8sV0FBVztJQUM5QixJQUFJLENBQUNjLEdBQUcsQ0FBQztRQUNMLEdBQUc7UUFDSCxHQUFHO0lBQ1A7QUFDSjtBQUNBLE1BQU1TLGtCQUFrQnZCLE9BQU8sbUJBQW1CO0lBQzlDLElBQUksQ0FBQ1csR0FBRyxHQUFHQyxHQUFHLENBQUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsTUFBTUMsR0FBRyxJQUFJLElBQUksQ0FBQ0QsR0FBRyxDQUFDLE1BQU1DLEdBQUcsSUFBSSxJQUFJLENBQUNELEdBQUcsQ0FBQyxNQUFNQyxHQUFHO0FBQ2pGO0FBQ0EsTUFBTVUsZ0JBQWdCeEIsT0FBTyxpQkFBaUI7SUFDMUMsSUFBSSxDQUFDVyxHQUFHLEdBQUdDLEdBQUcsQ0FBQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxXQUFXTyxHQUFHLENBQUNFLFVBQVUsSUFBSSxDQUFDVCxHQUFHLENBQUMsS0FBS0MsR0FBRyxJQUFJLElBQUksQ0FBQ0QsR0FBRyxDQUFDLEtBQUtDLEdBQUcsSUFBSSxJQUFJLENBQUNELEdBQUcsQ0FBQyxLQUFLQyxHQUFHLElBQUksSUFBSSxDQUFDRCxHQUFHLENBQUMsS0FBS0MsR0FBRyxJQUFJLElBQUksQ0FBQ0QsR0FBRyxDQUFDLEtBQUtDLEdBQUcsSUFBSSxJQUFJLENBQUNELEdBQUcsQ0FBQyxNQUFNQyxHQUFHLElBQUksSUFBSSxDQUFDRCxHQUFHLENBQUMsTUFBTUMsR0FBRyxJQUFJLElBQUksQ0FBQ0QsR0FBRyxDQUFDLE1BQU1DLEdBQUcsSUFBSSxJQUFJLENBQUNELEdBQUcsQ0FBQyxTQUFTSSxRQUFRLEdBQUdHLEdBQUcsQ0FBQ0c7QUFDalE7QUFDQSxNQUFNRSxpQkFBaUJ6QixPQUFPLGtCQUFrQjtJQUM1QyxJQUFJLENBQUNXLEdBQUcsR0FBR0MsR0FBRyxDQUFDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLFdBQVdPLEdBQUcsQ0FBQ0UsVUFBVSxJQUFJLENBQUNULEdBQUcsQ0FBQyxhQUFhTyxHQUFHLENBQUNMLHNCQUFzQixJQUFJLENBQUNGLEdBQUcsQ0FBQyxjQUFjUSxNQUFNO0FBQ2xJO0FBQ08sTUFBTUssVUFBVSx1QkFBdUI7QUFDOUMsU0FBU0MsVUFBVWYsR0FBRyxFQUFFZ0IsTUFBTTtJQUMxQkEsU0FBU0EsVUFBVSxDQUFDO0lBQ3BCQyxPQUFPQyxJQUFJLENBQUNGLFFBQVFHLE9BQU8sQ0FBQyxTQUFVbEIsR0FBRztRQUNyQ0QsR0FBRyxDQUFDQyxJQUFJLEdBQUdlLE1BQU0sQ0FBQ2YsSUFBSTtJQUMxQjtJQUNBLE9BQU9EO0FBQ1g7QUFDQSxTQUFTb0IsSUFBSUMsR0FBRztJQUNaLE9BQU9BLElBQUlDLE1BQU0sR0FBRyxNQUFNLElBQUksTUFBTUQsTUFBTUE7QUFDOUM7QUFDQSxTQUFTRSxnQkFBZ0JDLE1BQU0sRUFBRVIsTUFBTTtJQUNuQyxNQUFNZixNQUFNSCxhQUFhMkIsTUFBTSxDQUFDRCxRQUFRO0lBQ3hDLE1BQU1FLElBQUlOLElBQUluQixJQUFJeUIsQ0FBQyxDQUFDN0IsUUFBUSxDQUFDO0lBQzdCLE1BQU04QixNQUFNO1FBQ1JDLEtBQUs7UUFDTEMsR0FBR0MsYUFBYTdCLElBQUk0QixDQUFDO1FBQ3JCSCxHQUFHakMsV0FBV2lDO0lBQ2xCO0lBQ0EsT0FBT1gsVUFBVVksS0FBS1g7QUFDMUI7QUFDQSxTQUFTZSxpQkFBaUJQLE1BQU0sRUFBRVIsTUFBTTtJQUNwQyxNQUFNZixNQUFNVyxjQUFjYSxNQUFNLENBQUNELFFBQVE7SUFDekMsTUFBTUUsSUFBSU4sSUFBSW5CLElBQUl5QixDQUFDLENBQUM3QixRQUFRLENBQUM7SUFDN0IsTUFBTThCLE1BQU07UUFDUkMsS0FBSztRQUNMQyxHQUFHQyxhQUFhN0IsSUFBSTRCLENBQUM7UUFDckJILEdBQUdqQyxXQUFXaUM7UUFDZE0sR0FBR0YsYUFBYTdCLElBQUkrQixDQUFDO1FBQ3JCQyxHQUFHSCxhQUFhN0IsSUFBSWdDLENBQUM7UUFDckJDLEdBQUdKLGFBQWE3QixJQUFJaUMsQ0FBQztRQUNyQkMsSUFBSUwsYUFBYTdCLElBQUlrQyxFQUFFO1FBQ3ZCQyxJQUFJTixhQUFhN0IsSUFBSW1DLEVBQUU7UUFDdkJDLElBQUlQLGFBQWE3QixJQUFJb0MsRUFBRTtJQUMzQjtJQUNBLE9BQU90QixVQUFVWSxLQUFLWDtBQUMxQjtBQUNBLFNBQVNzQixhQUFhZCxNQUFNLEVBQUVSLE1BQU07SUFDaEMsTUFBTXVCLE9BQU9oQyxjQUFja0IsTUFBTSxDQUFDRCxRQUFRO0lBQzFDLE9BQU9ELGdCQUFnQmdCLEtBQUtDLFNBQVMsQ0FBQ0MsSUFBSSxFQUFFekI7QUFDaEQ7QUFDQSxTQUFTMEIsY0FBY2xCLE1BQU0sRUFBRVIsTUFBTTtJQUNqQyxNQUFNdUIsT0FBTzFCLGVBQWVZLE1BQU0sQ0FBQ0QsUUFBUTtJQUMzQyxPQUFPTyxpQkFBaUJRLEtBQUtJLFVBQVUsQ0FBQ0YsSUFBSSxFQUFFekI7QUFDbEQ7QUFDQSxTQUFTNEIsV0FBV0MsTUFBTTtJQUN0QixNQUFNQyxRQUFRLGdEQUFnREMsSUFBSSxDQUFDRjtJQUNuRSxJQUFJLENBQUNDLE9BQU87UUFDUixPQUFPO0lBQ1g7SUFDQSxNQUFNRSxRQUFRLENBQUMsQ0FBQ0YsS0FBSyxDQUFDLEVBQUU7SUFDeEIsTUFBTUcsWUFBWUgsS0FBSyxDQUFDLEVBQUUsS0FBSztJQUMvQixJQUFJRyxXQUFXO1FBQ1gsT0FBT0QsUUFBUWpCLG1CQUFtQlc7SUFDdEMsT0FDSztRQUNELE9BQU9NLFFBQVF6QixrQkFBa0JlO0lBQ3JDO0FBQ0o7QUFDQSxTQUFTWSxNQUFNdkIsR0FBRztJQUNkLE9BQU87UUFDSEUsR0FBR3NCLFVBQVV4QixJQUFJRSxDQUFDO1FBQ2xCSCxHQUFHeUIsVUFBVXhCLElBQUlELENBQUM7UUFDbEJNLEdBQUdMLElBQUlLLENBQUMsSUFBSW1CLFVBQVV4QixJQUFJSyxDQUFDO1FBQzNCQyxHQUFHTixJQUFJTSxDQUFDLElBQUlrQixVQUFVeEIsSUFBSU0sQ0FBQztRQUMzQkMsR0FBR1AsSUFBSU8sQ0FBQyxJQUFJaUIsVUFBVXhCLElBQUlPLENBQUM7UUFDM0JDLElBQUlSLElBQUlRLEVBQUUsSUFBSWdCLFVBQVV4QixJQUFJUSxFQUFFO1FBQzlCQyxJQUFJVCxJQUFJUyxFQUFFLElBQUllLFVBQVV4QixJQUFJUyxFQUFFO1FBQzlCQyxJQUFJVixJQUFJVSxFQUFFLElBQUljLFVBQVV4QixJQUFJVSxFQUFFO0lBQ2xDO0FBQ0o7QUFDQSxTQUFTUCxhQUFhekMsRUFBRTtJQUNwQixPQUFPSSxXQUFXMkIsSUFBSS9CLEdBQUdRLFFBQVEsQ0FBQztBQUN0QztBQUNBLFNBQVN1RCxhQUFhMUQsR0FBRztJQUNyQixPQUFPLElBQUlMLGtDQUFFQSxDQUFDTSxPQUFPQyxJQUFJLENBQUNGLEtBQUs7QUFDbkM7QUFDQSxTQUFTeUQsVUFBVXpELEdBQUc7SUFDbEIsSUFBSSxXQUFXMkQsSUFBSSxDQUFDM0QsTUFBTTtRQUN0QixPQUFPLElBQUlMLGtDQUFFQSxDQUFDSyxLQUFLO0lBQ3ZCO0lBQ0EsT0FBTzBELGFBQWExRDtBQUN4QjtBQUNPLFNBQVM0RCxTQUFTQyxHQUFHLEVBQUV2QyxNQUFNO0lBQ2hDLElBQUl3QyxPQUFPRCxJQUFJMUQsUUFBUSxHQUFHNEQsS0FBSyxDQUFDO0lBQ2hDRCxPQUFPQSxLQUFLRSxNQUFNLENBQUMsU0FBVUMsSUFBSTtRQUM3QixPQUFPQSxLQUFLQyxJQUFJLEdBQUd0QyxNQUFNLEtBQUs7SUFDbEM7SUFDQSxNQUFNdUMsVUFBVWpCLFdBQVdZLElBQUksQ0FBQyxFQUFFO0lBQ2xDQSxPQUFPQSxLQUFLTSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUdDLElBQUksQ0FBQztJQUM5QixPQUFPRixRQUFRbEUsT0FBT0MsSUFBSSxDQUFDNEQsS0FBS2hFLE9BQU8sQ0FBQyxrQkFBa0IsS0FBSyxXQUFXd0I7QUFDOUU7QUFDTyxTQUFTZ0QsU0FBU0MsSUFBSTtJQUN6QixNQUFNdEMsTUFBTXVCLE1BQU1lO0lBQ2xCLE1BQU1oQixZQUFZLENBQUMsQ0FBQ3RCLElBQUlLLENBQUM7SUFDekIsTUFBTWtDLElBQUlqQixZQUFZLFlBQVk7SUFDbEMsTUFBTUosU0FBUyxvQkFBb0JxQixJQUFJO0lBQ3ZDLE1BQU1DLFNBQVMsb0JBQW9CRCxJQUFJO0lBQ3ZDLElBQUl6QixPQUFPOUMsT0FBT3lFLEtBQUssQ0FBQztJQUN4QixJQUFJbkIsV0FBVztRQUNYdEIsSUFBSTBDLE9BQU8sR0FBRztRQUNkNUIsT0FBTzdCLGNBQWMwRCxNQUFNLENBQUMzQyxLQUFLO0lBQ3JDLE9BQ0s7UUFDRGMsT0FBTzNDLGFBQWF3RSxNQUFNLENBQUMzQyxLQUFLO0lBQ3BDO0lBQ0EsTUFBTTRDLE9BQU85QixLQUNSNUMsUUFBUSxDQUFDLFVBQ1RpRCxLQUFLLENBQUMsWUFDTmlCLElBQUksQ0FBQztJQUNWLE9BQU9sQixTQUFTMEIsT0FBT0o7QUFDM0IsRUFDQSwrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9saWIvY3J5cHRvL3BlbS5qcz80ZTE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1leHBlY3QtZXJyb3Igbm8gdHlwaW5nIDpjXG5pbXBvcnQgYXBpIGZyb20gXCJhc24xLmpzL2xpYi9hc24xL2FwaS5qc1wiO1xuY29uc3QgZGVmaW5lID0gYXBpLmRlZmluZTtcbmltcG9ydCBibiBmcm9tIFwiYm4uanNcIjtcbmZ1bmN0aW9uIHVybGl6ZShiYXNlNjQpIHtcbiAgICByZXR1cm4gYmFzZTY0LnJlcGxhY2UoL1xcKy9nLCBcIi1cIikucmVwbGFjZSgvXFwvL2csIFwiX1wiKS5yZXBsYWNlKC89L2csIFwiXCIpO1xufVxuZnVuY3Rpb24gaGV4MmI2NHVybChzdHIpIHtcbiAgICByZXR1cm4gdXJsaXplKEJ1ZmZlci5mcm9tKHN0ciwgXCJoZXhcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xufVxuY29uc3QgUlNBUHVibGljS2V5ID0gZGVmaW5lKFwiUlNBUHVibGljS2V5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNlcSgpLm9iaih0aGlzLmtleShcIm5cIikuaW50KCksIHRoaXMua2V5KFwiZVwiKS5pbnQoKSk7XG59KTtcbmNvbnN0IEFsZ29yaXRobUlkZW50aWZpZXIgPSBkZWZpbmUoXCJBbGdvcml0aG1JZGVudGlmaWVyXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNlcSgpLm9iaih0aGlzLmtleShcImFsZ29yaXRobVwiKS5vYmppZCgpLCB0aGlzLmtleShcInBhcmFtZXRlcnNcIikub3B0aW9uYWwoKS5hbnkoKSk7XG59KTtcbmNvbnN0IFB1YmxpY0tleUluZm8gPSBkZWZpbmUoXCJQdWJsaWNLZXlJbmZvXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNlcSgpLm9iaih0aGlzLmtleShcImFsZ29yaXRobVwiKS51c2UoQWxnb3JpdGhtSWRlbnRpZmllciksIHRoaXMua2V5KFwicHVibGljS2V5XCIpLmJpdHN0cigpKTtcbn0pO1xuY29uc3QgVmVyc2lvbiA9IGRlZmluZShcIlZlcnNpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW50KHtcbiAgICAgICAgMDogXCJ0d28tcHJpbWVcIixcbiAgICAgICAgMTogXCJtdWx0aVwiLFxuICAgIH0pO1xufSk7XG5jb25zdCBPdGhlclByaW1lSW5mb3MgPSBkZWZpbmUoXCJPdGhlclByaW1lSW5mb3NcIiwgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2VxKCkub2JqKHRoaXMua2V5KFwicmlcIikuaW50KCksIHRoaXMua2V5KFwiZGlcIikuaW50KCksIHRoaXMua2V5KFwidGlcIikuaW50KCkpO1xufSk7XG5jb25zdCBSU0FQcml2YXRlS2V5ID0gZGVmaW5lKFwiUlNBUHJpdmF0ZUtleVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXEoKS5vYmoodGhpcy5rZXkoXCJ2ZXJzaW9uXCIpLnVzZShWZXJzaW9uKSwgdGhpcy5rZXkoXCJuXCIpLmludCgpLCB0aGlzLmtleShcImVcIikuaW50KCksIHRoaXMua2V5KFwiZFwiKS5pbnQoKSwgdGhpcy5rZXkoXCJwXCIpLmludCgpLCB0aGlzLmtleShcInFcIikuaW50KCksIHRoaXMua2V5KFwiZHBcIikuaW50KCksIHRoaXMua2V5KFwiZHFcIikuaW50KCksIHRoaXMua2V5KFwicWlcIikuaW50KCksIHRoaXMua2V5KFwib3RoZXJcIikub3B0aW9uYWwoKS51c2UoT3RoZXJQcmltZUluZm9zKSk7XG59KTtcbmNvbnN0IFByaXZhdGVLZXlJbmZvID0gZGVmaW5lKFwiUHJpdmF0ZUtleUluZm9cIiwgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2VxKCkub2JqKHRoaXMua2V5KFwidmVyc2lvblwiKS51c2UoVmVyc2lvbiksIHRoaXMua2V5KFwiYWxnb3JpdGhtXCIpLnVzZShBbGdvcml0aG1JZGVudGlmaWVyKSwgdGhpcy5rZXkoXCJwcml2YXRlS2V5XCIpLmJpdHN0cigpKTtcbn0pO1xuZXhwb3J0IGNvbnN0IFJTQV9PSUQgPSBcIjEuMi44NDAuMTEzNTQ5LjEuMS4xXCI7XG5mdW5jdGlvbiBhZGRFeHRyYXMob2JqLCBleHRyYXMpIHtcbiAgICBleHRyYXMgPSBleHRyYXMgfHwge307XG4gICAgT2JqZWN0LmtleXMoZXh0cmFzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBleHRyYXNba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gcGFkKGhleCkge1xuICAgIHJldHVybiBoZXgubGVuZ3RoICUgMiA9PT0gMSA/IFwiMFwiICsgaGV4IDogaGV4O1xufVxuZnVuY3Rpb24gZGVjb2RlUnNhUHVibGljKGJ1ZmZlciwgZXh0cmFzKSB7XG4gICAgY29uc3Qga2V5ID0gUlNBUHVibGljS2V5LmRlY29kZShidWZmZXIsIFwiZGVyXCIpO1xuICAgIGNvbnN0IGUgPSBwYWQoa2V5LmUudG9TdHJpbmcoMTYpKTtcbiAgICBjb25zdCBqd2sgPSB7XG4gICAgICAgIGt0eTogXCJSU0FcIixcbiAgICAgICAgbjogYm4yYmFzZTY0dXJsKGtleS5uKSxcbiAgICAgICAgZTogaGV4MmI2NHVybChlKSxcbiAgICB9O1xuICAgIHJldHVybiBhZGRFeHRyYXMoandrLCBleHRyYXMpO1xufVxuZnVuY3Rpb24gZGVjb2RlUnNhUHJpdmF0ZShidWZmZXIsIGV4dHJhcykge1xuICAgIGNvbnN0IGtleSA9IFJTQVByaXZhdGVLZXkuZGVjb2RlKGJ1ZmZlciwgXCJkZXJcIik7XG4gICAgY29uc3QgZSA9IHBhZChrZXkuZS50b1N0cmluZygxNikpO1xuICAgIGNvbnN0IGp3ayA9IHtcbiAgICAgICAga3R5OiBcIlJTQVwiLFxuICAgICAgICBuOiBibjJiYXNlNjR1cmwoa2V5Lm4pLFxuICAgICAgICBlOiBoZXgyYjY0dXJsKGUpLFxuICAgICAgICBkOiBibjJiYXNlNjR1cmwoa2V5LmQpLFxuICAgICAgICBwOiBibjJiYXNlNjR1cmwoa2V5LnApLFxuICAgICAgICBxOiBibjJiYXNlNjR1cmwoa2V5LnEpLFxuICAgICAgICBkcDogYm4yYmFzZTY0dXJsKGtleS5kcCksXG4gICAgICAgIGRxOiBibjJiYXNlNjR1cmwoa2V5LmRxKSxcbiAgICAgICAgcWk6IGJuMmJhc2U2NHVybChrZXkucWkpLFxuICAgIH07XG4gICAgcmV0dXJuIGFkZEV4dHJhcyhqd2ssIGV4dHJhcyk7XG59XG5mdW5jdGlvbiBkZWNvZGVQdWJsaWMoYnVmZmVyLCBleHRyYXMpIHtcbiAgICBjb25zdCBpbmZvID0gUHVibGljS2V5SW5mby5kZWNvZGUoYnVmZmVyLCBcImRlclwiKTtcbiAgICByZXR1cm4gZGVjb2RlUnNhUHVibGljKGluZm8ucHVibGljS2V5LmRhdGEsIGV4dHJhcyk7XG59XG5mdW5jdGlvbiBkZWNvZGVQcml2YXRlKGJ1ZmZlciwgZXh0cmFzKSB7XG4gICAgY29uc3QgaW5mbyA9IFByaXZhdGVLZXlJbmZvLmRlY29kZShidWZmZXIsIFwiZGVyXCIpO1xuICAgIHJldHVybiBkZWNvZGVSc2FQcml2YXRlKGluZm8ucHJpdmF0ZUtleS5kYXRhLCBleHRyYXMpO1xufVxuZnVuY3Rpb24gZ2V0RGVjb2RlcihoZWFkZXIpIHtcbiAgICBjb25zdCBtYXRjaCA9IC9eLS0tLS1CRUdJTiAoUlNBICk/KFBVQkxJQ3xQUklWQVRFKSBLRVktLS0tLSQvLmV4ZWMoaGVhZGVyKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBpc1JTQSA9ICEhbWF0Y2hbMV07XG4gICAgY29uc3QgaXNQcml2YXRlID0gbWF0Y2hbMl0gPT09IFwiUFJJVkFURVwiO1xuICAgIGlmIChpc1ByaXZhdGUpIHtcbiAgICAgICAgcmV0dXJuIGlzUlNBID8gZGVjb2RlUnNhUHJpdmF0ZSA6IGRlY29kZVByaXZhdGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNSU0EgPyBkZWNvZGVSc2FQdWJsaWMgOiBkZWNvZGVQdWJsaWM7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2UoandrKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbjogc3RyaW5nMmJuKGp3ay5uKSxcbiAgICAgICAgZTogc3RyaW5nMmJuKGp3ay5lKSxcbiAgICAgICAgZDogandrLmQgJiYgc3RyaW5nMmJuKGp3ay5kKSxcbiAgICAgICAgcDogandrLnAgJiYgc3RyaW5nMmJuKGp3ay5wKSxcbiAgICAgICAgcTogandrLnEgJiYgc3RyaW5nMmJuKGp3ay5xKSxcbiAgICAgICAgZHA6IGp3ay5kcCAmJiBzdHJpbmcyYm4oandrLmRwKSxcbiAgICAgICAgZHE6IGp3ay5kcSAmJiBzdHJpbmcyYm4oandrLmRxKSxcbiAgICAgICAgcWk6IGp3ay5xaSAmJiBzdHJpbmcyYm4oandrLnFpKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gYm4yYmFzZTY0dXJsKGJuKSB7XG4gICAgcmV0dXJuIGhleDJiNjR1cmwocGFkKGJuLnRvU3RyaW5nKDE2KSkpO1xufVxuZnVuY3Rpb24gYmFzZTY0dXJsMmJuKHN0cikge1xuICAgIHJldHVybiBuZXcgYm4oQnVmZmVyLmZyb20oc3RyLCBcImJhc2U2NFwiKSk7XG59XG5mdW5jdGlvbiBzdHJpbmcyYm4oc3RyKSB7XG4gICAgaWYgKC9eWzAtOV0rJC8udGVzdChzdHIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgYm4oc3RyLCAxMCk7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjR1cmwyYm4oc3RyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZW1Ub2p3ayhwZW0sIGV4dHJhcykge1xuICAgIGxldCB0ZXh0ID0gcGVtLnRvU3RyaW5nKCkuc3BsaXQoLyhcXHJcXG58XFxyfFxcbikrL2cpO1xuICAgIHRleHQgPSB0ZXh0LmZpbHRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gbGluZS50cmltKCkubGVuZ3RoICE9PSAwO1xuICAgIH0pO1xuICAgIGNvbnN0IGRlY29kZXIgPSBnZXREZWNvZGVyKHRleHRbMF0pO1xuICAgIHRleHQgPSB0ZXh0LnNsaWNlKDEsIC0xKS5qb2luKFwiXCIpO1xuICAgIHJldHVybiBkZWNvZGVyKEJ1ZmZlci5mcm9tKHRleHQucmVwbGFjZSgvW15cXHdcXGRcXCtcXC89XSsvZywgXCJcIiksIFwiYmFzZTY0XCIpLCBleHRyYXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp3a1RvcGVtKGpzb24pIHtcbiAgICBjb25zdCBqd2sgPSBwYXJzZShqc29uKTtcbiAgICBjb25zdCBpc1ByaXZhdGUgPSAhIWp3ay5kO1xuICAgIGNvbnN0IHQgPSBpc1ByaXZhdGUgPyBcIlBSSVZBVEVcIiA6IFwiUFVCTElDXCI7XG4gICAgY29uc3QgaGVhZGVyID0gXCItLS0tLUJFR0lOIFJTQSBcIiArIHQgKyBcIiBLRVktLS0tLVxcblwiO1xuICAgIGNvbnN0IGZvb3RlciA9IFwiXFxuLS0tLS1FTkQgUlNBIFwiICsgdCArIFwiIEtFWS0tLS0tXFxuXCI7XG4gICAgbGV0IGRhdGEgPSBCdWZmZXIuYWxsb2MoMCk7XG4gICAgaWYgKGlzUHJpdmF0ZSkge1xuICAgICAgICBqd2sudmVyc2lvbiA9IFwidHdvLXByaW1lXCI7XG4gICAgICAgIGRhdGEgPSBSU0FQcml2YXRlS2V5LmVuY29kZShqd2ssIFwiZGVyXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGF0YSA9IFJTQVB1YmxpY0tleS5lbmNvZGUoandrLCBcImRlclwiKTtcbiAgICB9XG4gICAgY29uc3QgYm9keSA9IGRhdGFcbiAgICAgICAgLnRvU3RyaW5nKFwiYmFzZTY0XCIpXG4gICAgICAgIC5tYXRjaCgvLnsxLDY0fS9nKVxuICAgICAgICAuam9pbihcIlxcblwiKTtcbiAgICByZXR1cm4gaGVhZGVyICsgYm9keSArIGZvb3Rlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlbS5qcy5tYXAiXSwibmFtZXMiOlsiYXBpIiwiZGVmaW5lIiwiYm4iLCJ1cmxpemUiLCJiYXNlNjQiLCJyZXBsYWNlIiwiaGV4MmI2NHVybCIsInN0ciIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsIlJTQVB1YmxpY0tleSIsInNlcSIsIm9iaiIsImtleSIsImludCIsIkFsZ29yaXRobUlkZW50aWZpZXIiLCJvYmppZCIsIm9wdGlvbmFsIiwiYW55IiwiUHVibGljS2V5SW5mbyIsInVzZSIsImJpdHN0ciIsIlZlcnNpb24iLCJPdGhlclByaW1lSW5mb3MiLCJSU0FQcml2YXRlS2V5IiwiUHJpdmF0ZUtleUluZm8iLCJSU0FfT0lEIiwiYWRkRXh0cmFzIiwiZXh0cmFzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJwYWQiLCJoZXgiLCJsZW5ndGgiLCJkZWNvZGVSc2FQdWJsaWMiLCJidWZmZXIiLCJkZWNvZGUiLCJlIiwiandrIiwia3R5IiwibiIsImJuMmJhc2U2NHVybCIsImRlY29kZVJzYVByaXZhdGUiLCJkIiwicCIsInEiLCJkcCIsImRxIiwicWkiLCJkZWNvZGVQdWJsaWMiLCJpbmZvIiwicHVibGljS2V5IiwiZGF0YSIsImRlY29kZVByaXZhdGUiLCJwcml2YXRlS2V5IiwiZ2V0RGVjb2RlciIsImhlYWRlciIsIm1hdGNoIiwiZXhlYyIsImlzUlNBIiwiaXNQcml2YXRlIiwicGFyc2UiLCJzdHJpbmcyYm4iLCJiYXNlNjR1cmwyYm4iLCJ0ZXN0IiwicGVtVG9qd2siLCJwZW0iLCJ0ZXh0Iiwic3BsaXQiLCJmaWx0ZXIiLCJsaW5lIiwidHJpbSIsImRlY29kZXIiLCJzbGljZSIsImpvaW4iLCJqd2tUb3BlbSIsImpzb24iLCJ0IiwiZm9vdGVyIiwiYWxsb2MiLCJ2ZXJzaW9uIiwiZW5jb2RlIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/pem.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/deepHash.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/deepHash.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeepHash: () => (/* binding */ DeepHash)\n/* harmony export */ });\nclass DeepHash {\n    constructor({ deps }){\n        this.crypto = deps.crypto;\n        this.utils = deps.utils;\n    }\n    async deepHash(data) {\n        if (Array.isArray(data)) {\n            const tag = this.utils.concatBuffers([\n                this.utils.stringToBuffer(\"list\"),\n                this.utils.stringToBuffer(data.length.toString())\n            ]);\n            return await this.deepHashChunks(data, await this.crypto.hash(tag, \"SHA-384\"));\n        }\n        const tag = this.utils.concatBuffers([\n            this.utils.stringToBuffer(\"blob\"),\n            this.utils.stringToBuffer(data.byteLength.toString())\n        ]);\n        const taggedHash = this.utils.concatBuffers([\n            await this.crypto.hash(tag, \"SHA-384\"),\n            await this.crypto.hash(data, \"SHA-384\")\n        ]);\n        return await this.crypto.hash(taggedHash, \"SHA-384\");\n    }\n    async deepHashChunks(chunks, acc) {\n        if (chunks.length < 1) return acc;\n        const hashPair = this.utils.concatBuffers([\n            acc,\n            await this.deepHash(chunks[0])\n        ]);\n        const newAcc = await this.crypto.hash(hashPair, \"SHA-384\");\n        return await this.deepHashChunks(chunks.slice(1), newAcc);\n    }\n} //# sourceMappingURL=deepHash.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9kZWVwSGFzaC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUE7SUFHVEMsWUFBWSxFQUFFQyxJQUFJLEVBQUUsQ0FBRTtRQUNsQixJQUFJLENBQUNDLE1BQU0sR0FBR0QsS0FBS0MsTUFBTTtRQUN6QixJQUFJLENBQUNDLEtBQUssR0FBR0YsS0FBS0UsS0FBSztJQUMzQjtJQUNBLE1BQU1DLFNBQVNDLElBQUksRUFBRTtRQUNqQixJQUFJQyxNQUFNQyxPQUFPLENBQUNGLE9BQU87WUFDckIsTUFBTUcsTUFBTSxJQUFJLENBQUNMLEtBQUssQ0FBQ00sYUFBYSxDQUFDO2dCQUFDLElBQUksQ0FBQ04sS0FBSyxDQUFDTyxjQUFjLENBQUM7Z0JBQVMsSUFBSSxDQUFDUCxLQUFLLENBQUNPLGNBQWMsQ0FBQ0wsS0FBS00sTUFBTSxDQUFDQyxRQUFRO2FBQUk7WUFDM0gsT0FBTyxNQUFNLElBQUksQ0FBQ0MsY0FBYyxDQUFDUixNQUFNLE1BQU0sSUFBSSxDQUFDSCxNQUFNLENBQUNZLElBQUksQ0FBQ04sS0FBSztRQUN2RTtRQUNBLE1BQU1BLE1BQU0sSUFBSSxDQUFDTCxLQUFLLENBQUNNLGFBQWEsQ0FBQztZQUFDLElBQUksQ0FBQ04sS0FBSyxDQUFDTyxjQUFjLENBQUM7WUFBUyxJQUFJLENBQUNQLEtBQUssQ0FBQ08sY0FBYyxDQUFDTCxLQUFLVSxVQUFVLENBQUNILFFBQVE7U0FBSTtRQUMvSCxNQUFNSSxhQUFhLElBQUksQ0FBQ2IsS0FBSyxDQUFDTSxhQUFhLENBQUM7WUFBQyxNQUFNLElBQUksQ0FBQ1AsTUFBTSxDQUFDWSxJQUFJLENBQUNOLEtBQUs7WUFBWSxNQUFNLElBQUksQ0FBQ04sTUFBTSxDQUFDWSxJQUFJLENBQUNULE1BQU07U0FBVztRQUM3SCxPQUFPLE1BQU0sSUFBSSxDQUFDSCxNQUFNLENBQUNZLElBQUksQ0FBQ0UsWUFBWTtJQUM5QztJQUNBLE1BQU1ILGVBQWVJLE1BQU0sRUFBRUMsR0FBRyxFQUFFO1FBQzlCLElBQUlELE9BQU9OLE1BQU0sR0FBRyxHQUNoQixPQUFPTztRQUNYLE1BQU1DLFdBQVcsSUFBSSxDQUFDaEIsS0FBSyxDQUFDTSxhQUFhLENBQUM7WUFBQ1M7WUFBSyxNQUFNLElBQUksQ0FBQ2QsUUFBUSxDQUFDYSxNQUFNLENBQUMsRUFBRTtTQUFFO1FBQy9FLE1BQU1HLFNBQVMsTUFBTSxJQUFJLENBQUNsQixNQUFNLENBQUNZLElBQUksQ0FBQ0ssVUFBVTtRQUNoRCxPQUFPLE1BQU0sSUFBSSxDQUFDTixjQUFjLENBQUNJLE9BQU9JLEtBQUssQ0FBQyxJQUFJRDtJQUN0RDtBQUNKLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS9jb21tb24vbGliL2RlZXBIYXNoLmpzPzkyZWIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERlZXBIYXNoIHtcbiAgICBjcnlwdG87XG4gICAgdXRpbHM7XG4gICAgY29uc3RydWN0b3IoeyBkZXBzIH0pIHtcbiAgICAgICAgdGhpcy5jcnlwdG8gPSBkZXBzLmNyeXB0bztcbiAgICAgICAgdGhpcy51dGlscyA9IGRlcHMudXRpbHM7XG4gICAgfVxuICAgIGFzeW5jIGRlZXBIYXNoKGRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHRoaXMudXRpbHMuY29uY2F0QnVmZmVycyhbdGhpcy51dGlscy5zdHJpbmdUb0J1ZmZlcihcImxpc3RcIiksIHRoaXMudXRpbHMuc3RyaW5nVG9CdWZmZXIoZGF0YS5sZW5ndGgudG9TdHJpbmcoKSldKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRlZXBIYXNoQ2h1bmtzKGRhdGEsIGF3YWl0IHRoaXMuY3J5cHRvLmhhc2godGFnLCBcIlNIQS0zODRcIikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhZyA9IHRoaXMudXRpbHMuY29uY2F0QnVmZmVycyhbdGhpcy51dGlscy5zdHJpbmdUb0J1ZmZlcihcImJsb2JcIiksIHRoaXMudXRpbHMuc3RyaW5nVG9CdWZmZXIoZGF0YS5ieXRlTGVuZ3RoLnRvU3RyaW5nKCkpXSk7XG4gICAgICAgIGNvbnN0IHRhZ2dlZEhhc2ggPSB0aGlzLnV0aWxzLmNvbmNhdEJ1ZmZlcnMoW2F3YWl0IHRoaXMuY3J5cHRvLmhhc2godGFnLCBcIlNIQS0zODRcIiksIGF3YWl0IHRoaXMuY3J5cHRvLmhhc2goZGF0YSwgXCJTSEEtMzg0XCIpXSk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyeXB0by5oYXNoKHRhZ2dlZEhhc2gsIFwiU0hBLTM4NFwiKTtcbiAgICB9XG4gICAgYXN5bmMgZGVlcEhhc2hDaHVua3MoY2h1bmtzLCBhY2MpIHtcbiAgICAgICAgaWYgKGNodW5rcy5sZW5ndGggPCAxKVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgY29uc3QgaGFzaFBhaXIgPSB0aGlzLnV0aWxzLmNvbmNhdEJ1ZmZlcnMoW2FjYywgYXdhaXQgdGhpcy5kZWVwSGFzaChjaHVua3NbMF0pXSk7XG4gICAgICAgIGNvbnN0IG5ld0FjYyA9IGF3YWl0IHRoaXMuY3J5cHRvLmhhc2goaGFzaFBhaXIsIFwiU0hBLTM4NFwiKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGVlcEhhc2hDaHVua3MoY2h1bmtzLnNsaWNlKDEpLCBuZXdBY2MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZXBIYXNoLmpzLm1hcCJdLCJuYW1lcyI6WyJEZWVwSGFzaCIsImNvbnN0cnVjdG9yIiwiZGVwcyIsImNyeXB0byIsInV0aWxzIiwiZGVlcEhhc2giLCJkYXRhIiwiQXJyYXkiLCJpc0FycmF5IiwidGFnIiwiY29uY2F0QnVmZmVycyIsInN0cmluZ1RvQnVmZmVyIiwibGVuZ3RoIiwidG9TdHJpbmciLCJkZWVwSGFzaENodW5rcyIsImhhc2giLCJieXRlTGVuZ3RoIiwidGFnZ2VkSGFzaCIsImNodW5rcyIsImFjYyIsImhhc2hQYWlyIiwibmV3QWNjIiwic2xpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/deepHash.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ArweaveError),\n/* harmony export */   getError: () => (/* binding */ getError)\n/* harmony export */ });\nclass ArweaveError extends Error {\n    constructor(type, optional = {}){\n        if (optional.message) {\n            super(optional.message);\n        } else {\n            super();\n        }\n        this.type = type;\n        this.response = optional.response;\n    }\n    getType() {\n        return this.type;\n    }\n}\n// Safely get error string\n// from a response, falling back to\n// resp.data, statusText or 'unknown'.\n// Note: a wrongly set content-type can\n// cause what is a json response to be interepted\n// as a string or Buffer, so we handle that too.\nfunction getError(resp) {\n    let data = resp.data;\n    if (typeof resp.data === \"string\") {\n        try {\n            data = JSON.parse(resp.data);\n        } catch (e) {}\n    }\n    if (resp.data instanceof ArrayBuffer || resp.data instanceof Uint8Array) {\n        try {\n            data = JSON.parse(data.toString());\n        } catch (e) {}\n    }\n    return data ? data.error || data : resp.statusText || \"unknown\";\n} //# sourceMappingURL=error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFlLE1BQU1BLHFCQUFxQkM7SUFHdENDLFlBQVlDLElBQUksRUFBRUMsV0FBVyxDQUFDLENBQUMsQ0FBRTtRQUM3QixJQUFJQSxTQUFTQyxPQUFPLEVBQUU7WUFDbEIsS0FBSyxDQUFDRCxTQUFTQyxPQUFPO1FBQzFCLE9BQ0s7WUFDRCxLQUFLO1FBQ1Q7UUFDQSxJQUFJLENBQUNGLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNHLFFBQVEsR0FBR0YsU0FBU0UsUUFBUTtJQUNyQztJQUNBQyxVQUFVO1FBQ04sT0FBTyxJQUFJLENBQUNKLElBQUk7SUFDcEI7QUFDSjtBQUNBLDBCQUEwQjtBQUMxQixtQ0FBbUM7QUFDbkMsc0NBQXNDO0FBQ3RDLHVDQUF1QztBQUN2QyxpREFBaUQ7QUFDakQsZ0RBQWdEO0FBQ3pDLFNBQVNLLFNBQVNDLElBQUk7SUFDekIsSUFBSUMsT0FBT0QsS0FBS0MsSUFBSTtJQUNwQixJQUFJLE9BQU9ELEtBQUtDLElBQUksS0FBSyxVQUFVO1FBQy9CLElBQUk7WUFDQUEsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSCxLQUFLQyxJQUFJO1FBQy9CLEVBQ0EsT0FBT0csR0FBRyxDQUFFO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0MsSUFBSSxZQUFZSSxlQUFlTCxLQUFLQyxJQUFJLFlBQVlLLFlBQVk7UUFDckUsSUFBSTtZQUNBTCxPQUFPQyxLQUFLQyxLQUFLLENBQUNGLEtBQUtNLFFBQVE7UUFDbkMsRUFDQSxPQUFPSCxHQUFHLENBQUU7SUFDaEI7SUFDQSxPQUFPSCxPQUFPQSxLQUFLTyxLQUFLLElBQUlQLE9BQU9ELEtBQUtTLFVBQVUsSUFBSTtBQUMxRCxFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9lcnJvci5qcz81NDcxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyd2VhdmVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICB0eXBlO1xuICAgIHJlc3BvbnNlO1xuICAgIGNvbnN0cnVjdG9yKHR5cGUsIG9wdGlvbmFsID0ge30pIHtcbiAgICAgICAgaWYgKG9wdGlvbmFsLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbmFsLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9uYWwucmVzcG9uc2U7XG4gICAgfVxuICAgIGdldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XG4gICAgfVxufVxuLy8gU2FmZWx5IGdldCBlcnJvciBzdHJpbmdcbi8vIGZyb20gYSByZXNwb25zZSwgZmFsbGluZyBiYWNrIHRvXG4vLyByZXNwLmRhdGEsIHN0YXR1c1RleHQgb3IgJ3Vua25vd24nLlxuLy8gTm90ZTogYSB3cm9uZ2x5IHNldCBjb250ZW50LXR5cGUgY2FuXG4vLyBjYXVzZSB3aGF0IGlzIGEganNvbiByZXNwb25zZSB0byBiZSBpbnRlcmVwdGVkXG4vLyBhcyBhIHN0cmluZyBvciBCdWZmZXIsIHNvIHdlIGhhbmRsZSB0aGF0IHRvby5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvcihyZXNwKSB7XG4gICAgbGV0IGRhdGEgPSByZXNwLmRhdGE7XG4gICAgaWYgKHR5cGVvZiByZXNwLmRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHJlc3AuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgIH1cbiAgICBpZiAocmVzcC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgcmVzcC5kYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhID8gZGF0YS5lcnJvciB8fCBkYXRhIDogcmVzcC5zdGF0dXNUZXh0IHx8IFwidW5rbm93blwiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIl0sIm5hbWVzIjpbIkFyd2VhdmVFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJ0eXBlIiwib3B0aW9uYWwiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJnZXRUeXBlIiwiZ2V0RXJyb3IiLCJyZXNwIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJ0b1N0cmluZyIsImVycm9yIiwic3RhdHVzVGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/fallbackApi.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/fallbackApi.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FallbackApi: () => (/* binding */ FallbackApi),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/api.js\");\n\nconst isApiConfig = (o)=>typeof o !== \"string\" && \"url\" in o;\nconst defaultFallbackConfig = {\n    maxAttempts: 15,\n    randomlySelect: true\n};\nclass FallbackApi {\n    constructor({ gateways, miners, opts }){\n        this.minerInstances = [];\n        this.gatewayInstances = [];\n        this.globalConfig = opts?.globalConfig ?? {};\n        if (miners) this.addMiners(miners);\n        if (gateways) this.addGateways(gateways);\n    // this.gatewayInstance = this.minerInstances[0];\n    }\n    async addPeersFrom(url, options) {\n        const peers = (await this.get(\"\", {\n            url: new URL(\"/peers\", url).toString()\n        })).data;\n        this.addMiners(peers.slice(0, options?.limit).map((p)=>`http://${p}`));\n    }\n    addMiners(hosts) {\n        hosts.forEach((h)=>this.minerInstances.push(new _api_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](isApiConfig(h) ? h : {\n                url: new URL(h),\n                ...this.globalConfig\n            })));\n    }\n    addGateways(hosts) {\n        hosts.forEach((h)=>this.gatewayInstances.push(new _api_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](isApiConfig(h) ? h : {\n                url: new URL(h),\n                ...this.globalConfig\n            })));\n    }\n    async get(path, config) {\n        return this.request(path, {\n            ...config,\n            method: \"GET\"\n        });\n    }\n    async post(path, body, config) {\n        return this.request(path, {\n            data: body,\n            ...config,\n            method: \"POST\"\n        });\n    }\n    async request(path, config) {\n        const fallbackConfig = {\n            ...defaultFallbackConfig,\n            ...config?.fallback\n        };\n        let attempts = 0;\n        const errors = [];\n        const instances = config?.gatewayOnly ? this.gatewayInstances : this.gatewayInstances.concat(this.minerInstances);\n        const maxAttempts = Math.min(Math.max(fallbackConfig?.maxAttempts, 1), instances.length);\n        const onFallback = fallbackConfig?.onFallback;\n        if (instances.length === 0) throw new Error(`Unable to run request due to 0 configured gateways/miners.`);\n        while(attempts++ < maxAttempts){\n            const apiInstance = instances.at(fallbackConfig?.randomlySelect ? Math.floor(Math.random() * instances.length) : attempts - 1);\n            if (!apiInstance) continue;\n            try {\n                return await apiInstance.request(path, {\n                    ...config\n                });\n            } catch (e) {\n                onFallback?.(e, apiInstance);\n                errors.push(e);\n                if (attempts >= maxAttempts) throw e;\n            }\n        }\n        throw new Error(\"unreachable\");\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FallbackApi); //# sourceMappingURL=fallbackApi.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9mYWxsYmFja0FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkI7QUFDM0IsTUFBTUMsY0FBYyxDQUFDQyxJQUFNLE9BQU9BLE1BQU0sWUFBWSxTQUFTQTtBQUM3RCxNQUFNQyx3QkFBd0I7SUFDMUJDLGFBQWE7SUFDYkMsZ0JBQWdCO0FBQ3BCO0FBQ08sTUFBTUM7SUFJVEMsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFHLENBQUU7YUFIekNDLGlCQUFpQixFQUFFO2FBRW5CQyxtQkFBbUIsRUFBRTtRQUVqQixJQUFJLENBQUNDLFlBQVksR0FBR0gsTUFBTUcsZ0JBQWdCLENBQUM7UUFDM0MsSUFBSUosUUFDQSxJQUFJLENBQUNLLFNBQVMsQ0FBQ0w7UUFDbkIsSUFBSUQsVUFDQSxJQUFJLENBQUNPLFdBQVcsQ0FBQ1A7SUFDckIsaURBQWlEO0lBQ3JEO0lBQ0EsTUFBTVEsYUFBYUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7UUFDN0IsTUFBTUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDQyxHQUFHLENBQUMsSUFBSTtZQUFFSCxLQUFLLElBQUlJLElBQUksVUFBVUosS0FBS0ssUUFBUTtRQUFHLEVBQUMsRUFBR0MsSUFBSTtRQUNuRixJQUFJLENBQUNULFNBQVMsQ0FBQ0ssTUFBTUssS0FBSyxDQUFDLEdBQUdOLFNBQVNPLE9BQU9DLEdBQUcsQ0FBQyxDQUFDQyxJQUFNLENBQUMsT0FBTyxFQUFFQSxFQUFFLENBQUM7SUFDMUU7SUFDQWIsVUFBVWMsS0FBSyxFQUFFO1FBQ2JBLE1BQU1DLE9BQU8sQ0FBQyxDQUFDQyxJQUFNLElBQUksQ0FBQ25CLGNBQWMsQ0FBQ29CLElBQUksQ0FBQyxJQUFJL0IsK0NBQUdBLENBQUNDLFlBQVk2QixLQUFLQSxJQUFJO2dCQUFFYixLQUFLLElBQUlJLElBQUlTO2dCQUFJLEdBQUcsSUFBSSxDQUFDakIsWUFBWTtZQUFDO0lBQ3ZIO0lBQ0FFLFlBQVlhLEtBQUssRUFBRTtRQUNmQSxNQUFNQyxPQUFPLENBQUMsQ0FBQ0MsSUFBTSxJQUFJLENBQUNsQixnQkFBZ0IsQ0FBQ21CLElBQUksQ0FBQyxJQUFJL0IsK0NBQUdBLENBQUNDLFlBQVk2QixLQUFLQSxJQUFJO2dCQUFFYixLQUFLLElBQUlJLElBQUlTO2dCQUFJLEdBQUcsSUFBSSxDQUFDakIsWUFBWTtZQUFDO0lBQ3pIO0lBQ0EsTUFBTU8sSUFBSVksSUFBSSxFQUFFQyxNQUFNLEVBQUU7UUFDcEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0YsTUFBTTtZQUFFLEdBQUdDLE1BQU07WUFBRUUsUUFBUTtRQUFNO0lBQ3pEO0lBQ0EsTUFBTUMsS0FBS0osSUFBSSxFQUFFSyxJQUFJLEVBQUVKLE1BQU0sRUFBRTtRQUMzQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDRixNQUFNO1lBQUVULE1BQU1jO1lBQU0sR0FBR0osTUFBTTtZQUFFRSxRQUFRO1FBQU87SUFDdEU7SUFDQSxNQUFNRCxRQUFRRixJQUFJLEVBQUVDLE1BQU0sRUFBRTtRQUN4QixNQUFNSyxpQkFBaUI7WUFBRSxHQUFHbkMscUJBQXFCO1lBQUUsR0FBRzhCLFFBQVFNLFFBQVE7UUFBQztRQUN2RSxJQUFJQyxXQUFXO1FBQ2YsTUFBTUMsU0FBUyxFQUFFO1FBQ2pCLE1BQU1DLFlBQVlULFFBQVFVLGNBQWMsSUFBSSxDQUFDL0IsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDQSxnQkFBZ0IsQ0FBQ2dDLE1BQU0sQ0FBQyxJQUFJLENBQUNqQyxjQUFjO1FBQ2hILE1BQU1QLGNBQWN5QyxLQUFLQyxHQUFHLENBQUNELEtBQUtFLEdBQUcsQ0FBQ1QsZ0JBQWdCbEMsYUFBYSxJQUFJc0MsVUFBVU0sTUFBTTtRQUN2RixNQUFNQyxhQUFhWCxnQkFBZ0JXO1FBQ25DLElBQUlQLFVBQVVNLE1BQU0sS0FBSyxHQUNyQixNQUFNLElBQUlFLE1BQU0sQ0FBQywwREFBMEQsQ0FBQztRQUNoRixNQUFPVixhQUFhcEMsWUFBYTtZQUM3QixNQUFNK0MsY0FBY1QsVUFBVVUsRUFBRSxDQUFDZCxnQkFBZ0JqQyxpQkFBaUJ3QyxLQUFLUSxLQUFLLENBQUNSLEtBQUtTLE1BQU0sS0FBS1osVUFBVU0sTUFBTSxJQUFJUixXQUFXO1lBQzVILElBQUksQ0FBQ1csYUFDRDtZQUNKLElBQUk7Z0JBQ0EsT0FBTyxNQUFNQSxZQUFZakIsT0FBTyxDQUFDRixNQUFNO29CQUFFLEdBQUdDLE1BQU07Z0JBQUM7WUFDdkQsRUFDQSxPQUFPc0IsR0FBRztnQkFDTk4sYUFBYU0sR0FBR0o7Z0JBQ2hCVixPQUFPVixJQUFJLENBQUN3QjtnQkFDWixJQUFJZixZQUFZcEMsYUFDWixNQUFNbUQ7WUFDZDtRQUNKO1FBQ0EsTUFBTSxJQUFJTCxNQUFNO0lBQ3BCO0FBQ0o7QUFDQSxpRUFBZTVDLFdBQVdBLEVBQUMsQ0FDM0IsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS9jb21tb24vbGliL2ZhbGxiYWNrQXBpLmpzPzczNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFwaSBmcm9tIFwiLi9hcGkuanNcIjtcbmNvbnN0IGlzQXBpQ29uZmlnID0gKG8pID0+IHR5cGVvZiBvICE9PSBcInN0cmluZ1wiICYmIFwidXJsXCIgaW4gbztcbmNvbnN0IGRlZmF1bHRGYWxsYmFja0NvbmZpZyA9IHtcbiAgICBtYXhBdHRlbXB0czogMTUsXG4gICAgcmFuZG9tbHlTZWxlY3Q6IHRydWUsXG59O1xuZXhwb3J0IGNsYXNzIEZhbGxiYWNrQXBpIHtcbiAgICBtaW5lckluc3RhbmNlcyA9IFtdO1xuICAgIGdsb2JhbENvbmZpZztcbiAgICBnYXRld2F5SW5zdGFuY2VzID0gW107XG4gICAgY29uc3RydWN0b3IoeyBnYXRld2F5cywgbWluZXJzLCBvcHRzLCB9KSB7XG4gICAgICAgIHRoaXMuZ2xvYmFsQ29uZmlnID0gb3B0cz8uZ2xvYmFsQ29uZmlnID8/IHt9O1xuICAgICAgICBpZiAobWluZXJzKVxuICAgICAgICAgICAgdGhpcy5hZGRNaW5lcnMobWluZXJzKTtcbiAgICAgICAgaWYgKGdhdGV3YXlzKVxuICAgICAgICAgICAgdGhpcy5hZGRHYXRld2F5cyhnYXRld2F5cyk7XG4gICAgICAgIC8vIHRoaXMuZ2F0ZXdheUluc3RhbmNlID0gdGhpcy5taW5lckluc3RhbmNlc1swXTtcbiAgICB9XG4gICAgYXN5bmMgYWRkUGVlcnNGcm9tKHVybCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwZWVycyA9IChhd2FpdCB0aGlzLmdldChcIlwiLCB7IHVybDogbmV3IFVSTChcIi9wZWVyc1wiLCB1cmwpLnRvU3RyaW5nKCkgfSkpLmRhdGE7XG4gICAgICAgIHRoaXMuYWRkTWluZXJzKHBlZXJzLnNsaWNlKDAsIG9wdGlvbnM/LmxpbWl0KS5tYXAoKHApID0+IGBodHRwOi8vJHtwfWApKTtcbiAgICB9XG4gICAgYWRkTWluZXJzKGhvc3RzKSB7XG4gICAgICAgIGhvc3RzLmZvckVhY2goKGgpID0+IHRoaXMubWluZXJJbnN0YW5jZXMucHVzaChuZXcgQXBpKGlzQXBpQ29uZmlnKGgpID8gaCA6IHsgdXJsOiBuZXcgVVJMKGgpLCAuLi50aGlzLmdsb2JhbENvbmZpZyB9KSkpO1xuICAgIH1cbiAgICBhZGRHYXRld2F5cyhob3N0cykge1xuICAgICAgICBob3N0cy5mb3JFYWNoKChoKSA9PiB0aGlzLmdhdGV3YXlJbnN0YW5jZXMucHVzaChuZXcgQXBpKGlzQXBpQ29uZmlnKGgpID8gaCA6IHsgdXJsOiBuZXcgVVJMKGgpLCAuLi50aGlzLmdsb2JhbENvbmZpZyB9KSkpO1xuICAgIH1cbiAgICBhc3luYyBnZXQocGF0aCwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QocGF0aCwgeyAuLi5jb25maWcsIG1ldGhvZDogXCJHRVRcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgcG9zdChwYXRoLCBib2R5LCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChwYXRoLCB7IGRhdGE6IGJvZHksIC4uLmNvbmZpZywgbWV0aG9kOiBcIlBPU1RcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgcmVxdWVzdChwYXRoLCBjb25maWcpIHtcbiAgICAgICAgY29uc3QgZmFsbGJhY2tDb25maWcgPSB7IC4uLmRlZmF1bHRGYWxsYmFja0NvbmZpZywgLi4uY29uZmlnPy5mYWxsYmFjayB9O1xuICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2VzID0gY29uZmlnPy5nYXRld2F5T25seSA/IHRoaXMuZ2F0ZXdheUluc3RhbmNlcyA6IHRoaXMuZ2F0ZXdheUluc3RhbmNlcy5jb25jYXQodGhpcy5taW5lckluc3RhbmNlcyk7XG4gICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gTWF0aC5taW4oTWF0aC5tYXgoZmFsbGJhY2tDb25maWc/Lm1heEF0dGVtcHRzLCAxKSwgaW5zdGFuY2VzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IG9uRmFsbGJhY2sgPSBmYWxsYmFja0NvbmZpZz8ub25GYWxsYmFjaztcbiAgICAgICAgaWYgKGluc3RhbmNlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBydW4gcmVxdWVzdCBkdWUgdG8gMCBjb25maWd1cmVkIGdhdGV3YXlzL21pbmVycy5gKTtcbiAgICAgICAgd2hpbGUgKGF0dGVtcHRzKysgPCBtYXhBdHRlbXB0cykge1xuICAgICAgICAgICAgY29uc3QgYXBpSW5zdGFuY2UgPSBpbnN0YW5jZXMuYXQoZmFsbGJhY2tDb25maWc/LnJhbmRvbWx5U2VsZWN0ID8gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaW5zdGFuY2VzLmxlbmd0aCkgOiBhdHRlbXB0cyAtIDEpO1xuICAgICAgICAgICAgaWYgKCFhcGlJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFwaUluc3RhbmNlLnJlcXVlc3QocGF0aCwgeyAuLi5jb25maWcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG9uRmFsbGJhY2s/LihlLCBhcGlJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heEF0dGVtcHRzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVucmVhY2hhYmxlXCIpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEZhbGxiYWNrQXBpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFsbGJhY2tBcGkuanMubWFwIl0sIm5hbWVzIjpbIkFwaSIsImlzQXBpQ29uZmlnIiwibyIsImRlZmF1bHRGYWxsYmFja0NvbmZpZyIsIm1heEF0dGVtcHRzIiwicmFuZG9tbHlTZWxlY3QiLCJGYWxsYmFja0FwaSIsImNvbnN0cnVjdG9yIiwiZ2F0ZXdheXMiLCJtaW5lcnMiLCJvcHRzIiwibWluZXJJbnN0YW5jZXMiLCJnYXRld2F5SW5zdGFuY2VzIiwiZ2xvYmFsQ29uZmlnIiwiYWRkTWluZXJzIiwiYWRkR2F0ZXdheXMiLCJhZGRQZWVyc0Zyb20iLCJ1cmwiLCJvcHRpb25zIiwicGVlcnMiLCJnZXQiLCJVUkwiLCJ0b1N0cmluZyIsImRhdGEiLCJzbGljZSIsImxpbWl0IiwibWFwIiwicCIsImhvc3RzIiwiZm9yRWFjaCIsImgiLCJwdXNoIiwicGF0aCIsImNvbmZpZyIsInJlcXVlc3QiLCJtZXRob2QiLCJwb3N0IiwiYm9keSIsImZhbGxiYWNrQ29uZmlnIiwiZmFsbGJhY2siLCJhdHRlbXB0cyIsImVycm9ycyIsImluc3RhbmNlcyIsImdhdGV3YXlPbmx5IiwiY29uY2F0IiwiTWF0aCIsIm1pbiIsIm1heCIsImxlbmd0aCIsIm9uRmFsbGJhY2siLCJFcnJvciIsImFwaUluc3RhbmNlIiwiYXQiLCJmbG9vciIsInJhbmRvbSIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/fallbackApi.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_CHUNK_SIZE: () => (/* binding */ MAX_CHUNK_SIZE),\n/* harmony export */   MIN_CHUNK_SIZE: () => (/* binding */ MIN_CHUNK_SIZE),\n/* harmony export */   Merkle: () => (/* binding */ Merkle),\n/* harmony export */   arrayCompare: () => (/* binding */ arrayCompare),\n/* harmony export */   arrayFlatten: () => (/* binding */ arrayFlatten),\n/* harmony export */   bufferToInt: () => (/* binding */ bufferToInt),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   intToBuffer: () => (/* binding */ intToBuffer)\n/* harmony export */ });\n/* harmony import */ var _arweave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../arweave.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/arweave.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/**\n * @see {@link https://github.com/ArweaveTeam/arweave/blob/fbc381e0e36efffa45d13f2faa6199d3766edaa2/apps/arweave/src/ar_merkle.erl}\n */ \n\nconst MAX_CHUNK_SIZE = 256 * 1024;\nconst MIN_CHUNK_SIZE = 32 * 1024;\nconst NOTE_SIZE = 32;\nconst HASH_SIZE = 32;\nclass Merkle {\n    constructor(opts){\n        this.crypto = opts.deps.crypto;\n    }\n    /**\n     * Takes the input data and chunks it into (mostly) equal sized chunks.\n     * The last chunk will be a bit smaller as it contains the remainder\n     * from the chunking process.\n     */ async chunkData(data) {\n        const chunks = [];\n        let rest = data;\n        let cursor = 0;\n        while(rest.byteLength >= MAX_CHUNK_SIZE){\n            let chunkSize = MAX_CHUNK_SIZE;\n            // If the total bytes left will produce a chunk < MIN_CHUNK_SIZE,\n            // then adjust the amount we put in this 2nd last chunk.\n            const nextChunkSize = rest.byteLength - MAX_CHUNK_SIZE;\n            if (nextChunkSize > 0 && nextChunkSize < MIN_CHUNK_SIZE) {\n                chunkSize = Math.ceil(rest.byteLength / 2);\n            // console.log(`Last chunk will be: ${nextChunkSize} which is below ${MIN_CHUNK_SIZE}, adjusting current to ${chunkSize} with ${rest.byteLength} left.`)\n            }\n            const chunk = rest.slice(0, chunkSize);\n            const dataHash = await this.crypto.hash(chunk);\n            cursor += chunk.byteLength;\n            chunks.push({\n                dataHash,\n                minByteRange: cursor - chunk.byteLength,\n                maxByteRange: cursor\n            });\n            rest = rest.slice(chunkSize);\n        }\n        chunks.push({\n            dataHash: await this.crypto.hash(rest),\n            minByteRange: cursor,\n            maxByteRange: cursor + rest.byteLength\n        });\n        return chunks;\n    }\n    async generateLeaves(chunks) {\n        return Promise.all(chunks.map(async ({ dataHash, minByteRange, maxByteRange })=>{\n            return {\n                type: \"leaf\",\n                id: await this.hash(await Promise.all([\n                    this.hash(dataHash),\n                    this.hash(intToBuffer(maxByteRange))\n                ])),\n                dataHash: dataHash,\n                minByteRange,\n                maxByteRange\n            };\n        }));\n    }\n    /**\n     * Builds an arweave merkle tree and gets the root hash for the given input.\n     */ async computeRootHash(data) {\n        const rootNode = await this.generateTree(data);\n        return rootNode.id;\n    }\n    async generateTree(data) {\n        const rootNode = await this.buildLayers(await this.generateLeaves(await this.chunkData(data)));\n        return rootNode;\n    }\n    /**\n     * Generates the data_root, chunks & proofs\n     * needed for a transaction.\n     *\n     * This also checks if the last chunk is a zero-length\n     * chunk and discards that chunk and proof if so.\n     * (we do not need to upload this zero length chunk)\n     *\n     * @param data\n     */ async generateTransactionChunks(data) {\n        const chunks = await this.chunkData(data);\n        const leaves = await this.generateLeaves(chunks);\n        const root = await this.buildLayers(leaves);\n        const proofs = await this.generateProofs(root);\n        // Discard the last chunk & proof if it's zero length.\n        const lastChunk = chunks.slice(-1)[0];\n        if (lastChunk.maxByteRange - lastChunk.minByteRange === 0) {\n            chunks.splice(chunks.length - 1, 1);\n            proofs.splice(proofs.length - 1, 1);\n        }\n        return {\n            data_root: root.id,\n            chunks,\n            proofs\n        };\n    }\n    /**\n     * Starting with the bottom layer of leaf nodes, hash every second pair\n     * into a new branch node, push those branch nodes onto a new layer,\n     * and then recurse, building up the tree to it's root, where the\n     * layer only consists of two items.\n     */ async buildLayers(nodes, level = 0) {\n        // If there is only 1 node left, this is going to be the root node\n        if (nodes.length < 2) {\n            const root = nodes[0];\n            // console.log(\"Root layer\", root);\n            return root;\n        }\n        const nextLayer = [];\n        for(let i = 0; i < nodes.length; i += 2){\n            nextLayer.push(await this.hashBranch(nodes[i], nodes[i + 1]));\n        }\n        // console.log(\"Layer\", nextLayer);\n        return this.buildLayers(nextLayer, level + 1);\n    }\n    /**\n     * Recursively search through all branches of the tree,\n     * and generate a proof for each leaf node.\n     */ generateProofs(root) {\n        const proofs = this.resolveBranchProofs(root);\n        if (!Array.isArray(proofs)) {\n            return [\n                proofs\n            ];\n        }\n        return arrayFlatten(proofs);\n    }\n    resolveBranchProofs(node, proof = new Uint8Array(), depth = 0) {\n        if (node.type == \"leaf\") {\n            return {\n                offset: node.maxByteRange - 1,\n                proof: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBuffers)([\n                    proof,\n                    node.dataHash,\n                    intToBuffer(node.maxByteRange)\n                ])\n            };\n        }\n        if (node.type == \"branch\") {\n            const partialProof = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.concatBuffers)([\n                proof,\n                node.leftChild.id,\n                node.rightChild.id,\n                intToBuffer(node.byteRange)\n            ]);\n            return [\n                this.resolveBranchProofs(node.leftChild, partialProof, depth + 1),\n                this.resolveBranchProofs(node.rightChild, partialProof, depth + 1)\n            ];\n        }\n        throw new Error(`Unexpected node type`);\n    }\n    async validatePath(id, dest, leftBound, rightBound, path) {\n        if (rightBound <= 0) {\n            return false;\n        }\n        if (dest >= rightBound) {\n            return this.validatePath(id, 0, rightBound - 1, rightBound, path);\n        }\n        if (dest < 0) {\n            return this.validatePath(id, 0, 0, rightBound, path);\n        }\n        if (path.length == HASH_SIZE + NOTE_SIZE) {\n            const pathData = path.slice(0, HASH_SIZE);\n            const endOffsetBuffer = path.slice(pathData.length, pathData.length + NOTE_SIZE);\n            const pathDataHash = await this.hash([\n                await this.hash(pathData),\n                await this.hash(endOffsetBuffer)\n            ]);\n            const result = arrayCompare(id, pathDataHash);\n            if (result) {\n                return {\n                    offset: rightBound - 1,\n                    leftBound: leftBound,\n                    rightBound: rightBound,\n                    chunkSize: rightBound - leftBound\n                };\n            }\n            return false;\n        }\n        const left = path.slice(0, HASH_SIZE);\n        const right = path.slice(left.length, left.length + HASH_SIZE);\n        const offsetBuffer = path.slice(left.length + right.length, left.length + right.length + NOTE_SIZE);\n        const offset = bufferToInt(offsetBuffer);\n        const remainder = path.slice(left.length + right.length + offsetBuffer.length);\n        const pathHash = await this.hash([\n            await this.hash(left),\n            await this.hash(right),\n            await this.hash(offsetBuffer)\n        ]);\n        if (arrayCompare(id, pathHash)) {\n            if (dest < offset) {\n                return await this.validatePath(left, dest, leftBound, Math.min(rightBound, offset), remainder);\n            }\n            return await this.validatePath(right, dest, Math.max(leftBound, offset), rightBound, remainder);\n        }\n        return false;\n    }\n    async hashBranch(left, right) {\n        if (!right) {\n            return left;\n        }\n        const branch = {\n            type: \"branch\",\n            id: await this.hash([\n                await this.hash(left.id),\n                await this.hash(right.id),\n                await this.hash(intToBuffer(left.maxByteRange))\n            ]),\n            byteRange: left.maxByteRange,\n            maxByteRange: right.maxByteRange,\n            leftChild: left,\n            rightChild: right\n        };\n        return branch;\n    }\n    async hash(data) {\n        if (Array.isArray(data)) {\n            data = _arweave_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].utils.concatBuffers(data);\n        }\n        return new Uint8Array(await this.crypto.hash(data));\n    }\n    /**\n     * Inspect an arweave chunk proof.\n     * Takes proof, parses, reads and displays the values for console logging.\n     * One proof section per line\n     * Format: left,right,offset => hash\n     */ async debug(proof, output = \"\") {\n        if (proof.byteLength < 1) {\n            return output;\n        }\n        const left = proof.slice(0, HASH_SIZE);\n        const right = proof.slice(left.length, left.length + HASH_SIZE);\n        const offsetBuffer = proof.slice(left.length + right.length, left.length + right.length + NOTE_SIZE);\n        const offset = bufferToInt(offsetBuffer);\n        const remainder = proof.slice(left.length + right.length + offsetBuffer.length);\n        const pathHash = await this.hash([\n            await this.hash(left),\n            await this.hash(right),\n            await this.hash(offsetBuffer)\n        ]);\n        const updatedOutput = `${output}\\n${JSON.stringify(Buffer.from(left))},${JSON.stringify(Buffer.from(right))},${offset} => ${JSON.stringify(pathHash)}`;\n        return this.debug(remainder, updatedOutput);\n    }\n}\nfunction arrayFlatten(input) {\n    const flat = [];\n    input.forEach((item)=>{\n        if (Array.isArray(item)) {\n            flat.push(...arrayFlatten(item));\n        } else {\n            flat.push(item);\n        }\n    });\n    return flat;\n}\nfunction intToBuffer(note) {\n    const buffer = new Uint8Array(NOTE_SIZE);\n    for(let i = buffer.length - 1; i >= 0; i--){\n        const byte = note % 256;\n        buffer[i] = byte;\n        note = (note - byte) / 256;\n    }\n    return buffer;\n}\nfunction bufferToInt(buffer) {\n    let value = 0;\n    for(let i = 0; i < buffer.length; i++){\n        value *= 256;\n        value += buffer[i];\n    }\n    return value;\n}\nconst arrayCompare = (a, b)=>a.every((value, index)=>b[index] === value);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Merkle); //# sourceMappingURL=merkle.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9tZXJrbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBOztDQUVDLEdBQ21DO0FBQ087QUFDcEMsTUFBTUUsaUJBQWlCLE1BQU0sS0FBSztBQUNsQyxNQUFNQyxpQkFBaUIsS0FBSyxLQUFLO0FBQ3hDLE1BQU1DLFlBQVk7QUFDbEIsTUFBTUMsWUFBWTtBQUNYLE1BQU1DO0lBRVRDLFlBQVlDLElBQUksQ0FBRTtRQUNkLElBQUksQ0FBQ0MsTUFBTSxHQUFHRCxLQUFLRSxJQUFJLENBQUNELE1BQU07SUFDbEM7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTUUsVUFBVUMsSUFBSSxFQUFFO1FBQ2xCLE1BQU1DLFNBQVMsRUFBRTtRQUNqQixJQUFJQyxPQUFPRjtRQUNYLElBQUlHLFNBQVM7UUFDYixNQUFPRCxLQUFLRSxVQUFVLElBQUlkLGVBQWdCO1lBQ3RDLElBQUllLFlBQVlmO1lBQ2hCLGlFQUFpRTtZQUNqRSx3REFBd0Q7WUFDeEQsTUFBTWdCLGdCQUFnQkosS0FBS0UsVUFBVSxHQUFHZDtZQUN4QyxJQUFJZ0IsZ0JBQWdCLEtBQUtBLGdCQUFnQmYsZ0JBQWdCO2dCQUNyRGMsWUFBWUUsS0FBS0MsSUFBSSxDQUFDTixLQUFLRSxVQUFVLEdBQUc7WUFDeEMsd0pBQXdKO1lBQzVKO1lBQ0EsTUFBTUssUUFBUVAsS0FBS1EsS0FBSyxDQUFDLEdBQUdMO1lBQzVCLE1BQU1NLFdBQVcsTUFBTSxJQUFJLENBQUNkLE1BQU0sQ0FBQ2UsSUFBSSxDQUFDSDtZQUN4Q04sVUFBVU0sTUFBTUwsVUFBVTtZQUMxQkgsT0FBT1ksSUFBSSxDQUFDO2dCQUNSRjtnQkFDQUcsY0FBY1gsU0FBU00sTUFBTUwsVUFBVTtnQkFDdkNXLGNBQWNaO1lBQ2xCO1lBQ0FELE9BQU9BLEtBQUtRLEtBQUssQ0FBQ0w7UUFDdEI7UUFDQUosT0FBT1ksSUFBSSxDQUFDO1lBQ1JGLFVBQVUsTUFBTSxJQUFJLENBQUNkLE1BQU0sQ0FBQ2UsSUFBSSxDQUFDVjtZQUNqQ1ksY0FBY1g7WUFDZFksY0FBY1osU0FBU0QsS0FBS0UsVUFBVTtRQUMxQztRQUNBLE9BQU9IO0lBQ1g7SUFDQSxNQUFNZSxlQUFlZixNQUFNLEVBQUU7UUFDekIsT0FBT2dCLFFBQVFDLEdBQUcsQ0FBQ2pCLE9BQU9rQixHQUFHLENBQUMsT0FBTyxFQUFFUixRQUFRLEVBQUVHLFlBQVksRUFBRUMsWUFBWSxFQUFFO1lBQ3pFLE9BQU87Z0JBQ0hLLE1BQU07Z0JBQ05DLElBQUksTUFBTSxJQUFJLENBQUNULElBQUksQ0FBQyxNQUFNSyxRQUFRQyxHQUFHLENBQUM7b0JBQUMsSUFBSSxDQUFDTixJQUFJLENBQUNEO29CQUFXLElBQUksQ0FBQ0MsSUFBSSxDQUFDVSxZQUFZUDtpQkFBZTtnQkFDakdKLFVBQVVBO2dCQUNWRztnQkFDQUM7WUFDSjtRQUNKO0lBQ0o7SUFDQTs7S0FFQyxHQUNELE1BQU1RLGdCQUFnQnZCLElBQUksRUFBRTtRQUN4QixNQUFNd0IsV0FBVyxNQUFNLElBQUksQ0FBQ0MsWUFBWSxDQUFDekI7UUFDekMsT0FBT3dCLFNBQVNILEVBQUU7SUFDdEI7SUFDQSxNQUFNSSxhQUFhekIsSUFBSSxFQUFFO1FBQ3JCLE1BQU13QixXQUFXLE1BQU0sSUFBSSxDQUFDRSxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUNWLGNBQWMsQ0FBQyxNQUFNLElBQUksQ0FBQ2pCLFNBQVMsQ0FBQ0M7UUFDdkYsT0FBT3dCO0lBQ1g7SUFDQTs7Ozs7Ozs7O0tBU0MsR0FDRCxNQUFNRywwQkFBMEIzQixJQUFJLEVBQUU7UUFDbEMsTUFBTUMsU0FBUyxNQUFNLElBQUksQ0FBQ0YsU0FBUyxDQUFDQztRQUNwQyxNQUFNNEIsU0FBUyxNQUFNLElBQUksQ0FBQ1osY0FBYyxDQUFDZjtRQUN6QyxNQUFNNEIsT0FBTyxNQUFNLElBQUksQ0FBQ0gsV0FBVyxDQUFDRTtRQUNwQyxNQUFNRSxTQUFTLE1BQU0sSUFBSSxDQUFDQyxjQUFjLENBQUNGO1FBQ3pDLHNEQUFzRDtRQUN0RCxNQUFNRyxZQUFZL0IsT0FBT1MsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDckMsSUFBSXNCLFVBQVVqQixZQUFZLEdBQUdpQixVQUFVbEIsWUFBWSxLQUFLLEdBQUc7WUFDdkRiLE9BQU9nQyxNQUFNLENBQUNoQyxPQUFPaUMsTUFBTSxHQUFHLEdBQUc7WUFDakNKLE9BQU9HLE1BQU0sQ0FBQ0gsT0FBT0ksTUFBTSxHQUFHLEdBQUc7UUFDckM7UUFDQSxPQUFPO1lBQ0hDLFdBQVdOLEtBQUtSLEVBQUU7WUFDbEJwQjtZQUNBNkI7UUFDSjtJQUNKO0lBQ0E7Ozs7O0tBS0MsR0FDRCxNQUFNSixZQUFZVSxLQUFLLEVBQUVDLFFBQVEsQ0FBQyxFQUFFO1FBQ2hDLGtFQUFrRTtRQUNsRSxJQUFJRCxNQUFNRixNQUFNLEdBQUcsR0FBRztZQUNsQixNQUFNTCxPQUFPTyxLQUFLLENBQUMsRUFBRTtZQUNyQixtQ0FBbUM7WUFDbkMsT0FBT1A7UUFDWDtRQUNBLE1BQU1TLFlBQVksRUFBRTtRQUNwQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUgsTUFBTUYsTUFBTSxFQUFFSyxLQUFLLEVBQUc7WUFDdENELFVBQVV6QixJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMyQixVQUFVLENBQUNKLEtBQUssQ0FBQ0csRUFBRSxFQUFFSCxLQUFLLENBQUNHLElBQUksRUFBRTtRQUMvRDtRQUNBLG1DQUFtQztRQUNuQyxPQUFPLElBQUksQ0FBQ2IsV0FBVyxDQUFDWSxXQUFXRCxRQUFRO0lBQy9DO0lBQ0E7OztLQUdDLEdBQ0ROLGVBQWVGLElBQUksRUFBRTtRQUNqQixNQUFNQyxTQUFTLElBQUksQ0FBQ1csbUJBQW1CLENBQUNaO1FBQ3hDLElBQUksQ0FBQ2EsTUFBTUMsT0FBTyxDQUFDYixTQUFTO1lBQ3hCLE9BQU87Z0JBQUNBO2FBQU87UUFDbkI7UUFDQSxPQUFPYyxhQUFhZDtJQUN4QjtJQUNBVyxvQkFBb0JJLElBQUksRUFBRUMsUUFBUSxJQUFJQyxZQUFZLEVBQUVDLFFBQVEsQ0FBQyxFQUFFO1FBQzNELElBQUlILEtBQUt6QixJQUFJLElBQUksUUFBUTtZQUNyQixPQUFPO2dCQUNINkIsUUFBUUosS0FBSzlCLFlBQVksR0FBRztnQkFDNUIrQixPQUFPekQsd0RBQWFBLENBQUM7b0JBQUN5RDtvQkFBT0QsS0FBS2xDLFFBQVE7b0JBQUVXLFlBQVl1QixLQUFLOUIsWUFBWTtpQkFBRTtZQUMvRTtRQUNKO1FBQ0EsSUFBSThCLEtBQUt6QixJQUFJLElBQUksVUFBVTtZQUN2QixNQUFNOEIsZUFBZTdELHdEQUFhQSxDQUFDO2dCQUFDeUQ7Z0JBQU9ELEtBQUtNLFNBQVMsQ0FBQzlCLEVBQUU7Z0JBQUV3QixLQUFLTyxVQUFVLENBQUMvQixFQUFFO2dCQUFFQyxZQUFZdUIsS0FBS1EsU0FBUzthQUFFO1lBQzlHLE9BQU87Z0JBQ0gsSUFBSSxDQUFDWixtQkFBbUIsQ0FBQ0ksS0FBS00sU0FBUyxFQUFFRCxjQUFjRixRQUFRO2dCQUMvRCxJQUFJLENBQUNQLG1CQUFtQixDQUFDSSxLQUFLTyxVQUFVLEVBQUVGLGNBQWNGLFFBQVE7YUFDbkU7UUFDTDtRQUNBLE1BQU0sSUFBSU0sTUFBTSxDQUFDLG9CQUFvQixDQUFDO0lBQzFDO0lBQ0EsTUFBTUMsYUFBYWxDLEVBQUUsRUFBRW1DLElBQUksRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUVDLElBQUksRUFBRTtRQUN0RCxJQUFJRCxjQUFjLEdBQUc7WUFDakIsT0FBTztRQUNYO1FBQ0EsSUFBSUYsUUFBUUUsWUFBWTtZQUNwQixPQUFPLElBQUksQ0FBQ0gsWUFBWSxDQUFDbEMsSUFBSSxHQUFHcUMsYUFBYSxHQUFHQSxZQUFZQztRQUNoRTtRQUNBLElBQUlILE9BQU8sR0FBRztZQUNWLE9BQU8sSUFBSSxDQUFDRCxZQUFZLENBQUNsQyxJQUFJLEdBQUcsR0FBR3FDLFlBQVlDO1FBQ25EO1FBQ0EsSUFBSUEsS0FBS3pCLE1BQU0sSUFBSXpDLFlBQVlELFdBQVc7WUFDdEMsTUFBTW9FLFdBQVdELEtBQUtqRCxLQUFLLENBQUMsR0FBR2pCO1lBQy9CLE1BQU1vRSxrQkFBa0JGLEtBQUtqRCxLQUFLLENBQUNrRCxTQUFTMUIsTUFBTSxFQUFFMEIsU0FBUzFCLE1BQU0sR0FBRzFDO1lBQ3RFLE1BQU1zRSxlQUFlLE1BQU0sSUFBSSxDQUFDbEQsSUFBSSxDQUFDO2dCQUFDLE1BQU0sSUFBSSxDQUFDQSxJQUFJLENBQUNnRDtnQkFBVyxNQUFNLElBQUksQ0FBQ2hELElBQUksQ0FBQ2lEO2FBQWlCO1lBQ2xHLE1BQU1FLFNBQVNDLGFBQWEzQyxJQUFJeUM7WUFDaEMsSUFBSUMsUUFBUTtnQkFDUixPQUFPO29CQUNIZCxRQUFRUyxhQUFhO29CQUNyQkQsV0FBV0E7b0JBQ1hDLFlBQVlBO29CQUNackQsV0FBV3FELGFBQWFEO2dCQUM1QjtZQUNKO1lBQ0EsT0FBTztRQUNYO1FBQ0EsTUFBTVEsT0FBT04sS0FBS2pELEtBQUssQ0FBQyxHQUFHakI7UUFDM0IsTUFBTXlFLFFBQVFQLEtBQUtqRCxLQUFLLENBQUN1RCxLQUFLL0IsTUFBTSxFQUFFK0IsS0FBSy9CLE1BQU0sR0FBR3pDO1FBQ3BELE1BQU0wRSxlQUFlUixLQUFLakQsS0FBSyxDQUFDdUQsS0FBSy9CLE1BQU0sR0FBR2dDLE1BQU1oQyxNQUFNLEVBQUUrQixLQUFLL0IsTUFBTSxHQUFHZ0MsTUFBTWhDLE1BQU0sR0FBRzFDO1FBQ3pGLE1BQU15RCxTQUFTbUIsWUFBWUQ7UUFDM0IsTUFBTUUsWUFBWVYsS0FBS2pELEtBQUssQ0FBQ3VELEtBQUsvQixNQUFNLEdBQUdnQyxNQUFNaEMsTUFBTSxHQUFHaUMsYUFBYWpDLE1BQU07UUFDN0UsTUFBTW9DLFdBQVcsTUFBTSxJQUFJLENBQUMxRCxJQUFJLENBQUM7WUFBQyxNQUFNLElBQUksQ0FBQ0EsSUFBSSxDQUFDcUQ7WUFBTyxNQUFNLElBQUksQ0FBQ3JELElBQUksQ0FBQ3NEO1lBQVEsTUFBTSxJQUFJLENBQUN0RCxJQUFJLENBQUN1RDtTQUFjO1FBQy9HLElBQUlILGFBQWEzQyxJQUFJaUQsV0FBVztZQUM1QixJQUFJZCxPQUFPUCxRQUFRO2dCQUNmLE9BQU8sTUFBTSxJQUFJLENBQUNNLFlBQVksQ0FBQ1UsTUFBTVQsTUFBTUMsV0FBV2xELEtBQUtnRSxHQUFHLENBQUNiLFlBQVlULFNBQVNvQjtZQUN4RjtZQUNBLE9BQU8sTUFBTSxJQUFJLENBQUNkLFlBQVksQ0FBQ1csT0FBT1YsTUFBTWpELEtBQUtpRSxHQUFHLENBQUNmLFdBQVdSLFNBQVNTLFlBQVlXO1FBQ3pGO1FBQ0EsT0FBTztJQUNYO0lBQ0EsTUFBTTdCLFdBQVd5QixJQUFJLEVBQUVDLEtBQUssRUFBRTtRQUMxQixJQUFJLENBQUNBLE9BQU87WUFDUixPQUFPRDtRQUNYO1FBQ0EsTUFBTVEsU0FBUztZQUNYckQsTUFBTTtZQUNOQyxJQUFJLE1BQU0sSUFBSSxDQUFDVCxJQUFJLENBQUM7Z0JBQUMsTUFBTSxJQUFJLENBQUNBLElBQUksQ0FBQ3FELEtBQUs1QyxFQUFFO2dCQUFHLE1BQU0sSUFBSSxDQUFDVCxJQUFJLENBQUNzRCxNQUFNN0MsRUFBRTtnQkFBRyxNQUFNLElBQUksQ0FBQ1QsSUFBSSxDQUFDVSxZQUFZMkMsS0FBS2xELFlBQVk7YUFBRztZQUMxSHNDLFdBQVdZLEtBQUtsRCxZQUFZO1lBQzVCQSxjQUFjbUQsTUFBTW5ELFlBQVk7WUFDaENvQyxXQUFXYztZQUNYYixZQUFZYztRQUNoQjtRQUNBLE9BQU9PO0lBQ1g7SUFDQSxNQUFNN0QsS0FBS1osSUFBSSxFQUFFO1FBQ2IsSUFBSTBDLE1BQU1DLE9BQU8sQ0FBQzNDLE9BQU87WUFDckJBLE9BQU9aLG1EQUFPQSxDQUFDc0YsS0FBSyxDQUFDckYsYUFBYSxDQUFDVztRQUN2QztRQUNBLE9BQU8sSUFBSStDLFdBQVcsTUFBTSxJQUFJLENBQUNsRCxNQUFNLENBQUNlLElBQUksQ0FBQ1o7SUFDakQ7SUFDQTs7Ozs7S0FLQyxHQUNELE1BQU0yRSxNQUFNN0IsS0FBSyxFQUFFOEIsU0FBUyxFQUFFLEVBQUU7UUFDNUIsSUFBSTlCLE1BQU0xQyxVQUFVLEdBQUcsR0FBRztZQUN0QixPQUFPd0U7UUFDWDtRQUNBLE1BQU1YLE9BQU9uQixNQUFNcEMsS0FBSyxDQUFDLEdBQUdqQjtRQUM1QixNQUFNeUUsUUFBUXBCLE1BQU1wQyxLQUFLLENBQUN1RCxLQUFLL0IsTUFBTSxFQUFFK0IsS0FBSy9CLE1BQU0sR0FBR3pDO1FBQ3JELE1BQU0wRSxlQUFlckIsTUFBTXBDLEtBQUssQ0FBQ3VELEtBQUsvQixNQUFNLEdBQUdnQyxNQUFNaEMsTUFBTSxFQUFFK0IsS0FBSy9CLE1BQU0sR0FBR2dDLE1BQU1oQyxNQUFNLEdBQUcxQztRQUMxRixNQUFNeUQsU0FBU21CLFlBQVlEO1FBQzNCLE1BQU1FLFlBQVl2QixNQUFNcEMsS0FBSyxDQUFDdUQsS0FBSy9CLE1BQU0sR0FBR2dDLE1BQU1oQyxNQUFNLEdBQUdpQyxhQUFhakMsTUFBTTtRQUM5RSxNQUFNb0MsV0FBVyxNQUFNLElBQUksQ0FBQzFELElBQUksQ0FBQztZQUFDLE1BQU0sSUFBSSxDQUFDQSxJQUFJLENBQUNxRDtZQUFPLE1BQU0sSUFBSSxDQUFDckQsSUFBSSxDQUFDc0Q7WUFBUSxNQUFNLElBQUksQ0FBQ3RELElBQUksQ0FBQ3VEO1NBQWM7UUFDL0csTUFBTVUsZ0JBQWdCLENBQUMsRUFBRUQsT0FBTyxFQUFFLEVBQUVFLEtBQUtDLFNBQVMsQ0FBQ0MsT0FBT0MsSUFBSSxDQUFDaEIsT0FBTyxDQUFDLEVBQUVhLEtBQUtDLFNBQVMsQ0FBQ0MsT0FBT0MsSUFBSSxDQUFDZixRQUFRLENBQUMsRUFBRWpCLE9BQU8sSUFBSSxFQUFFNkIsS0FBS0MsU0FBUyxDQUFDVCxVQUFVLENBQUM7UUFDdEosT0FBTyxJQUFJLENBQUNLLEtBQUssQ0FBQ04sV0FBV1E7SUFDakM7QUFDSjtBQUNPLFNBQVNqQyxhQUFhc0MsS0FBSztJQUM5QixNQUFNQyxPQUFPLEVBQUU7SUFDZkQsTUFBTUUsT0FBTyxDQUFDLENBQUNDO1FBQ1gsSUFBSTNDLE1BQU1DLE9BQU8sQ0FBQzBDLE9BQU87WUFDckJGLEtBQUt0RSxJQUFJLElBQUkrQixhQUFheUM7UUFDOUIsT0FDSztZQUNERixLQUFLdEUsSUFBSSxDQUFDd0U7UUFDZDtJQUNKO0lBQ0EsT0FBT0Y7QUFDWDtBQUNPLFNBQVM3RCxZQUFZZ0UsSUFBSTtJQUM1QixNQUFNQyxTQUFTLElBQUl4QyxXQUFXdkQ7SUFDOUIsSUFBSyxJQUFJK0MsSUFBSWdELE9BQU9yRCxNQUFNLEdBQUcsR0FBR0ssS0FBSyxHQUFHQSxJQUFLO1FBQ3pDLE1BQU1pRCxPQUFPRixPQUFPO1FBQ3BCQyxNQUFNLENBQUNoRCxFQUFFLEdBQUdpRDtRQUNaRixPQUFPLENBQUNBLE9BQU9FLElBQUcsSUFBSztJQUMzQjtJQUNBLE9BQU9EO0FBQ1g7QUFDTyxTQUFTbkIsWUFBWW1CLE1BQU07SUFDOUIsSUFBSUUsUUFBUTtJQUNaLElBQUssSUFBSWxELElBQUksR0FBR0EsSUFBSWdELE9BQU9yRCxNQUFNLEVBQUVLLElBQUs7UUFDcENrRCxTQUFTO1FBQ1RBLFNBQVNGLE1BQU0sQ0FBQ2hELEVBQUU7SUFDdEI7SUFDQSxPQUFPa0Q7QUFDWDtBQUNPLE1BQU16QixlQUFlLENBQUMwQixHQUFHQyxJQUFNRCxFQUFFRSxLQUFLLENBQUMsQ0FBQ0gsT0FBT0ksUUFBVUYsQ0FBQyxDQUFDRSxNQUFNLEtBQUtKLE9BQU87QUFDcEYsaUVBQWUvRixNQUFNQSxFQUFDLENBQ3RCLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi9tZXJrbGUuanM/NWEyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9BcndlYXZlVGVhbS9hcndlYXZlL2Jsb2IvZmJjMzgxZTBlMzZlZmZmYTQ1ZDEzZjJmYWE2MTk5ZDM3NjZlZGFhMi9hcHBzL2Fyd2VhdmUvc3JjL2FyX21lcmtsZS5lcmx9XG4gKi9cbmltcG9ydCBBcndlYXZlIGZyb20gXCIuLi9hcndlYXZlLmpzXCI7XG5pbXBvcnQgeyBjb25jYXRCdWZmZXJzIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmV4cG9ydCBjb25zdCBNQVhfQ0hVTktfU0laRSA9IDI1NiAqIDEwMjQ7XG5leHBvcnQgY29uc3QgTUlOX0NIVU5LX1NJWkUgPSAzMiAqIDEwMjQ7XG5jb25zdCBOT1RFX1NJWkUgPSAzMjtcbmNvbnN0IEhBU0hfU0laRSA9IDMyO1xuZXhwb3J0IGNsYXNzIE1lcmtsZSB7XG4gICAgY3J5cHRvO1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgdGhpcy5jcnlwdG8gPSBvcHRzLmRlcHMuY3J5cHRvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUYWtlcyB0aGUgaW5wdXQgZGF0YSBhbmQgY2h1bmtzIGl0IGludG8gKG1vc3RseSkgZXF1YWwgc2l6ZWQgY2h1bmtzLlxuICAgICAqIFRoZSBsYXN0IGNodW5rIHdpbGwgYmUgYSBiaXQgc21hbGxlciBhcyBpdCBjb250YWlucyB0aGUgcmVtYWluZGVyXG4gICAgICogZnJvbSB0aGUgY2h1bmtpbmcgcHJvY2Vzcy5cbiAgICAgKi9cbiAgICBhc3luYyBjaHVua0RhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgbGV0IHJlc3QgPSBkYXRhO1xuICAgICAgICBsZXQgY3Vyc29yID0gMDtcbiAgICAgICAgd2hpbGUgKHJlc3QuYnl0ZUxlbmd0aCA+PSBNQVhfQ0hVTktfU0laRSkge1xuICAgICAgICAgICAgbGV0IGNodW5rU2l6ZSA9IE1BWF9DSFVOS19TSVpFO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRvdGFsIGJ5dGVzIGxlZnQgd2lsbCBwcm9kdWNlIGEgY2h1bmsgPCBNSU5fQ0hVTktfU0laRSxcbiAgICAgICAgICAgIC8vIHRoZW4gYWRqdXN0IHRoZSBhbW91bnQgd2UgcHV0IGluIHRoaXMgMm5kIGxhc3QgY2h1bmsuXG4gICAgICAgICAgICBjb25zdCBuZXh0Q2h1bmtTaXplID0gcmVzdC5ieXRlTGVuZ3RoIC0gTUFYX0NIVU5LX1NJWkU7XG4gICAgICAgICAgICBpZiAobmV4dENodW5rU2l6ZSA+IDAgJiYgbmV4dENodW5rU2l6ZSA8IE1JTl9DSFVOS19TSVpFKSB7XG4gICAgICAgICAgICAgICAgY2h1bmtTaXplID0gTWF0aC5jZWlsKHJlc3QuYnl0ZUxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBMYXN0IGNodW5rIHdpbGwgYmU6ICR7bmV4dENodW5rU2l6ZX0gd2hpY2ggaXMgYmVsb3cgJHtNSU5fQ0hVTktfU0laRX0sIGFkanVzdGluZyBjdXJyZW50IHRvICR7Y2h1bmtTaXplfSB3aXRoICR7cmVzdC5ieXRlTGVuZ3RofSBsZWZ0LmApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaHVuayA9IHJlc3Quc2xpY2UoMCwgY2h1bmtTaXplKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFIYXNoID0gYXdhaXQgdGhpcy5jcnlwdG8uaGFzaChjaHVuayk7XG4gICAgICAgICAgICBjdXJzb3IgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkYXRhSGFzaCxcbiAgICAgICAgICAgICAgICBtaW5CeXRlUmFuZ2U6IGN1cnNvciAtIGNodW5rLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgbWF4Qnl0ZVJhbmdlOiBjdXJzb3IsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGNodW5rU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2h1bmtzLnB1c2goe1xuICAgICAgICAgICAgZGF0YUhhc2g6IGF3YWl0IHRoaXMuY3J5cHRvLmhhc2gocmVzdCksXG4gICAgICAgICAgICBtaW5CeXRlUmFuZ2U6IGN1cnNvcixcbiAgICAgICAgICAgIG1heEJ5dGVSYW5nZTogY3Vyc29yICsgcmVzdC5ieXRlTGVuZ3RoLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNodW5rcztcbiAgICB9XG4gICAgYXN5bmMgZ2VuZXJhdGVMZWF2ZXMoY2h1bmtzKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjaHVua3MubWFwKGFzeW5jICh7IGRhdGFIYXNoLCBtaW5CeXRlUmFuZ2UsIG1heEJ5dGVSYW5nZSB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhZlwiLFxuICAgICAgICAgICAgICAgIGlkOiBhd2FpdCB0aGlzLmhhc2goYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuaGFzaChkYXRhSGFzaCksIHRoaXMuaGFzaChpbnRUb0J1ZmZlcihtYXhCeXRlUmFuZ2UpKV0pKSxcbiAgICAgICAgICAgICAgICBkYXRhSGFzaDogZGF0YUhhc2gsXG4gICAgICAgICAgICAgICAgbWluQnl0ZVJhbmdlLFxuICAgICAgICAgICAgICAgIG1heEJ5dGVSYW5nZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGRzIGFuIGFyd2VhdmUgbWVya2xlIHRyZWUgYW5kIGdldHMgdGhlIHJvb3QgaGFzaCBmb3IgdGhlIGdpdmVuIGlucHV0LlxuICAgICAqL1xuICAgIGFzeW5jIGNvbXB1dGVSb290SGFzaChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVRyZWUoZGF0YSk7XG4gICAgICAgIHJldHVybiByb290Tm9kZS5pZDtcbiAgICB9XG4gICAgYXN5bmMgZ2VuZXJhdGVUcmVlKGRhdGEpIHtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBhd2FpdCB0aGlzLmJ1aWxkTGF5ZXJzKGF3YWl0IHRoaXMuZ2VuZXJhdGVMZWF2ZXMoYXdhaXQgdGhpcy5jaHVua0RhdGEoZGF0YSkpKTtcbiAgICAgICAgcmV0dXJuIHJvb3ROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGRhdGFfcm9vdCwgY2h1bmtzICYgcHJvb2ZzXG4gICAgICogbmVlZGVkIGZvciBhIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICogVGhpcyBhbHNvIGNoZWNrcyBpZiB0aGUgbGFzdCBjaHVuayBpcyBhIHplcm8tbGVuZ3RoXG4gICAgICogY2h1bmsgYW5kIGRpc2NhcmRzIHRoYXQgY2h1bmsgYW5kIHByb29mIGlmIHNvLlxuICAgICAqICh3ZSBkbyBub3QgbmVlZCB0byB1cGxvYWQgdGhpcyB6ZXJvIGxlbmd0aCBjaHVuaylcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVUcmFuc2FjdGlvbkNodW5rcyhkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IGF3YWl0IHRoaXMuY2h1bmtEYXRhKGRhdGEpO1xuICAgICAgICBjb25zdCBsZWF2ZXMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlTGVhdmVzKGNodW5rcyk7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBhd2FpdCB0aGlzLmJ1aWxkTGF5ZXJzKGxlYXZlcyk7XG4gICAgICAgIGNvbnN0IHByb29mcyA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVQcm9vZnMocm9vdCk7XG4gICAgICAgIC8vIERpc2NhcmQgdGhlIGxhc3QgY2h1bmsgJiBwcm9vZiBpZiBpdCdzIHplcm8gbGVuZ3RoLlxuICAgICAgICBjb25zdCBsYXN0Q2h1bmsgPSBjaHVua3Muc2xpY2UoLTEpWzBdO1xuICAgICAgICBpZiAobGFzdENodW5rLm1heEJ5dGVSYW5nZSAtIGxhc3RDaHVuay5taW5CeXRlUmFuZ2UgPT09IDApIHtcbiAgICAgICAgICAgIGNodW5rcy5zcGxpY2UoY2h1bmtzLmxlbmd0aCAtIDEsIDEpO1xuICAgICAgICAgICAgcHJvb2ZzLnNwbGljZShwcm9vZnMubGVuZ3RoIC0gMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGFfcm9vdDogcm9vdC5pZCxcbiAgICAgICAgICAgIGNodW5rcyxcbiAgICAgICAgICAgIHByb29mcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRpbmcgd2l0aCB0aGUgYm90dG9tIGxheWVyIG9mIGxlYWYgbm9kZXMsIGhhc2ggZXZlcnkgc2Vjb25kIHBhaXJcbiAgICAgKiBpbnRvIGEgbmV3IGJyYW5jaCBub2RlLCBwdXNoIHRob3NlIGJyYW5jaCBub2RlcyBvbnRvIGEgbmV3IGxheWVyLFxuICAgICAqIGFuZCB0aGVuIHJlY3Vyc2UsIGJ1aWxkaW5nIHVwIHRoZSB0cmVlIHRvIGl0J3Mgcm9vdCwgd2hlcmUgdGhlXG4gICAgICogbGF5ZXIgb25seSBjb25zaXN0cyBvZiB0d28gaXRlbXMuXG4gICAgICovXG4gICAgYXN5bmMgYnVpbGRMYXllcnMobm9kZXMsIGxldmVsID0gMCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IDEgbm9kZSBsZWZ0LCB0aGlzIGlzIGdvaW5nIHRvIGJlIHRoZSByb290IG5vZGVcbiAgICAgICAgaWYgKG5vZGVzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBub2Rlc1swXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUm9vdCBsYXllclwiLCByb290KTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRMYXllciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBuZXh0TGF5ZXIucHVzaChhd2FpdCB0aGlzLmhhc2hCcmFuY2gobm9kZXNbaV0sIG5vZGVzW2kgKyAxXSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTGF5ZXJcIiwgbmV4dExheWVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRMYXllcnMobmV4dExheWVyLCBsZXZlbCArIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBzZWFyY2ggdGhyb3VnaCBhbGwgYnJhbmNoZXMgb2YgdGhlIHRyZWUsXG4gICAgICogYW5kIGdlbmVyYXRlIGEgcHJvb2YgZm9yIGVhY2ggbGVhZiBub2RlLlxuICAgICAqL1xuICAgIGdlbmVyYXRlUHJvb2ZzKHJvb3QpIHtcbiAgICAgICAgY29uc3QgcHJvb2ZzID0gdGhpcy5yZXNvbHZlQnJhbmNoUHJvb2ZzKHJvb3QpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvb2ZzKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtwcm9vZnNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheUZsYXR0ZW4ocHJvb2ZzKTtcbiAgICB9XG4gICAgcmVzb2x2ZUJyYW5jaFByb29mcyhub2RlLCBwcm9vZiA9IG5ldyBVaW50OEFycmF5KCksIGRlcHRoID0gMCkge1xuICAgICAgICBpZiAobm9kZS50eXBlID09IFwibGVhZlwiKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9mZnNldDogbm9kZS5tYXhCeXRlUmFuZ2UgLSAxLFxuICAgICAgICAgICAgICAgIHByb29mOiBjb25jYXRCdWZmZXJzKFtwcm9vZiwgbm9kZS5kYXRhSGFzaCwgaW50VG9CdWZmZXIobm9kZS5tYXhCeXRlUmFuZ2UpXSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT0gXCJicmFuY2hcIikge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbFByb29mID0gY29uY2F0QnVmZmVycyhbcHJvb2YsIG5vZGUubGVmdENoaWxkLmlkLCBub2RlLnJpZ2h0Q2hpbGQuaWQsIGludFRvQnVmZmVyKG5vZGUuYnl0ZVJhbmdlKV0pO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVCcmFuY2hQcm9vZnMobm9kZS5sZWZ0Q2hpbGQsIHBhcnRpYWxQcm9vZiwgZGVwdGggKyAxKSxcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVCcmFuY2hQcm9vZnMobm9kZS5yaWdodENoaWxkLCBwYXJ0aWFsUHJvb2YsIGRlcHRoICsgMSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBub2RlIHR5cGVgKTtcbiAgICB9XG4gICAgYXN5bmMgdmFsaWRhdGVQYXRoKGlkLCBkZXN0LCBsZWZ0Qm91bmQsIHJpZ2h0Qm91bmQsIHBhdGgpIHtcbiAgICAgICAgaWYgKHJpZ2h0Qm91bmQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0ID49IHJpZ2h0Qm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlUGF0aChpZCwgMCwgcmlnaHRCb3VuZCAtIDEsIHJpZ2h0Qm91bmQsIHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXN0IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVQYXRoKGlkLCAwLCAwLCByaWdodEJvdW5kLCBwYXRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT0gSEFTSF9TSVpFICsgTk9URV9TSVpFKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoRGF0YSA9IHBhdGguc2xpY2UoMCwgSEFTSF9TSVpFKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZE9mZnNldEJ1ZmZlciA9IHBhdGguc2xpY2UocGF0aERhdGEubGVuZ3RoLCBwYXRoRGF0YS5sZW5ndGggKyBOT1RFX1NJWkUpO1xuICAgICAgICAgICAgY29uc3QgcGF0aERhdGFIYXNoID0gYXdhaXQgdGhpcy5oYXNoKFthd2FpdCB0aGlzLmhhc2gocGF0aERhdGEpLCBhd2FpdCB0aGlzLmhhc2goZW5kT2Zmc2V0QnVmZmVyKV0pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXJyYXlDb21wYXJlKGlkLCBwYXRoRGF0YUhhc2gpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogcmlnaHRCb3VuZCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIGxlZnRCb3VuZDogbGVmdEJvdW5kLFxuICAgICAgICAgICAgICAgICAgICByaWdodEJvdW5kOiByaWdodEJvdW5kLFxuICAgICAgICAgICAgICAgICAgICBjaHVua1NpemU6IHJpZ2h0Qm91bmQgLSBsZWZ0Qm91bmQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0ID0gcGF0aC5zbGljZSgwLCBIQVNIX1NJWkUpO1xuICAgICAgICBjb25zdCByaWdodCA9IHBhdGguc2xpY2UobGVmdC5sZW5ndGgsIGxlZnQubGVuZ3RoICsgSEFTSF9TSVpFKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0QnVmZmVyID0gcGF0aC5zbGljZShsZWZ0Lmxlbmd0aCArIHJpZ2h0Lmxlbmd0aCwgbGVmdC5sZW5ndGggKyByaWdodC5sZW5ndGggKyBOT1RFX1NJWkUpO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXJUb0ludChvZmZzZXRCdWZmZXIpO1xuICAgICAgICBjb25zdCByZW1haW5kZXIgPSBwYXRoLnNsaWNlKGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoICsgb2Zmc2V0QnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHBhdGhIYXNoID0gYXdhaXQgdGhpcy5oYXNoKFthd2FpdCB0aGlzLmhhc2gobGVmdCksIGF3YWl0IHRoaXMuaGFzaChyaWdodCksIGF3YWl0IHRoaXMuaGFzaChvZmZzZXRCdWZmZXIpXSk7XG4gICAgICAgIGlmIChhcnJheUNvbXBhcmUoaWQsIHBhdGhIYXNoKSkge1xuICAgICAgICAgICAgaWYgKGRlc3QgPCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy52YWxpZGF0ZVBhdGgobGVmdCwgZGVzdCwgbGVmdEJvdW5kLCBNYXRoLm1pbihyaWdodEJvdW5kLCBvZmZzZXQpLCByZW1haW5kZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMudmFsaWRhdGVQYXRoKHJpZ2h0LCBkZXN0LCBNYXRoLm1heChsZWZ0Qm91bmQsIG9mZnNldCksIHJpZ2h0Qm91bmQsIHJlbWFpbmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBoYXNoQnJhbmNoKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGlmICghcmlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJyYW5jaCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnJhbmNoXCIsXG4gICAgICAgICAgICBpZDogYXdhaXQgdGhpcy5oYXNoKFthd2FpdCB0aGlzLmhhc2gobGVmdC5pZCksIGF3YWl0IHRoaXMuaGFzaChyaWdodC5pZCksIGF3YWl0IHRoaXMuaGFzaChpbnRUb0J1ZmZlcihsZWZ0Lm1heEJ5dGVSYW5nZSkpXSksXG4gICAgICAgICAgICBieXRlUmFuZ2U6IGxlZnQubWF4Qnl0ZVJhbmdlLFxuICAgICAgICAgICAgbWF4Qnl0ZVJhbmdlOiByaWdodC5tYXhCeXRlUmFuZ2UsXG4gICAgICAgICAgICBsZWZ0Q2hpbGQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodENoaWxkOiByaWdodCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJyYW5jaDtcbiAgICB9XG4gICAgYXN5bmMgaGFzaChkYXRhKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBkYXRhID0gQXJ3ZWF2ZS51dGlscy5jb25jYXRCdWZmZXJzKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCB0aGlzLmNyeXB0by5oYXNoKGRhdGEpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zcGVjdCBhbiBhcndlYXZlIGNodW5rIHByb29mLlxuICAgICAqIFRha2VzIHByb29mLCBwYXJzZXMsIHJlYWRzIGFuZCBkaXNwbGF5cyB0aGUgdmFsdWVzIGZvciBjb25zb2xlIGxvZ2dpbmcuXG4gICAgICogT25lIHByb29mIHNlY3Rpb24gcGVyIGxpbmVcbiAgICAgKiBGb3JtYXQ6IGxlZnQscmlnaHQsb2Zmc2V0ID0+IGhhc2hcbiAgICAgKi9cbiAgICBhc3luYyBkZWJ1Zyhwcm9vZiwgb3V0cHV0ID0gXCJcIikge1xuICAgICAgICBpZiAocHJvb2YuYnl0ZUxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVmdCA9IHByb29mLnNsaWNlKDAsIEhBU0hfU0laRSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gcHJvb2Yuc2xpY2UobGVmdC5sZW5ndGgsIGxlZnQubGVuZ3RoICsgSEFTSF9TSVpFKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0QnVmZmVyID0gcHJvb2Yuc2xpY2UobGVmdC5sZW5ndGggKyByaWdodC5sZW5ndGgsIGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoICsgTk9URV9TSVpFKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyVG9JbnQob2Zmc2V0QnVmZmVyKTtcbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gcHJvb2Yuc2xpY2UobGVmdC5sZW5ndGggKyByaWdodC5sZW5ndGggKyBvZmZzZXRCdWZmZXIubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcGF0aEhhc2ggPSBhd2FpdCB0aGlzLmhhc2goW2F3YWl0IHRoaXMuaGFzaChsZWZ0KSwgYXdhaXQgdGhpcy5oYXNoKHJpZ2h0KSwgYXdhaXQgdGhpcy5oYXNoKG9mZnNldEJ1ZmZlcildKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZE91dHB1dCA9IGAke291dHB1dH1cXG4ke0pTT04uc3RyaW5naWZ5KEJ1ZmZlci5mcm9tKGxlZnQpKX0sJHtKU09OLnN0cmluZ2lmeShCdWZmZXIuZnJvbShyaWdodCkpfSwke29mZnNldH0gPT4gJHtKU09OLnN0cmluZ2lmeShwYXRoSGFzaCl9YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVidWcocmVtYWluZGVyLCB1cGRhdGVkT3V0cHV0KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlGbGF0dGVuKGlucHV0KSB7XG4gICAgY29uc3QgZmxhdCA9IFtdO1xuICAgIGlucHV0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIGZsYXQucHVzaCguLi5hcnJheUZsYXR0ZW4oaXRlbSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmxhdC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZsYXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW50VG9CdWZmZXIobm90ZSkge1xuICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KE5PVEVfU0laRSk7XG4gICAgZm9yIChsZXQgaSA9IGJ1ZmZlci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBieXRlID0gbm90ZSAlIDI1NjtcbiAgICAgICAgYnVmZmVyW2ldID0gYnl0ZTtcbiAgICAgICAgbm90ZSA9IChub3RlIC0gYnl0ZSkgLyAyNTY7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVG9JbnQoYnVmZmVyKSB7XG4gICAgbGV0IHZhbHVlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSAqPSAyNTY7XG4gICAgICAgIHZhbHVlICs9IGJ1ZmZlcltpXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGNvbnN0IGFycmF5Q29tcGFyZSA9IChhLCBiKSA9PiBhLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGJbaW5kZXhdID09PSB2YWx1ZSk7XG5leHBvcnQgZGVmYXVsdCBNZXJrbGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJrbGUuanMubWFwIl0sIm5hbWVzIjpbIkFyd2VhdmUiLCJjb25jYXRCdWZmZXJzIiwiTUFYX0NIVU5LX1NJWkUiLCJNSU5fQ0hVTktfU0laRSIsIk5PVEVfU0laRSIsIkhBU0hfU0laRSIsIk1lcmtsZSIsImNvbnN0cnVjdG9yIiwib3B0cyIsImNyeXB0byIsImRlcHMiLCJjaHVua0RhdGEiLCJkYXRhIiwiY2h1bmtzIiwicmVzdCIsImN1cnNvciIsImJ5dGVMZW5ndGgiLCJjaHVua1NpemUiLCJuZXh0Q2h1bmtTaXplIiwiTWF0aCIsImNlaWwiLCJjaHVuayIsInNsaWNlIiwiZGF0YUhhc2giLCJoYXNoIiwicHVzaCIsIm1pbkJ5dGVSYW5nZSIsIm1heEJ5dGVSYW5nZSIsImdlbmVyYXRlTGVhdmVzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsInR5cGUiLCJpZCIsImludFRvQnVmZmVyIiwiY29tcHV0ZVJvb3RIYXNoIiwicm9vdE5vZGUiLCJnZW5lcmF0ZVRyZWUiLCJidWlsZExheWVycyIsImdlbmVyYXRlVHJhbnNhY3Rpb25DaHVua3MiLCJsZWF2ZXMiLCJyb290IiwicHJvb2ZzIiwiZ2VuZXJhdGVQcm9vZnMiLCJsYXN0Q2h1bmsiLCJzcGxpY2UiLCJsZW5ndGgiLCJkYXRhX3Jvb3QiLCJub2RlcyIsImxldmVsIiwibmV4dExheWVyIiwiaSIsImhhc2hCcmFuY2giLCJyZXNvbHZlQnJhbmNoUHJvb2ZzIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyYXlGbGF0dGVuIiwibm9kZSIsInByb29mIiwiVWludDhBcnJheSIsImRlcHRoIiwib2Zmc2V0IiwicGFydGlhbFByb29mIiwibGVmdENoaWxkIiwicmlnaHRDaGlsZCIsImJ5dGVSYW5nZSIsIkVycm9yIiwidmFsaWRhdGVQYXRoIiwiZGVzdCIsImxlZnRCb3VuZCIsInJpZ2h0Qm91bmQiLCJwYXRoIiwicGF0aERhdGEiLCJlbmRPZmZzZXRCdWZmZXIiLCJwYXRoRGF0YUhhc2giLCJyZXN1bHQiLCJhcnJheUNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJvZmZzZXRCdWZmZXIiLCJidWZmZXJUb0ludCIsInJlbWFpbmRlciIsInBhdGhIYXNoIiwibWluIiwibWF4IiwiYnJhbmNoIiwidXRpbHMiLCJkZWJ1ZyIsIm91dHB1dCIsInVwZGF0ZWRPdXRwdXQiLCJKU09OIiwic3RyaW5naWZ5IiwiQnVmZmVyIiwiZnJvbSIsImlucHV0IiwiZmxhdCIsImZvckVhY2giLCJpdGVtIiwibm90ZSIsImJ1ZmZlciIsImJ5dGUiLCJ2YWx1ZSIsImEiLCJiIiwiZXZlcnkiLCJpbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction-uploader.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction-uploader.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FATAL_CHUNK_UPLOAD_ERRORS: () => (/* binding */ FATAL_CHUNK_UPLOAD_ERRORS),\n/* harmony export */   TransactionUploader: () => (/* binding */ TransactionUploader)\n/* harmony export */ });\n/* harmony import */ var _transaction_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transaction.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n\n\n\n// import { validatePath } from \"./merkle.js\";\n// Maximum amount of chunks we will upload in the body.\nconst MAX_CHUNKS_IN_BODY = 1;\n// We assume these errors are intermitment and we can try again after a delay:\n// - not_joined\n// - timeout\n// - data_root_not_found (we may have hit a node that just hasn't seen it yet)\n// - exceeds_disk_pool_size_limit\n// We also try again after any kind of unexpected network errors\n// Errors from /chunk we should never try and continue on.\nconst FATAL_CHUNK_UPLOAD_ERRORS = [\n    \"invalid_json\",\n    \"chunk_too_big\",\n    \"data_path_too_big\",\n    \"offset_too_big\",\n    \"data_size_too_big\",\n    \"chunk_proof_ratio_not_attractive\",\n    \"invalid_proof\"\n];\n// Amount we will delay on receiving an error response but do want to continue.\nconst ERROR_DELAY = 1000 * 40;\nclass TransactionUploader {\n    get isComplete() {\n        return this.txPosted && this.chunkIndex === this.transaction.chunks.chunks.length;\n    }\n    get totalChunks() {\n        return this.transaction.chunks.chunks.length;\n    }\n    get uploadedChunks() {\n        return this.chunkIndex;\n    }\n    get pctComplete() {\n        return Math.trunc(this.uploadedChunks / this.totalChunks * 100);\n    }\n    constructor({ deps, transaction }){\n        this.chunkIndex = 0;\n        this.txPosted = false;\n        this.lastRequestTimeEnd = 0;\n        this.totalErrors = 0 // Not serialized.\n        ;\n        this.lastResponseStatus = 0;\n        this.lastResponseError = \"\";\n        if (!transaction.id) {\n            throw new Error(`Transaction is not signed`);\n        }\n        if (!transaction.chunks) {\n            throw new Error(`Transaction chunks not prepared`);\n        }\n        this.api = deps.api;\n        this.crypto = deps.crypto;\n        this.merkle = deps.merkle;\n        this.deepHash = deps.deepHash;\n        // Make a copy of transaction, zeroing the data so we can serialize.\n        this.data = transaction.data;\n        this.transaction = new _transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n            attributes: Object.assign({}, transaction, {\n                data: new Uint8Array(0)\n            }),\n            deps: {\n                merkle: deps.merkle,\n                deepHash: deps.deepHash\n            }\n        });\n    }\n    /**\n     * Uploads the next part of the transaction.\n     * On the first call this posts the transaction\n     * itself and on any subsequent calls uploads the\n     * next chunk until it completes.\n     */ async uploadChunk(chunkIndex_) {\n        if (this.isComplete) {\n            throw new Error(`Upload is already complete`);\n        }\n        if (this.lastResponseError !== \"\") {\n            this.totalErrors++;\n        } else {\n            this.totalErrors = 0;\n        }\n        // We have been trying for about an hour receiving an\n        // error every time, so eventually bail.\n        if (this.totalErrors === 100) {\n            throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);\n        }\n        let delay = this.lastResponseError === \"\" ? 0 : Math.max(this.lastRequestTimeEnd + ERROR_DELAY - Date.now(), ERROR_DELAY);\n        if (delay > 0) {\n            // Jitter delay bcoz networks, subtract up to 30% from 40 seconds\n            delay = delay - delay * Math.random() * 0.3;\n            await new Promise((res)=>setTimeout(res, delay));\n        }\n        this.lastResponseError = \"\";\n        if (!this.txPosted) {\n            await this.postTransaction();\n            return;\n        }\n        if (chunkIndex_) {\n            this.chunkIndex = chunkIndex_;\n        }\n        const chunk = this.transaction.getChunk(chunkIndex_ || this.chunkIndex, this.data);\n        const chunkOk = await this.merkle.validatePath(this.transaction.chunks.data_root, parseInt(chunk.offset), 0, parseInt(chunk.data_size), (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.b64UrlToBuffer)(chunk.data_path));\n        if (!chunkOk) {\n            throw new Error(`Unable to validate chunk ${this.chunkIndex}`);\n        }\n        // Catch network errors and turn them into objects with status -1 and an error message.\n        const resp = await this.api.post(`chunk`, this.transaction.getChunk(this.chunkIndex, this.data)).catch((e)=>{\n            console.error(e.message);\n            return {\n                status: -1,\n                data: {\n                    error: e.message\n                }\n            };\n        });\n        this.lastRequestTimeEnd = Date.now();\n        this.lastResponseStatus = resp.status;\n        if (this.lastResponseStatus == 200) {\n            this.chunkIndex++;\n        } else {\n            this.lastResponseError = (0,_error_js__WEBPACK_IMPORTED_MODULE_1__.getError)(resp);\n            if (FATAL_CHUNK_UPLOAD_ERRORS.includes(this.lastResponseError)) {\n                throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`);\n            }\n        }\n    }\n    /**\n     * Reconstructs an upload from its serialized state and data.\n     * Checks if data matches the expected data_root.\n     *\n     * @param serialized\n     * @param data\n     */ static async fromSerialized({ serialized, data, deps }) {\n        if (!serialized || typeof serialized.chunkIndex !== \"number\" || typeof serialized.transaction !== \"object\") {\n            throw new Error(`Serialized object does not match expected format.`);\n        }\n        // Everything looks ok, reconstruct the TransactionUpload,\n        // prepare the chunks again and verify the data_root matches\n        const transaction = new _transaction_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](serialized.transaction);\n        if (!transaction.chunks) {\n            await transaction.prepareChunks(data);\n        }\n        const upload = new TransactionUploader({\n            deps,\n            transaction\n        });\n        // Copy the serialized upload information, and data passed in.\n        upload.chunkIndex = serialized.chunkIndex;\n        upload.lastRequestTimeEnd = serialized.lastRequestTimeEnd;\n        upload.lastResponseError = serialized.lastResponseError;\n        upload.lastResponseStatus = serialized.lastResponseStatus;\n        upload.txPosted = serialized.txPosted;\n        upload.data = data;\n        if (upload.transaction.data_root !== serialized.transaction.data_root) {\n            throw new Error(`Data mismatch: Uploader doesn't match provided data.`);\n        }\n        return upload;\n    }\n    /**\n     * Reconstruct an upload from the tx metadata, ie /tx/<id>.\n     *\n     * @param api\n     * @param id\n     * @param data\n     */ static async fromTransactionId(api, id) {\n        const resp = await api.get(`tx/${id}`);\n        if (resp.status !== 200) {\n            throw new Error(`Tx ${id} not found: ${resp.status}`);\n        }\n        const transaction = resp.data;\n        transaction.data = new Uint8Array(0);\n        const serialized = {\n            txPosted: true,\n            chunkIndex: 0,\n            lastResponseError: \"\",\n            lastRequestTimeEnd: 0,\n            lastResponseStatus: 0,\n            transaction\n        };\n        return serialized;\n    }\n    toJSON() {\n        return {\n            chunkIndex: this.chunkIndex,\n            transaction: this.transaction,\n            lastRequestTimeEnd: this.lastRequestTimeEnd,\n            lastResponseStatus: this.lastResponseStatus,\n            lastResponseError: this.lastResponseError,\n            txPosted: this.txPosted\n        };\n    }\n    // POST to /tx\n    async postTransaction() {\n        const uploadInBody = this.totalChunks <= MAX_CHUNKS_IN_BODY;\n        if (uploadInBody) {\n            // Post the transaction with data.\n            this.transaction.data = this.data;\n            const resp = await this.api.post(`tx`, this.transaction).catch((e)=>{\n                console.error(e);\n                return {\n                    status: -1,\n                    data: {\n                        error: e.message\n                    }\n                };\n            });\n            this.lastRequestTimeEnd = Date.now();\n            this.lastResponseStatus = resp.status;\n            this.transaction.data = new Uint8Array(0);\n            if (resp.status >= 200 && resp.status < 300) {\n                // We are complete.\n                this.txPosted = true;\n                this.chunkIndex = MAX_CHUNKS_IN_BODY;\n                return;\n            }\n            this.lastResponseError = (0,_error_js__WEBPACK_IMPORTED_MODULE_1__.getError)(resp);\n            throw new Error(`Unable to upload transaction: ${resp.status}, ${this.lastResponseError}`);\n        }\n        // Post the transaction with no data.\n        const resp = await this.api.post(`tx`, this.transaction);\n        this.lastRequestTimeEnd = Date.now();\n        this.lastResponseStatus = resp.status;\n        if (!(resp.status >= 200 && resp.status < 300)) {\n            this.lastResponseError = (0,_error_js__WEBPACK_IMPORTED_MODULE_1__.getError)(resp);\n            throw new Error(`Unable to upload transaction: ${resp.status}, ${this.lastResponseError}`);\n        }\n        this.txPosted = true;\n    }\n} //# sourceMappingURL=transaction-uploader.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi90cmFuc2FjdGlvbi11cGxvYWRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyQztBQUNMO0FBQ007QUFDNUMsOENBQThDO0FBQzlDLHVEQUF1RDtBQUN2RCxNQUFNRyxxQkFBcUI7QUFDM0IsOEVBQThFO0FBQzlFLGVBQWU7QUFDZixZQUFZO0FBQ1osOEVBQThFO0FBQzlFLGlDQUFpQztBQUNqQyxnRUFBZ0U7QUFDaEUsMERBQTBEO0FBQ25ELE1BQU1DLDRCQUE0QjtJQUNyQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNILENBQUM7QUFDRiwrRUFBK0U7QUFDL0UsTUFBTUMsY0FBYyxPQUFPO0FBQ3BCLE1BQU1DO0lBU1QsSUFBSUMsYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDQyxRQUFRLElBQUksSUFBSSxDQUFDQyxVQUFVLEtBQUssSUFBSSxDQUFDQyxXQUFXLENBQUNDLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDQyxNQUFNO0lBQ3JGO0lBQ0EsSUFBSUMsY0FBYztRQUNkLE9BQU8sSUFBSSxDQUFDSCxXQUFXLENBQUNDLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDQyxNQUFNO0lBQ2hEO0lBQ0EsSUFBSUUsaUJBQWlCO1FBQ2pCLE9BQU8sSUFBSSxDQUFDTCxVQUFVO0lBQzFCO0lBQ0EsSUFBSU0sY0FBYztRQUNkLE9BQU9DLEtBQUtDLEtBQUssQ0FBQyxJQUFLLENBQUNILGNBQWMsR0FBRyxJQUFJLENBQUNELFdBQVcsR0FBSTtJQUNqRTtJQUtBSyxZQUFZLEVBQUVDLElBQUksRUFBRVQsV0FBVyxFQUFHLENBQUU7YUF4QnBDRCxhQUFhO2FBQ2JELFdBQVc7YUFFWFkscUJBQXFCO2FBQ3JCQyxjQUFjLEVBQUcsa0JBQWtCOzthQUVuQ0MscUJBQXFCO2FBQ3JC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QUd0QixtREFBUUEsQ0FBQ3NEO1lBQ2xDLE1BQU0sSUFBSTlCLE1BQU0sQ0FBQyw4QkFBOEIsRUFBRThCLEtBQUtPLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDdkMsaUJBQWlCLENBQUMsQ0FBQztRQUM3RjtRQUNBLHFDQUFxQztRQUNyQyxNQUFNZ0MsT0FBTyxNQUFNLElBQUksQ0FBQzdCLEdBQUcsQ0FBQzhCLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQzlDLFdBQVc7UUFDdkQsSUFBSSxDQUFDVSxrQkFBa0IsR0FBR21CLEtBQUtDLEdBQUc7UUFDbEMsSUFBSSxDQUFDbEIsa0JBQWtCLEdBQUdpQyxLQUFLTyxNQUFNO1FBQ3JDLElBQUksQ0FBRVAsQ0FBQUEsS0FBS08sTUFBTSxJQUFJLE9BQU9QLEtBQUtPLE1BQU0sR0FBRyxHQUFFLEdBQUk7WUFDNUMsSUFBSSxDQUFDdkMsaUJBQWlCLEdBQUd0QixtREFBUUEsQ0FBQ3NEO1lBQ2xDLE1BQU0sSUFBSTlCLE1BQU0sQ0FBQyw4QkFBOEIsRUFBRThCLEtBQUtPLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDdkMsaUJBQWlCLENBQUMsQ0FBQztRQUM3RjtRQUNBLElBQUksQ0FBQ2YsUUFBUSxHQUFHO0lBQ3BCO0FBQ0osRUFDQSxnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9saWIvdHJhbnNhY3Rpb24tdXBsb2FkZXIuanM/YThlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVHJhbnNhY3Rpb24gZnJvbSBcIi4vdHJhbnNhY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldEVycm9yIH0gZnJvbSBcIi4vZXJyb3IuanNcIjtcbmltcG9ydCB7IGI2NFVybFRvQnVmZmVyIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8vIGltcG9ydCB7IHZhbGlkYXRlUGF0aCB9IGZyb20gXCIuL21lcmtsZS5qc1wiO1xuLy8gTWF4aW11bSBhbW91bnQgb2YgY2h1bmtzIHdlIHdpbGwgdXBsb2FkIGluIHRoZSBib2R5LlxuY29uc3QgTUFYX0NIVU5LU19JTl9CT0RZID0gMTtcbi8vIFdlIGFzc3VtZSB0aGVzZSBlcnJvcnMgYXJlIGludGVybWl0bWVudCBhbmQgd2UgY2FuIHRyeSBhZ2FpbiBhZnRlciBhIGRlbGF5OlxuLy8gLSBub3Rfam9pbmVkXG4vLyAtIHRpbWVvdXRcbi8vIC0gZGF0YV9yb290X25vdF9mb3VuZCAod2UgbWF5IGhhdmUgaGl0IGEgbm9kZSB0aGF0IGp1c3QgaGFzbid0IHNlZW4gaXQgeWV0KVxuLy8gLSBleGNlZWRzX2Rpc2tfcG9vbF9zaXplX2xpbWl0XG4vLyBXZSBhbHNvIHRyeSBhZ2FpbiBhZnRlciBhbnkga2luZCBvZiB1bmV4cGVjdGVkIG5ldHdvcmsgZXJyb3JzXG4vLyBFcnJvcnMgZnJvbSAvY2h1bmsgd2Ugc2hvdWxkIG5ldmVyIHRyeSBhbmQgY29udGludWUgb24uXG5leHBvcnQgY29uc3QgRkFUQUxfQ0hVTktfVVBMT0FEX0VSUk9SUyA9IFtcbiAgICBcImludmFsaWRfanNvblwiLFxuICAgIFwiY2h1bmtfdG9vX2JpZ1wiLFxuICAgIFwiZGF0YV9wYXRoX3Rvb19iaWdcIixcbiAgICBcIm9mZnNldF90b29fYmlnXCIsXG4gICAgXCJkYXRhX3NpemVfdG9vX2JpZ1wiLFxuICAgIFwiY2h1bmtfcHJvb2ZfcmF0aW9fbm90X2F0dHJhY3RpdmVcIixcbiAgICBcImludmFsaWRfcHJvb2ZcIixcbl07XG4vLyBBbW91bnQgd2Ugd2lsbCBkZWxheSBvbiByZWNlaXZpbmcgYW4gZXJyb3IgcmVzcG9uc2UgYnV0IGRvIHdhbnQgdG8gY29udGludWUuXG5jb25zdCBFUlJPUl9ERUxBWSA9IDEwMDAgKiA0MDtcbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvblVwbG9hZGVyIHtcbiAgICBjaHVua0luZGV4ID0gMDtcbiAgICB0eFBvc3RlZCA9IGZhbHNlO1xuICAgIHRyYW5zYWN0aW9uO1xuICAgIGxhc3RSZXF1ZXN0VGltZUVuZCA9IDA7XG4gICAgdG90YWxFcnJvcnMgPSAwOyAvLyBOb3Qgc2VyaWFsaXplZC5cbiAgICBkYXRhO1xuICAgIGxhc3RSZXNwb25zZVN0YXR1cyA9IDA7XG4gICAgbGFzdFJlc3BvbnNlRXJyb3IgPSBcIlwiO1xuICAgIGdldCBpc0NvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50eFBvc3RlZCAmJiB0aGlzLmNodW5rSW5kZXggPT09IHRoaXMudHJhbnNhY3Rpb24uY2h1bmtzLmNodW5rcy5sZW5ndGg7XG4gICAgfVxuICAgIGdldCB0b3RhbENodW5rcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNhY3Rpb24uY2h1bmtzLmNodW5rcy5sZW5ndGg7XG4gICAgfVxuICAgIGdldCB1cGxvYWRlZENodW5rcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtJbmRleDtcbiAgICB9XG4gICAgZ2V0IHBjdENvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gTWF0aC50cnVuYygodGhpcy51cGxvYWRlZENodW5rcyAvIHRoaXMudG90YWxDaHVua3MpICogMTAwKTtcbiAgICB9XG4gICAgY3J5cHRvO1xuICAgIGFwaTtcbiAgICBtZXJrbGU7XG4gICAgZGVlcEhhc2g7XG4gICAgY29uc3RydWN0b3IoeyBkZXBzLCB0cmFuc2FjdGlvbiwgfSkge1xuICAgICAgICBpZiAoIXRyYW5zYWN0aW9uLmlkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyYW5zYWN0aW9uIGlzIG5vdCBzaWduZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYW5zYWN0aW9uLmNodW5rcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUcmFuc2FjdGlvbiBjaHVua3Mgbm90IHByZXBhcmVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcGkgPSBkZXBzLmFwaTtcbiAgICAgICAgdGhpcy5jcnlwdG8gPSBkZXBzLmNyeXB0bztcbiAgICAgICAgdGhpcy5tZXJrbGUgPSBkZXBzLm1lcmtsZTtcbiAgICAgICAgdGhpcy5kZWVwSGFzaCA9IGRlcHMuZGVlcEhhc2g7XG4gICAgICAgIC8vIE1ha2UgYSBjb3B5IG9mIHRyYW5zYWN0aW9uLCB6ZXJvaW5nIHRoZSBkYXRhIHNvIHdlIGNhbiBzZXJpYWxpemUuXG4gICAgICAgIHRoaXMuZGF0YSA9IHRyYW5zYWN0aW9uLmRhdGE7XG4gICAgICAgIHRoaXMudHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oe1xuICAgICAgICAgICAgYXR0cmlidXRlczogT2JqZWN0LmFzc2lnbih7fSwgdHJhbnNhY3Rpb24sIHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoMCkgfSksXG4gICAgICAgICAgICBkZXBzOiB7IG1lcmtsZTogZGVwcy5tZXJrbGUsIGRlZXBIYXNoOiBkZXBzLmRlZXBIYXNoIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBuZXh0IHBhcnQgb2YgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAqIE9uIHRoZSBmaXJzdCBjYWxsIHRoaXMgcG9zdHMgdGhlIHRyYW5zYWN0aW9uXG4gICAgICogaXRzZWxmIGFuZCBvbiBhbnkgc3Vic2VxdWVudCBjYWxscyB1cGxvYWRzIHRoZVxuICAgICAqIG5leHQgY2h1bmsgdW50aWwgaXQgY29tcGxldGVzLlxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZENodW5rKGNodW5rSW5kZXhfKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVXBsb2FkIGlzIGFscmVhZHkgY29tcGxldGVgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sYXN0UmVzcG9uc2VFcnJvciAhPT0gXCJcIikge1xuICAgICAgICAgICAgdGhpcy50b3RhbEVycm9ycysrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50b3RhbEVycm9ycyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSBiZWVuIHRyeWluZyBmb3IgYWJvdXQgYW4gaG91ciByZWNlaXZpbmcgYW5cbiAgICAgICAgLy8gZXJyb3IgZXZlcnkgdGltZSwgc28gZXZlbnR1YWxseSBiYWlsLlxuICAgICAgICBpZiAodGhpcy50b3RhbEVycm9ycyA9PT0gMTAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb21wbGV0ZSB1cGxvYWQ6ICR7dGhpcy5sYXN0UmVzcG9uc2VTdGF0dXN9OiAke3RoaXMubGFzdFJlc3BvbnNlRXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlbGF5ID0gdGhpcy5sYXN0UmVzcG9uc2VFcnJvciA9PT0gXCJcIiA/IDAgOiBNYXRoLm1heCh0aGlzLmxhc3RSZXF1ZXN0VGltZUVuZCArIEVSUk9SX0RFTEFZIC0gRGF0ZS5ub3coKSwgRVJST1JfREVMQVkpO1xuICAgICAgICBpZiAoZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICAvLyBKaXR0ZXIgZGVsYXkgYmNveiBuZXR3b3Jrcywgc3VidHJhY3QgdXAgdG8gMzAlIGZyb20gNDAgc2Vjb25kc1xuICAgICAgICAgICAgZGVsYXkgPSBkZWxheSAtIGRlbGF5ICogTWF0aC5yYW5kb20oKSAqIDAuMztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXMpID0+IHNldFRpbWVvdXQocmVzLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFJlc3BvbnNlRXJyb3IgPSBcIlwiO1xuICAgICAgICBpZiAoIXRoaXMudHhQb3N0ZWQpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucG9zdFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNodW5rSW5kZXhfKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rSW5kZXggPSBjaHVua0luZGV4XztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMudHJhbnNhY3Rpb24uZ2V0Q2h1bmsoY2h1bmtJbmRleF8gfHwgdGhpcy5jaHVua0luZGV4LCB0aGlzLmRhdGEpO1xuICAgICAgICBjb25zdCBjaHVua09rID0gYXdhaXQgdGhpcy5tZXJrbGUudmFsaWRhdGVQYXRoKHRoaXMudHJhbnNhY3Rpb24uY2h1bmtzLmRhdGFfcm9vdCwgcGFyc2VJbnQoY2h1bmsub2Zmc2V0KSwgMCwgcGFyc2VJbnQoY2h1bmsuZGF0YV9zaXplKSwgYjY0VXJsVG9CdWZmZXIoY2h1bmsuZGF0YV9wYXRoKSk7XG4gICAgICAgIGlmICghY2h1bmtPaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gdmFsaWRhdGUgY2h1bmsgJHt0aGlzLmNodW5rSW5kZXh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2F0Y2ggbmV0d29yayBlcnJvcnMgYW5kIHR1cm4gdGhlbSBpbnRvIG9iamVjdHMgd2l0aCBzdGF0dXMgLTEgYW5kIGFuIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLmFwaS5wb3N0KGBjaHVua2AsIHRoaXMudHJhbnNhY3Rpb24uZ2V0Q2h1bmsodGhpcy5jaHVua0luZGV4LCB0aGlzLmRhdGEpKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiAtMSwgZGF0YTogeyBlcnJvcjogZS5tZXNzYWdlIH0gfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lRW5kID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5sYXN0UmVzcG9uc2VTdGF0dXMgPSByZXNwLnN0YXR1cztcbiAgICAgICAgaWYgKHRoaXMubGFzdFJlc3BvbnNlU3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXNwb25zZUVycm9yID0gZ2V0RXJyb3IocmVzcCk7XG4gICAgICAgICAgICBpZiAoRkFUQUxfQ0hVTktfVVBMT0FEX0VSUk9SUy5pbmNsdWRlcyh0aGlzLmxhc3RSZXNwb25zZUVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmF0YWwgZXJyb3IgdXBsb2FkaW5nIGNodW5rICR7dGhpcy5jaHVua0luZGV4fTogJHt0aGlzLmxhc3RSZXNwb25zZUVycm9yfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29uc3RydWN0cyBhbiB1cGxvYWQgZnJvbSBpdHMgc2VyaWFsaXplZCBzdGF0ZSBhbmQgZGF0YS5cbiAgICAgKiBDaGVja3MgaWYgZGF0YSBtYXRjaGVzIHRoZSBleHBlY3RlZCBkYXRhX3Jvb3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplZFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgc3RhdGljIGFzeW5jIGZyb21TZXJpYWxpemVkKHsgc2VyaWFsaXplZCwgZGF0YSwgZGVwcywgfSkge1xuICAgICAgICBpZiAoIXNlcmlhbGl6ZWQgfHwgdHlwZW9mIHNlcmlhbGl6ZWQuY2h1bmtJbmRleCAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2Ygc2VyaWFsaXplZC50cmFuc2FjdGlvbiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJpYWxpemVkIG9iamVjdCBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBmb3JtYXQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXZlcnl0aGluZyBsb29rcyBvaywgcmVjb25zdHJ1Y3QgdGhlIFRyYW5zYWN0aW9uVXBsb2FkLFxuICAgICAgICAvLyBwcmVwYXJlIHRoZSBjaHVua3MgYWdhaW4gYW5kIHZlcmlmeSB0aGUgZGF0YV9yb290IG1hdGNoZXNcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oc2VyaWFsaXplZC50cmFuc2FjdGlvbik7XG4gICAgICAgIGlmICghdHJhbnNhY3Rpb24uY2h1bmtzKSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5wcmVwYXJlQ2h1bmtzKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwbG9hZCA9IG5ldyBUcmFuc2FjdGlvblVwbG9hZGVyKHtcbiAgICAgICAgICAgIGRlcHMsXG4gICAgICAgICAgICB0cmFuc2FjdGlvbixcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENvcHkgdGhlIHNlcmlhbGl6ZWQgdXBsb2FkIGluZm9ybWF0aW9uLCBhbmQgZGF0YSBwYXNzZWQgaW4uXG4gICAgICAgIHVwbG9hZC5jaHVua0luZGV4ID0gc2VyaWFsaXplZC5jaHVua0luZGV4O1xuICAgICAgICB1cGxvYWQubGFzdFJlcXVlc3RUaW1lRW5kID0gc2VyaWFsaXplZC5sYXN0UmVxdWVzdFRpbWVFbmQ7XG4gICAgICAgIHVwbG9hZC5sYXN0UmVzcG9uc2VFcnJvciA9IHNlcmlhbGl6ZWQubGFzdFJlc3BvbnNlRXJyb3I7XG4gICAgICAgIHVwbG9hZC5sYXN0UmVzcG9uc2VTdGF0dXMgPSBzZXJpYWxpemVkLmxhc3RSZXNwb25zZVN0YXR1cztcbiAgICAgICAgdXBsb2FkLnR4UG9zdGVkID0gc2VyaWFsaXplZC50eFBvc3RlZDtcbiAgICAgICAgdXBsb2FkLmRhdGEgPSBkYXRhO1xuICAgICAgICBpZiAodXBsb2FkLnRyYW5zYWN0aW9uLmRhdGFfcm9vdCAhPT0gc2VyaWFsaXplZC50cmFuc2FjdGlvbi5kYXRhX3Jvb3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGF0YSBtaXNtYXRjaDogVXBsb2FkZXIgZG9lc24ndCBtYXRjaCBwcm92aWRlZCBkYXRhLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cGxvYWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29uc3RydWN0IGFuIHVwbG9hZCBmcm9tIHRoZSB0eCBtZXRhZGF0YSwgaWUgL3R4LzxpZD4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBpXG4gICAgICogQHBhcmFtIGlkXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBzdGF0aWMgYXN5bmMgZnJvbVRyYW5zYWN0aW9uSWQoYXBpLCBpZCkge1xuICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgYXBpLmdldChgdHgvJHtpZH1gKTtcbiAgICAgICAgaWYgKHJlc3Auc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHggJHtpZH0gbm90IGZvdW5kOiAke3Jlc3Auc3RhdHVzfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gcmVzcC5kYXRhO1xuICAgICAgICB0cmFuc2FjdGlvbi5kYXRhID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB7XG4gICAgICAgICAgICB0eFBvc3RlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNodW5rSW5kZXg6IDAsXG4gICAgICAgICAgICBsYXN0UmVzcG9uc2VFcnJvcjogXCJcIixcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0VGltZUVuZDogMCxcbiAgICAgICAgICAgIGxhc3RSZXNwb25zZVN0YXR1czogMCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplZDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2h1bmtJbmRleDogdGhpcy5jaHVua0luZGV4LFxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRoaXMudHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBsYXN0UmVxdWVzdFRpbWVFbmQ6IHRoaXMubGFzdFJlcXVlc3RUaW1lRW5kLFxuICAgICAgICAgICAgbGFzdFJlc3BvbnNlU3RhdHVzOiB0aGlzLmxhc3RSZXNwb25zZVN0YXR1cyxcbiAgICAgICAgICAgIGxhc3RSZXNwb25zZUVycm9yOiB0aGlzLmxhc3RSZXNwb25zZUVycm9yLFxuICAgICAgICAgICAgdHhQb3N0ZWQ6IHRoaXMudHhQb3N0ZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFBPU1QgdG8gL3R4XG4gICAgYXN5bmMgcG9zdFRyYW5zYWN0aW9uKCkge1xuICAgICAgICBjb25zdCB1cGxvYWRJbkJvZHkgPSB0aGlzLnRvdGFsQ2h1bmtzIDw9IE1BWF9DSFVOS1NfSU5fQk9EWTtcbiAgICAgICAgaWYgKHVwbG9hZEluQm9keSkge1xuICAgICAgICAgICAgLy8gUG9zdCB0aGUgdHJhbnNhY3Rpb24gd2l0aCBkYXRhLlxuICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbi5kYXRhID0gdGhpcy5kYXRhO1xuICAgICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuYXBpLnBvc3QoYHR4YCwgdGhpcy50cmFuc2FjdGlvbikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogLTEsIGRhdGE6IHsgZXJyb3I6IGUubWVzc2FnZSB9IH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlcXVlc3RUaW1lRW5kID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlU3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9uLmRhdGEgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA+PSAyMDAgJiYgcmVzcC5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgY29tcGxldGUuXG4gICAgICAgICAgICAgICAgdGhpcy50eFBvc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua0luZGV4ID0gTUFYX0NIVU5LU19JTl9CT0RZO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlRXJyb3IgPSBnZXRFcnJvcihyZXNwKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHVwbG9hZCB0cmFuc2FjdGlvbjogJHtyZXNwLnN0YXR1c30sICR7dGhpcy5sYXN0UmVzcG9uc2VFcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb3N0IHRoZSB0cmFuc2FjdGlvbiB3aXRoIG5vIGRhdGEuXG4gICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLmFwaS5wb3N0KGB0eGAsIHRoaXMudHJhbnNhY3Rpb24pO1xuICAgICAgICB0aGlzLmxhc3RSZXF1ZXN0VGltZUVuZCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMubGFzdFJlc3BvbnNlU3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICAgIGlmICghKHJlc3Auc3RhdHVzID49IDIwMCAmJiByZXNwLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlRXJyb3IgPSBnZXRFcnJvcihyZXNwKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHVwbG9hZCB0cmFuc2FjdGlvbjogJHtyZXNwLnN0YXR1c30sICR7dGhpcy5sYXN0UmVzcG9uc2VFcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4UG9zdGVkID0gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbi11cGxvYWRlci5qcy5tYXAiXSwibmFtZXMiOlsiVHJhbnNhY3Rpb24iLCJnZXRFcnJvciIsImI2NFVybFRvQnVmZmVyIiwiTUFYX0NIVU5LU19JTl9CT0RZIiwiRkFUQUxfQ0hVTktfVVBMT0FEX0VSUk9SUyIsIkVSUk9SX0RFTEFZIiwiVHJhbnNhY3Rpb25VcGxvYWRlciIsImlzQ29tcGxldGUiLCJ0eFBvc3RlZCIsImNodW5rSW5kZXgiLCJ0cmFuc2FjdGlvbiIsImNodW5rcyIsImxlbmd0aCIsInRvdGFsQ2h1bmtzIiwidXBsb2FkZWRDaHVua3MiLCJwY3RDb21wbGV0ZSIsIk1hdGgiLCJ0cnVuYyIsImNvbnN0cnVjdG9yIiwiZGVwcyIsImxhc3RSZXF1ZXN0VGltZUVuZCIsInRvdGFsRXJyb3JzIiwibGFzdFJlc3BvbnNlU3RhdHVzIiwibGFzdFJlc3BvbnNlRXJyb3IiLCJpZCIsIkVycm9yIiwiYXBpIiwiY3J5cHRvIiwibWVya2xlIiwiZGVlcEhhc2giLCJkYXRhIiwiYXR0cmlidXRlcyIsIk9iamVjdCIsImFzc2lnbiIsIlVpbnQ4QXJyYXkiLCJ1cGxvYWRDaHVuayIsImNodW5rSW5kZXhfIiwiZGVsYXkiLCJtYXgiLCJEYXRlIiwibm93IiwicmFuZG9tIiwiUHJvbWlzZSIsInJlcyIsInNldFRpbWVvdXQiLCJwb3N0VHJhbnNhY3Rpb24iLCJjaHVuayIsImdldENodW5rIiwiY2h1bmtPayIsInZhbGlkYXRlUGF0aCIsImRhdGFfcm9vdCIsInBhcnNlSW50Iiwib2Zmc2V0IiwiZGF0YV9zaXplIiwiZGF0YV9wYXRoIiwicmVzcCIsInBvc3QiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwiaW5jbHVkZXMiLCJmcm9tU2VyaWFsaXplZCIsInNlcmlhbGl6ZWQiLCJwcmVwYXJlQ2h1bmtzIiwidXBsb2FkIiwiZnJvbVRyYW5zYWN0aW9uSWQiLCJnZXQiLCJ0b0pTT04iLCJ1cGxvYWRJbkJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction-uploader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArweaveTag: () => (/* binding */ ArweaveTag),\n/* harmony export */   \"default\": () => (/* binding */ Transaction)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/* eslint-disable no-case-declarations */ \n\nclass BaseObject {\n    get(field, options) {\n        if (!Object.getOwnPropertyNames(this).includes(field)) {\n            throw new Error(`Field \"${field}\" is not a property of the Arweave Transaction class.`);\n        }\n        // Handle fields that are Uint8Arrays.\n        // To maintain compat we encode them to b64url\n        // if decode option is not specificed.\n        if (this[field] instanceof Uint8Array) {\n            if (options && options.decode && options.string) {\n                return _utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferToString(this[field]);\n            }\n            if (options && options.decode && !options.string) {\n                return this[field];\n            }\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url(this[field]);\n        }\n        if (this[field] instanceof Array) {\n            if (options?.decode !== undefined || options?.string !== undefined) {\n                if (field === \"tags\") {\n                    console.warn(`Did you mean to use 'transaction[\"tags\"]' ?`);\n                }\n                throw new Error(`Cannot decode or stringify an array.`);\n            }\n            return this[field];\n        }\n        if (options && options.decode == true) {\n            if (options && options.string) {\n                return _utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToString(this[field]);\n            }\n            return _utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer(this[field]);\n        }\n        return this[field];\n    }\n}\nclass ArweaveTag extends BaseObject {\n    constructor(name, value /* _decode = false */ ){\n        super();\n        this.name = name;\n        this.value = value;\n    }\n}\nclass Transaction extends BaseObject {\n    constructor({ attributes, deps }){\n        super();\n        this.format = 2;\n        this.id = \"\";\n        this.last_tx = \"\";\n        this.owner = \"\";\n        this.tags = [];\n        this.target = \"\";\n        this.quantity = \"0\";\n        this.data_size = \"0\";\n        this.data = new Uint8Array();\n        this.data_root = \"\";\n        this.reward = \"0\";\n        this.signature = \"\";\n        this.merkle = deps.merkle;\n        this.deepHash = deps.deepHash;\n        Object.assign(this, attributes);\n        // If something passes in a Tx that has been toJSON'ed and back,\n        // or where the data was filled in from /tx/data endpoint.\n        // data will be b64url encoded, so decode it.\n        if (typeof this.data === \"string\") {\n            this.data = _utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer(this.data);\n        }\n        if (attributes.tags) {\n            this.tags = attributes.tags /* .map((tag: { name: string; value: string }) => {\n              return new Tag(tag.name, tag.value);\n            }) */ ;\n        }\n    }\n    addTag(name, value) {\n        this.tags.push({\n            name: _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToB64Url(name),\n            value: _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToB64Url(value)\n        });\n    }\n    toJSON() {\n        return {\n            format: this.format,\n            id: this.id,\n            last_tx: this.last_tx,\n            owner: this.owner,\n            tags: this.tags,\n            target: this.target,\n            quantity: this.quantity,\n            data: _utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url(this.data),\n            data_size: this.data_size,\n            data_root: this.data_root,\n            data_tree: this.data_tree,\n            reward: this.reward,\n            signature: this.signature\n        };\n    }\n    setOwner(owner) {\n        this.owner = owner;\n    }\n    setSignature({ id, owner, reward, tags, signature }) {\n        this.id = id;\n        this.owner = owner;\n        if (reward) this.reward = reward;\n        if (tags) this.tags = tags;\n        this.signature = signature;\n    }\n    async prepareChunks(data) {\n        // Note: we *do not* use `this.data`, the caller may be\n        // operating on a transaction with an zero length data field.\n        // This function computes the chunks for the data passed in and\n        // assigns the result to this transaction. It should not read the\n        // data *from* this transaction.\n        if (!this.chunks && data.byteLength > 0) {\n            this.chunks = await this.merkle.generateTransactionChunks(data);\n            this.data_root = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url)(this.chunks.data_root);\n        }\n        if (!this.chunks && data.byteLength === 0) {\n            this.chunks = {\n                chunks: [],\n                data_root: new Uint8Array(),\n                proofs: []\n            };\n            this.data_root = \"\";\n        }\n    }\n    // Returns a chunk in a format suitable for posting to /chunk.\n    // Similar to `prepareChunks()` this does not operate `this.data`,\n    // instead using the data passed in.\n    getChunk(idx, data) {\n        if (!this.chunks) {\n            throw new Error(`Chunks have not been prepared`);\n        }\n        const proof = this.chunks.proofs[idx];\n        const chunk = this.chunks.chunks[idx];\n        return {\n            data_root: this.data_root,\n            data_size: this.data_size,\n            data_path: _utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url(proof.proof),\n            offset: proof.offset.toString(),\n            chunk: _utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url(data.slice(chunk.minByteRange, chunk.maxByteRange))\n        };\n    }\n    async getSignatureData() {\n        switch(this.format){\n            case 1:\n                const tags = this.tags.reduce((accumulator, tag)=>{\n                    return _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBuffers([\n                        accumulator,\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer)(tag.name),\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer)(tag.value)\n                    ]);\n                }, new Uint8Array());\n                return _utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBuffers([\n                    this.get(\"owner\", {\n                        decode: true,\n                        string: false\n                    }),\n                    this.get(\"target\", {\n                        decode: true,\n                        string: false\n                    }),\n                    this.get(\"data\", {\n                        decode: true,\n                        string: false\n                    }),\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.quantity),\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.reward),\n                    this.get(\"last_tx\", {\n                        decode: true,\n                        string: false\n                    }),\n                    tags\n                ]);\n            case 2:\n                if (!this.data_root) {\n                    await this.prepareChunks(this.data);\n                }\n                const tagList = this.tags.map((tag)=>[\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer)(tag.name),\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer)(tag.value)\n                    ]);\n                return await this.deepHash.deepHash([\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.format.toString()),\n                    this.get(\"owner\", {\n                        decode: true,\n                        string: false\n                    }),\n                    this.get(\"target\", {\n                        decode: true,\n                        string: false\n                    }),\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.quantity),\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.reward),\n                    this.get(\"last_tx\", {\n                        decode: true,\n                        string: false\n                    }),\n                    tagList,\n                    _utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer(this.data_size),\n                    this.get(\"data_root\", {\n                        decode: true,\n                        string: false\n                    })\n                ]);\n            default:\n                throw new Error(`Unexpected transaction format: ${this.format}`);\n        }\n    }\n} //# sourceMappingURL=transaction.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi90cmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSx1Q0FBdUMsR0FDSTtBQUNpQjtBQUM1RCxNQUFNRztJQUNGQyxJQUFJQyxLQUFLLEVBQUVDLE9BQU8sRUFBRTtRQUNoQixJQUFJLENBQUNDLE9BQU9DLG1CQUFtQixDQUFDLElBQUksRUFBRUMsUUFBUSxDQUFDSixRQUFRO1lBQ25ELE1BQU0sSUFBSUssTUFBTSxDQUFDLE9BQU8sRUFBRUwsTUFBTSxxREFBcUQsQ0FBQztRQUMxRjtRQUNBLHNDQUFzQztRQUN0Qyw4Q0FBOEM7UUFDOUMsc0NBQXNDO1FBQ3RDLElBQUksSUFBSSxDQUFDQSxNQUFNLFlBQVlNLFlBQVk7WUFDbkMsSUFBSUwsV0FBV0EsUUFBUU0sTUFBTSxJQUFJTixRQUFRTyxNQUFNLEVBQUU7Z0JBQzdDLE9BQU9iLHFEQUEyQixDQUFDLElBQUksQ0FBQ0ssTUFBTTtZQUNsRDtZQUNBLElBQUlDLFdBQVdBLFFBQVFNLE1BQU0sSUFBSSxDQUFDTixRQUFRTyxNQUFNLEVBQUU7Z0JBQzlDLE9BQU8sSUFBSSxDQUFDUixNQUFNO1lBQ3RCO1lBQ0EsT0FBT0wscURBQTJCLENBQUMsSUFBSSxDQUFDSyxNQUFNO1FBQ2xEO1FBQ0EsSUFBSSxJQUFJLENBQUNBLE1BQU0sWUFBWVUsT0FBTztZQUM5QixJQUFJVCxTQUFTTSxXQUFXSSxhQUFhVixTQUFTTyxXQUFXRyxXQUFXO2dCQUNoRSxJQUFJWCxVQUFVLFFBQVE7b0JBQ2xCWSxRQUFRQyxJQUFJLENBQUMsQ0FBQywyQ0FBMkMsQ0FBQztnQkFDOUQ7Z0JBQ0EsTUFBTSxJQUFJUixNQUFNLENBQUMsb0NBQW9DLENBQUM7WUFDMUQ7WUFDQSxPQUFPLElBQUksQ0FBQ0wsTUFBTTtRQUN0QjtRQUNBLElB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LENBQUNpQixRQUFRLENBQUNBLFFBQVEsQ0FBQztvQkFDaEN4QyxxREFBMkIsQ0FBQyxJQUFJLENBQUMyQixNQUFNLENBQUNpQyxRQUFRO29CQUNoRCxJQUFJLENBQUN4RCxHQUFHLENBQUMsU0FBUzt3QkFBRVEsUUFBUTt3QkFBTUMsUUFBUTtvQkFBTTtvQkFDaEQsSUFBSSxDQUFDVCxHQUFHLENBQUMsVUFBVTt3QkFBRVEsUUFBUTt3QkFBTUMsUUFBUTtvQkFBTTtvQkFDakRiLHFEQUEyQixDQUFDLElBQUksQ0FBQ2lDLFFBQVE7b0JBQ3pDakMscURBQTJCLENBQUMsSUFBSSxDQUFDcUMsTUFBTTtvQkFDdkMsSUFBSSxDQUFDakMsR0FBRyxDQUFDLFdBQVc7d0JBQUVRLFFBQVE7d0JBQU1DLFFBQVE7b0JBQU07b0JBQ2xEeUQ7b0JBQ0F0RSxxREFBMkIsQ0FBQyxJQUFJLENBQUNrQyxTQUFTO29CQUMxQyxJQUFJLENBQUM5QixHQUFHLENBQUMsYUFBYTt3QkFBRVEsUUFBUTt3QkFBTUMsUUFBUTtvQkFBTTtpQkFDdkQ7WUFDTDtnQkFDSSxNQUFNLElBQUlILE1BQU0sQ0FBQywrQkFBK0IsRUFBRSxJQUFJLENBQUNpQixNQUFNLENBQUMsQ0FBQztRQUN2RTtJQUNKO0FBQ0osRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9saWIvdHJhbnNhY3Rpb24uanM/ZWNhNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jYXNlLWRlY2xhcmF0aW9ucyAqL1xuaW1wb3J0ICogYXMgQXJ3ZWF2ZVV0aWxzIGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBiNjRVcmxUb0J1ZmZlciwgYnVmZmVyVG9iNjRVcmwgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuY2xhc3MgQmFzZU9iamVjdCB7XG4gICAgZ2V0KGZpZWxkLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZpZWxkIFwiJHtmaWVsZH1cIiBpcyBub3QgYSBwcm9wZXJ0eSBvZiB0aGUgQXJ3ZWF2ZSBUcmFuc2FjdGlvbiBjbGFzcy5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgZmllbGRzIHRoYXQgYXJlIFVpbnQ4QXJyYXlzLlxuICAgICAgICAvLyBUbyBtYWludGFpbiBjb21wYXQgd2UgZW5jb2RlIHRoZW0gdG8gYjY0dXJsXG4gICAgICAgIC8vIGlmIGRlY29kZSBvcHRpb24gaXMgbm90IHNwZWNpZmljZWQuXG4gICAgICAgIGlmICh0aGlzW2ZpZWxkXSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGVjb2RlICYmIG9wdGlvbnMuc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFyd2VhdmVVdGlscy5idWZmZXJUb1N0cmluZyh0aGlzW2ZpZWxkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRlY29kZSAmJiAhb3B0aW9ucy5zdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tmaWVsZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQXJ3ZWF2ZVV0aWxzLmJ1ZmZlclRvYjY0VXJsKHRoaXNbZmllbGRdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpc1tmaWVsZF0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnM/LmRlY29kZSAhPT0gdW5kZWZpbmVkIHx8IG9wdGlvbnM/LnN0cmluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkID09PSBcInRhZ3NcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYERpZCB5b3UgbWVhbiB0byB1c2UgJ3RyYW5zYWN0aW9uW1widGFnc1wiXScgP2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZWNvZGUgb3Igc3RyaW5naWZ5IGFuIGFycmF5LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbZmllbGRdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGVjb2RlID09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFyd2VhdmVVdGlscy5iNjRVcmxUb1N0cmluZyh0aGlzW2ZpZWxkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQXJ3ZWF2ZVV0aWxzLmI2NFVybFRvQnVmZmVyKHRoaXNbZmllbGRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZF07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFyd2VhdmVUYWcgZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgICBuYW1lO1xuICAgIHZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHZhbHVlIC8qIF9kZWNvZGUgPSBmYWxzZSAqLykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlT2JqZWN0IHtcbiAgICBmb3JtYXQgPSAyO1xuICAgIGlkID0gXCJcIjtcbiAgICBsYXN0X3R4ID0gXCJcIjtcbiAgICBvd25lciA9IFwiXCI7XG4gICAgdGFncyA9IFtdO1xuICAgIHRhcmdldCA9IFwiXCI7XG4gICAgcXVhbnRpdHkgPSBcIjBcIjtcbiAgICBkYXRhX3NpemUgPSBcIjBcIjtcbiAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBkYXRhX3Jvb3QgPSBcIlwiO1xuICAgIHJld2FyZCA9IFwiMFwiO1xuICAgIHNpZ25hdHVyZSA9IFwiXCI7XG4gICAgbWVya2xlO1xuICAgIGRlZXBIYXNoO1xuICAgIC8vIENvbXB1dGVkIHdoZW4gbmVlZGVkLlxuICAgIGNodW5rcztcbiAgICBjb25zdHJ1Y3Rvcih7IGF0dHJpYnV0ZXMsIGRlcHMgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1lcmtsZSA9IGRlcHMubWVya2xlO1xuICAgICAgICB0aGlzLmRlZXBIYXNoID0gZGVwcy5kZWVwSGFzaDtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgLy8gSWYgc29tZXRoaW5nIHBhc3NlcyBpbiBhIFR4IHRoYXQgaGFzIGJlZW4gdG9KU09OJ2VkIGFuZCBiYWNrLFxuICAgICAgICAvLyBvciB3aGVyZSB0aGUgZGF0YSB3YXMgZmlsbGVkIGluIGZyb20gL3R4L2RhdGEgZW5kcG9pbnQuXG4gICAgICAgIC8vIGRhdGEgd2lsbCBiZSBiNjR1cmwgZW5jb2RlZCwgc28gZGVjb2RlIGl0LlxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gQXJ3ZWF2ZVV0aWxzLmI2NFVybFRvQnVmZmVyKHRoaXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMudGFncykge1xuICAgICAgICAgICAgdGhpcy50YWdzID0gYXR0cmlidXRlcy50YWdzIC8qIC5tYXAoKHRhZzogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gbmV3IFRhZyh0YWcubmFtZSwgdGFnLnZhbHVlKTtcbiAgICAgICAgICAgIH0pICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRhZyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnRhZ3MucHVzaCh7IG5hbWU6IEFyd2VhdmVVdGlscy5zdHJpbmdUb0I2NFVybChuYW1lKSwgdmFsdWU6IEFyd2VhdmVVdGlscy5zdHJpbmdUb0I2NFVybCh2YWx1ZSkgfSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5mb3JtYXQsXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGxhc3RfdHg6IHRoaXMubGFzdF90eCxcbiAgICAgICAgICAgIG93bmVyOiB0aGlzLm93bmVyLFxuICAgICAgICAgICAgdGFnczogdGhpcy50YWdzLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgIHF1YW50aXR5OiB0aGlzLnF1YW50aXR5LFxuICAgICAgICAgICAgZGF0YTogQXJ3ZWF2ZVV0aWxzLmJ1ZmZlclRvYjY0VXJsKHRoaXMuZGF0YSksXG4gICAgICAgICAgICBkYXRhX3NpemU6IHRoaXMuZGF0YV9zaXplLFxuICAgICAgICAgICAgZGF0YV9yb290OiB0aGlzLmRhdGFfcm9vdCxcbiAgICAgICAgICAgIGRhdGFfdHJlZTogdGhpcy5kYXRhX3RyZWUsXG4gICAgICAgICAgICByZXdhcmQ6IHRoaXMucmV3YXJkLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiB0aGlzLnNpZ25hdHVyZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0T3duZXIob3duZXIpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgIH1cbiAgICBzZXRTaWduYXR1cmUoeyBpZCwgb3duZXIsIHJld2FyZCwgdGFncywgc2lnbmF0dXJlIH0pIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIGlmIChyZXdhcmQpXG4gICAgICAgICAgICB0aGlzLnJld2FyZCA9IHJld2FyZDtcbiAgICAgICAgaWYgKHRhZ3MpXG4gICAgICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgICAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICB9XG4gICAgYXN5bmMgcHJlcGFyZUNodW5rcyhkYXRhKSB7XG4gICAgICAgIC8vIE5vdGU6IHdlICpkbyBub3QqIHVzZSBgdGhpcy5kYXRhYCwgdGhlIGNhbGxlciBtYXkgYmVcbiAgICAgICAgLy8gb3BlcmF0aW5nIG9uIGEgdHJhbnNhY3Rpb24gd2l0aCBhbiB6ZXJvIGxlbmd0aCBkYXRhIGZpZWxkLlxuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIGNvbXB1dGVzIHRoZSBjaHVua3MgZm9yIHRoZSBkYXRhIHBhc3NlZCBpbiBhbmRcbiAgICAgICAgLy8gYXNzaWducyB0aGUgcmVzdWx0IHRvIHRoaXMgdHJhbnNhY3Rpb24uIEl0IHNob3VsZCBub3QgcmVhZCB0aGVcbiAgICAgICAgLy8gZGF0YSAqZnJvbSogdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgaWYgKCF0aGlzLmNodW5rcyAmJiBkYXRhLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IGF3YWl0IHRoaXMubWVya2xlLmdlbmVyYXRlVHJhbnNhY3Rpb25DaHVua3MoZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmRhdGFfcm9vdCA9IGJ1ZmZlclRvYjY0VXJsKHRoaXMuY2h1bmtzLmRhdGFfcm9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNodW5rcyAmJiBkYXRhLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0ge1xuICAgICAgICAgICAgICAgIGNodW5rczogW10sXG4gICAgICAgICAgICAgICAgZGF0YV9yb290OiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgICAgIHByb29mczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5kYXRhX3Jvb3QgPSBcIlwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBjaHVuayBpbiBhIGZvcm1hdCBzdWl0YWJsZSBmb3IgcG9zdGluZyB0byAvY2h1bmsuXG4gICAgLy8gU2ltaWxhciB0byBgcHJlcGFyZUNodW5rcygpYCB0aGlzIGRvZXMgbm90IG9wZXJhdGUgYHRoaXMuZGF0YWAsXG4gICAgLy8gaW5zdGVhZCB1c2luZyB0aGUgZGF0YSBwYXNzZWQgaW4uXG4gICAgZ2V0Q2h1bmsoaWR4LCBkYXRhKSB7XG4gICAgICAgIGlmICghdGhpcy5jaHVua3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2h1bmtzIGhhdmUgbm90IGJlZW4gcHJlcGFyZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9vZiA9IHRoaXMuY2h1bmtzLnByb29mc1tpZHhdO1xuICAgICAgICBjb25zdCBjaHVuayA9IHRoaXMuY2h1bmtzLmNodW5rc1tpZHhdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YV9yb290OiB0aGlzLmRhdGFfcm9vdCxcbiAgICAgICAgICAgIGRhdGFfc2l6ZTogdGhpcy5kYXRhX3NpemUsXG4gICAgICAgICAgICBkYXRhX3BhdGg6IEFyd2VhdmVVdGlscy5idWZmZXJUb2I2NFVybChwcm9vZi5wcm9vZiksXG4gICAgICAgICAgICBvZmZzZXQ6IHByb29mLm9mZnNldC50b1N0cmluZygpLFxuICAgICAgICAgICAgY2h1bms6IEFyd2VhdmVVdGlscy5idWZmZXJUb2I2NFVybChkYXRhLnNsaWNlKGNodW5rLm1pbkJ5dGVSYW5nZSwgY2h1bmsubWF4Qnl0ZVJhbmdlKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGdldFNpZ25hdHVyZURhdGEoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5mb3JtYXQpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjb25zdCB0YWdzID0gdGhpcy50YWdzLnJlZHVjZSgoYWNjdW11bGF0b3IsIHRhZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXJ3ZWF2ZVV0aWxzLmNvbmNhdEJ1ZmZlcnMoW2FjY3VtdWxhdG9yLCBiNjRVcmxUb0J1ZmZlcih0YWcubmFtZSksIGI2NFVybFRvQnVmZmVyKHRhZy52YWx1ZSldKTtcbiAgICAgICAgICAgICAgICB9LCBuZXcgVWludDhBcnJheSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJ3ZWF2ZVV0aWxzLmNvbmNhdEJ1ZmZlcnMoW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldChcIm93bmVyXCIsIHsgZGVjb2RlOiB0cnVlLCBzdHJpbmc6IGZhbHNlIH0pLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldChcInRhcmdldFwiLCB7IGRlY29kZTogdHJ1ZSwgc3RyaW5nOiBmYWxzZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXQoXCJkYXRhXCIsIHsgZGVjb2RlOiB0cnVlLCBzdHJpbmc6IGZhbHNlIH0pLFxuICAgICAgICAgICAgICAgICAgICBBcndlYXZlVXRpbHMuc3RyaW5nVG9CdWZmZXIodGhpcy5xdWFudGl0eSksXG4gICAgICAgICAgICAgICAgICAgIEFyd2VhdmVVdGlscy5zdHJpbmdUb0J1ZmZlcih0aGlzLnJld2FyZCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KFwibGFzdF90eFwiLCB7IGRlY29kZTogdHJ1ZSwgc3RyaW5nOiBmYWxzZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGFncyxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGF0YV9yb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZUNodW5rcyh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0YWdMaXN0ID0gdGhpcy50YWdzLm1hcCgodGFnKSA9PiBbYjY0VXJsVG9CdWZmZXIodGFnLm5hbWUpLCBiNjRVcmxUb0J1ZmZlcih0YWcudmFsdWUpXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGVlcEhhc2guZGVlcEhhc2goW1xuICAgICAgICAgICAgICAgICAgICBBcndlYXZlVXRpbHMuc3RyaW5nVG9CdWZmZXIodGhpcy5mb3JtYXQudG9TdHJpbmcoKSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KFwib3duZXJcIiwgeyBkZWNvZGU6IHRydWUsIHN0cmluZzogZmFsc2UgfSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KFwidGFyZ2V0XCIsIHsgZGVjb2RlOiB0cnVlLCBzdHJpbmc6IGZhbHNlIH0pLFxuICAgICAgICAgICAgICAgICAgICBBcndlYXZlVXRpbHMuc3RyaW5nVG9CdWZmZXIodGhpcy5xdWFudGl0eSksXG4gICAgICAgICAgICAgICAgICAgIEFyd2VhdmVVdGlscy5zdHJpbmdUb0J1ZmZlcih0aGlzLnJld2FyZCksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0KFwibGFzdF90eFwiLCB7IGRlY29kZTogdHJ1ZSwgc3RyaW5nOiBmYWxzZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGFnTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgQXJ3ZWF2ZVV0aWxzLnN0cmluZ1RvQnVmZmVyKHRoaXMuZGF0YV9zaXplKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXQoXCJkYXRhX3Jvb3RcIiwgeyBkZWNvZGU6IHRydWUsIHN0cmluZzogZmFsc2UgfSksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0cmFuc2FjdGlvbiBmb3JtYXQ6ICR7dGhpcy5mb3JtYXR9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOlsiQXJ3ZWF2ZVV0aWxzIiwiYjY0VXJsVG9CdWZmZXIiLCJidWZmZXJUb2I2NFVybCIsIkJhc2VPYmplY3QiLCJnZXQiLCJmaWVsZCIsIm9wdGlvbnMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaW5jbHVkZXMiLCJFcnJvciIsIlVpbnQ4QXJyYXkiLCJkZWNvZGUiLCJzdHJpbmciLCJidWZmZXJUb1N0cmluZyIsIkFycmF5IiwidW5kZWZpbmVkIiwiY29uc29sZSIsIndhcm4iLCJiNjRVcmxUb1N0cmluZyIsIkFyd2VhdmVUYWciLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ2YWx1ZSIsIlRyYW5zYWN0aW9uIiwiYXR0cmlidXRlcyIsImRlcHMiLCJmb3JtYXQiLCJpZCIsImxhc3RfdHgiLCJvd25lciIsInRhZ3MiLCJ0YXJnZXQiLCJxdWFudGl0eSIsImRhdGFfc2l6ZSIsImRhdGEiLCJkYXRhX3Jvb3QiLCJyZXdhcmQiLCJzaWduYXR1cmUiLCJtZXJrbGUiLCJkZWVwSGFzaCIsImFzc2lnbiIsImFkZFRhZyIsInB1c2giLCJzdHJpbmdUb0I2NFVybCIsInRvSlNPTiIsImRhdGFfdHJlZSIsInNldE93bmVyIiwic2V0U2lnbmF0dXJlIiwicHJlcGFyZUNodW5rcyIsImNodW5rcyIsImJ5dGVMZW5ndGgiLCJnZW5lcmF0ZVRyYW5zYWN0aW9uQ2h1bmtzIiwicHJvb2ZzIiwiZ2V0Q2h1bmsiLCJpZHgiLCJwcm9vZiIsImNodW5rIiwiZGF0YV9wYXRoIiwib2Zmc2V0IiwidG9TdHJpbmciLCJzbGljZSIsIm1pbkJ5dGVSYW5nZSIsIm1heEJ5dGVSYW5nZSIsImdldFNpZ25hdHVyZURhdGEiLCJyZWR1Y2UiLCJhY2N1bXVsYXRvciIsInRhZyIsImNvbmNhdEJ1ZmZlcnMiLCJzdHJpbmdUb0J1ZmZlciIsInRhZ0xpc3QiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arToWinston: () => (/* binding */ arToWinston),\n/* harmony export */   b64UrlDecode: () => (/* binding */ b64UrlDecode),\n/* harmony export */   b64UrlEncode: () => (/* binding */ b64UrlEncode),\n/* harmony export */   b64UrlToBuffer: () => (/* binding */ b64UrlToBuffer),\n/* harmony export */   b64UrlToString: () => (/* binding */ b64UrlToString),\n/* harmony export */   bufferToString: () => (/* binding */ bufferToString),\n/* harmony export */   bufferTob64: () => (/* binding */ bufferTob64),\n/* harmony export */   bufferTob64Url: () => (/* binding */ bufferTob64Url),\n/* harmony export */   concatBuffers: () => (/* binding */ concatBuffers),\n/* harmony export */   stringToB64Url: () => (/* binding */ stringToB64Url),\n/* harmony export */   stringToBuffer: () => (/* binding */ stringToBuffer),\n/* harmony export */   winstonToAr: () => (/* binding */ winstonToAr)\n/* harmony export */ });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js\");\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bignumber.js */ \"(ssr)/./node_modules/.pnpm/bignumber.js@9.3.0/node_modules/bignumber.js/bignumber.mjs\");\n\n\nfunction concatBuffers(buffers) {\n    let totalLength = 0;\n    for (const b of buffers)totalLength += b.byteLength;\n    const temp = new Uint8Array(totalLength);\n    let offset = 0;\n    temp.set(new Uint8Array(buffers[0]), offset);\n    offset += buffers[0].byteLength;\n    for(let i = 1; i < buffers.length; i++){\n        temp.set(new Uint8Array(buffers[i]), offset);\n        offset += buffers[i].byteLength;\n    }\n    return temp;\n}\nfunction b64UrlToString(b64UrlString) {\n    const buffer = b64UrlToBuffer(b64UrlString);\n    return bufferToString(buffer);\n}\nfunction bufferToString(buffer) {\n    return new TextDecoder(\"utf-8\", {\n        fatal: true\n    }).decode(buffer);\n}\nfunction stringToBuffer(string) {\n    return new TextEncoder().encode(string);\n}\nfunction stringToB64Url(string) {\n    return bufferTob64Url(stringToBuffer(string));\n}\nfunction b64UrlToBuffer(b64UrlString) {\n    return new Uint8Array((0,base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray)(b64UrlDecode(b64UrlString)));\n}\nfunction bufferTob64(buffer) {\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray)(new Uint8Array(buffer));\n}\nfunction bufferTob64Url(buffer) {\n    return b64UrlEncode(bufferTob64(buffer));\n}\nfunction b64UrlEncode(b64UrlString) {\n    return b64UrlString.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/\\=/g, \"\");\n}\nfunction b64UrlDecode(b64UrlString) {\n    b64UrlString = b64UrlString.replace(/\\-/g, \"+\").replace(/\\_/g, \"/\");\n    let padding;\n    b64UrlString.length % 4 == 0 ? padding = 0 : padding = 4 - b64UrlString.length % 4;\n    return b64UrlString.concat(\"=\".repeat(padding));\n}\nfunction winstonToAr(winston) {\n    return new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](winston).shiftedBy(-12);\n}\nfunction arToWinston(ar) {\n    return new bignumber_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](ar).shiftedBy(12);\n} //# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNsQjtBQUM5QixTQUFTRyxjQUFjQyxPQUFPO0lBQ2pDLElBQUlDLGNBQWM7SUFDbEIsS0FBSyxNQUFNQyxLQUFLRixRQUNaQyxlQUFlQyxFQUFFQyxVQUFVO0lBQy9CLE1BQU1DLE9BQU8sSUFBSUMsV0FBV0o7SUFDNUIsSUFBSUssU0FBUztJQUNiRixLQUFLRyxHQUFHLENBQUMsSUFBSUYsV0FBV0wsT0FBTyxDQUFDLEVBQUUsR0FBR007SUFDckNBLFVBQVVOLE9BQU8sQ0FBQyxFQUFFLENBQUNHLFVBQVU7SUFDL0IsSUFBSyxJQUFJSyxJQUFJLEdBQUdBLElBQUlSLFFBQVFTLE1BQU0sRUFBRUQsSUFBSztRQUNyQ0osS0FBS0csR0FBRyxDQUFDLElBQUlGLFdBQVdMLE9BQU8sQ0FBQ1EsRUFBRSxHQUFHRjtRQUNyQ0EsVUFBVU4sT0FBTyxDQUFDUSxFQUFFLENBQUNMLFVBQVU7SUFDbkM7SUFDQSxPQUFPQztBQUNYO0FBQ08sU0FBU00sZUFBZUMsWUFBWTtJQUN2QyxNQUFNQyxTQUFTQyxlQUFlRjtJQUM5QixPQUFPRyxlQUFlRjtBQUMxQjtBQUNPLFNBQVNFLGVBQWVGLE1BQU07SUFDakMsT0FBTyxJQUFJRyxZQUFZLFNBQVM7UUFBRUMsT0FBTztJQUFLLEdBQUdDLE1BQU0sQ0FBQ0w7QUFDNUQ7QUFDTyxTQUFTTSxlQUFlQyxNQUFNO0lBQ2pDLE9BQU8sSUFBSUMsY0FBY0MsTUFBTSxDQUFDRjtBQUNwQztBQUNPLFNBQVNHLGVBQWVILE1BQU07SUFDakMsT0FBT0ksZUFBZUwsZUFBZUM7QUFDekM7QUFDTyxTQUFTTixlQUFlRixZQUFZO0lBQ3ZDLE9BQU8sSUFBSU4sV0FBV1Isc0RBQVdBLENBQUMyQixhQUFhYjtBQUNuRDtBQUNPLFNBQVNjLFlBQVliLE1BQU07SUFDOUIsT0FBT2hCLHdEQUFhQSxDQUFDLElBQUlTLFdBQVdPO0FBQ3hDO0FBQ08sU0FBU1csZUFBZVgsTUFBTTtJQUNqQyxPQUFPYyxhQUFhRCxZQUFZYjtBQUNwQztBQUNPLFNBQVNjLGFBQWFmLFlBQVk7SUFDckMsT0FBT0EsYUFBYWdCLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxPQUFPO0FBQy9FO0FBQ08sU0FBU0gsYUFBYWIsWUFBWTtJQUNyQ0EsZUFBZUEsYUFBYWdCLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxPQUFPO0lBQy9ELElBQUlDO0lBQ0pqQixhQUFhRixNQUFNLEdBQUcsS0FBSyxJQUFLbUIsVUFBVSxJQUFNQSxVQUFVLElBQUtqQixhQUFhRixNQUFNLEdBQUc7SUFDckYsT0FBT0UsYUFBYWtCLE1BQU0sQ0FBQyxJQUFJQyxNQUFNLENBQUNGO0FBQzFDO0FBQ08sU0FBU0csWUFBWUMsT0FBTztJQUMvQixPQUFPLElBQUlsQyxvREFBU0EsQ0FBQ2tDLFNBQVNDLFNBQVMsQ0FBQyxDQUFDO0FBQzdDO0FBQ08sU0FBU0MsWUFBWUMsRUFBRTtJQUMxQixPQUFPLElBQUlyQyxvREFBU0EsQ0FBQ3FDLElBQUlGLFNBQVMsQ0FBQztBQUN2QyxFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL2xpYi91dGlscy5qcz8zZDdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CeXRlQXJyYXksIHRvQnl0ZUFycmF5IH0gZnJvbSBcImJhc2U2NC1qc1wiO1xuaW1wb3J0IEJpZ051bWJlciBmcm9tIFwiYmlnbnVtYmVyLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gY29uY2F0QnVmZmVycyhidWZmZXJzKSB7XG4gICAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgICBmb3IgKGNvbnN0IGIgb2YgYnVmZmVycylcbiAgICAgICAgdG90YWxMZW5ndGggKz0gYi5ieXRlTGVuZ3RoO1xuICAgIGNvbnN0IHRlbXAgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgdGVtcC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyc1swXSksIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IGJ1ZmZlcnNbMF0uYnl0ZUxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGVtcC5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmZmVyc1tpXSksIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBidWZmZXJzW2ldLmJ5dGVMZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0ZW1wO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGI2NFVybFRvU3RyaW5nKGI2NFVybFN0cmluZykge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGI2NFVybFRvQnVmZmVyKGI2NFVybFN0cmluZyk7XG4gICAgcmV0dXJuIGJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIsIHsgZmF0YWw6IHRydWUgfSkuZGVjb2RlKGJ1ZmZlcik7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9CdWZmZXIoc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzdHJpbmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQjY0VXJsKHN0cmluZykge1xuICAgIHJldHVybiBidWZmZXJUb2I2NFVybChzdHJpbmdUb0J1ZmZlcihzdHJpbmcpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiNjRVcmxUb0J1ZmZlcihiNjRVcmxTdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodG9CeXRlQXJyYXkoYjY0VXJsRGVjb2RlKGI2NFVybFN0cmluZykpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUb2I2NChidWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBidWZmZXJUb2I2NFVybChidWZmZXIpIHtcbiAgICByZXR1cm4gYjY0VXJsRW5jb2RlKGJ1ZmZlclRvYjY0KGJ1ZmZlcikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGI2NFVybEVuY29kZShiNjRVcmxTdHJpbmcpIHtcbiAgICByZXR1cm4gYjY0VXJsU3RyaW5nLnJlcGxhY2UoL1xcKy9nLCBcIi1cIikucmVwbGFjZSgvXFwvL2csIFwiX1wiKS5yZXBsYWNlKC9cXD0vZywgXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gYjY0VXJsRGVjb2RlKGI2NFVybFN0cmluZykge1xuICAgIGI2NFVybFN0cmluZyA9IGI2NFVybFN0cmluZy5yZXBsYWNlKC9cXC0vZywgXCIrXCIpLnJlcGxhY2UoL1xcXy9nLCBcIi9cIik7XG4gICAgbGV0IHBhZGRpbmc7XG4gICAgYjY0VXJsU3RyaW5nLmxlbmd0aCAlIDQgPT0gMCA/IChwYWRkaW5nID0gMCkgOiAocGFkZGluZyA9IDQgLSAoYjY0VXJsU3RyaW5nLmxlbmd0aCAlIDQpKTtcbiAgICByZXR1cm4gYjY0VXJsU3RyaW5nLmNvbmNhdChcIj1cIi5yZXBlYXQocGFkZGluZykpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdpbnN0b25Ub0FyKHdpbnN0b24pIHtcbiAgICByZXR1cm4gbmV3IEJpZ051bWJlcih3aW5zdG9uKS5zaGlmdGVkQnkoLTEyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhclRvV2luc3Rvbihhcikge1xuICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKGFyKS5zaGlmdGVkQnkoMTIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbImZyb21CeXRlQXJyYXkiLCJ0b0J5dGVBcnJheSIsIkJpZ051bWJlciIsImNvbmNhdEJ1ZmZlcnMiLCJidWZmZXJzIiwidG90YWxMZW5ndGgiLCJiIiwiYnl0ZUxlbmd0aCIsInRlbXAiLCJVaW50OEFycmF5Iiwib2Zmc2V0Iiwic2V0IiwiaSIsImxlbmd0aCIsImI2NFVybFRvU3RyaW5nIiwiYjY0VXJsU3RyaW5nIiwiYnVmZmVyIiwiYjY0VXJsVG9CdWZmZXIiLCJidWZmZXJUb1N0cmluZyIsIlRleHREZWNvZGVyIiwiZmF0YWwiLCJkZWNvZGUiLCJzdHJpbmdUb0J1ZmZlciIsInN0cmluZyIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwic3RyaW5nVG9CNjRVcmwiLCJidWZmZXJUb2I2NFVybCIsImI2NFVybERlY29kZSIsImJ1ZmZlclRvYjY0IiwiYjY0VXJsRW5jb2RlIiwicmVwbGFjZSIsInBhZGRpbmciLCJjb25jYXQiLCJyZXBlYXQiLCJ3aW5zdG9uVG9BciIsIndpbnN0b24iLCJzaGlmdGVkQnkiLCJhclRvV2luc3RvbiIsImFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/network.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/network.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Network)\n/* harmony export */ });\nclass Network {\n    constructor(api){\n        this.api = api;\n    }\n    getInfo() {\n        return this.api.get(`info`).then((response)=>{\n            return response.data;\n        });\n    }\n    getPeers() {\n        return this.api.get(`peers`).then((response)=>{\n            return response.data;\n        });\n    }\n} //# sourceMappingURL=network.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL25ldHdvcmsuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFlLE1BQU1BO0lBRWpCQyxZQUFZQyxHQUFHLENBQUU7UUFDYixJQUFJLENBQUNBLEdBQUcsR0FBR0E7SUFDZjtJQUNBQyxVQUFVO1FBQ04sT0FBTyxJQUFJLENBQUNELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUVDLElBQUksQ0FBQyxDQUFDQztZQUM5QixPQUFPQSxTQUFTQyxJQUFJO1FBQ3hCO0lBQ0o7SUFDQUMsV0FBVztRQUNQLE9BQU8sSUFBSSxDQUFDTixHQUFHLENBQUNFLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFQyxJQUFJLENBQUMsQ0FBQ0M7WUFDL0IsT0FBT0EsU0FBU0MsSUFBSTtRQUN4QjtJQUNKO0FBQ0osRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL2NvbW1vbi9uZXR3b3JrLmpzPzkxMWIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0d29yayB7XG4gICAgYXBpO1xuICAgIGNvbnN0cnVjdG9yKGFwaSkge1xuICAgICAgICB0aGlzLmFwaSA9IGFwaTtcbiAgICB9XG4gICAgZ2V0SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpLmdldChgaW5mb2ApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0KGBwZWVyc2ApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV0d29yay5qcy5tYXAiXSwibmFtZXMiOlsiTmV0d29yayIsImNvbnN0cnVjdG9yIiwiYXBpIiwiZ2V0SW5mbyIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJnZXRQZWVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/network.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/transactions.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/transactions.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Transactions)\n/* harmony export */ });\n/* harmony import */ var _lib_error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/error.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/error.js\");\n/* harmony import */ var _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/transaction.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js\");\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/* harmony import */ var _lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/transaction-uploader.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction-uploader.js\");\n\n\n\n\nclass Transactions {\n    constructor({ deps }){\n        this.api = deps.api;\n        this.crypto = deps.crypto;\n        this.chunks = deps.chunks;\n        this.merkle = deps.merkle;\n        this.deepHash = deps.deepHash;\n    }\n    getTransactionAnchor() {\n        /**\n         * Maintain compatibility with erdjs which sets a global axios.defaults.transformResponse\n         * in order to overcome some other issue in:  https://github.com/axios/axios/issues/983\n         *\n         * However, this introduces a problem with ardrive-js, so we will enforce\n         * config =  {transformResponse: []} where we do not require a transform\n         */ return this.api.get(`tx_anchor`, {\n            transformResponse: []\n        }).then((response)=>{\n            return response.data;\n        });\n    }\n    getPrice(byteSize, targetAddress) {\n        const endpoint = targetAddress ? `price/${byteSize}/${targetAddress}` : `price/${byteSize}`;\n        return this.api.get(endpoint, {\n            transformResponse: [\n                /**\n                 * We need to specify a response transformer to override\n                 * the default JSON.parse behavior, as this causes\n                 * winston to be converted to a number and we want to\n                 * return it as a winston string.\n                 * @param data\n                 */ function(data) {\n                    return data;\n                }\n            ]\n        }).then((response)=>{\n            return response.data;\n        });\n    }\n    async get(id) {\n        const response = await this.api.get(`tx/${id}`);\n        if (response.status == 200) {\n            const data_size = parseInt(response.data.data_size);\n            if (response.data.format >= 2 && data_size > 0 && data_size <= 1024 * 1024 * 12) {\n                const data = await this.getData(id);\n                return new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                    attributes: {\n                        ...response.data,\n                        data\n                    },\n                    deps: {\n                        merkle: this.merkle,\n                        deepHash: this.deepHash\n                    }\n                });\n            }\n            return new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                attributes: {\n                    ...response.data,\n                    format: response.data.format || 1\n                },\n                deps: {\n                    merkle: this.merkle,\n                    deepHash: this.deepHash\n                }\n            });\n        }\n        if (response.status === 404) {\n            throw new _lib_error_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"TX_NOT_FOUND\" /* ArweaveErrorType.TX_NOT_FOUND */ );\n        }\n        if (response.status === 410) {\n            throw new _lib_error_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"TX_FAILED\" /* ArweaveErrorType.TX_FAILED */ );\n        }\n        throw new _lib_error_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"TX_INVALID\" /* ArweaveErrorType.TX_INVALID */ );\n    }\n    fromRaw(attributes) {\n        return new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n            attributes,\n            deps: {\n                merkle: this.merkle,\n                deepHash: this.deepHash\n            }\n        });\n    }\n    getStatus(id) {\n        return this.api.get(`tx/${id}/status`).then((response)=>{\n            if (response.status === 200) {\n                return {\n                    status: 200,\n                    confirmed: response.data\n                };\n            }\n            return {\n                status: response.status,\n                confirmed: null\n            };\n        });\n    }\n    async getData(id) {\n        let data = undefined;\n        try {\n            data = (await this.api.get(`/${id}`, {\n                responseType: \"arraybuffer\"\n            })).data;\n        } catch (error) {\n            console.error(`Error while trying to download contiguous data from gateway cache for ${id}`);\n            console.error(error);\n        }\n        if (!data) {\n            console.warn(`Falling back to chunks for ${id}`);\n            try {\n                data = await this.chunks.downloadChunkedData(id);\n            } catch (error) {\n                console.error(`Error while trying to download chunked data for ${id}`);\n                console.error(error);\n            }\n        }\n        if (!data) {\n            throw new Error(`${id} data was not found!`);\n        }\n        return data;\n    }\n    async getDataStream(id) {\n        let data = undefined;\n        try {\n            const resData = (await this.api.get(`/${id}`, {\n                responseType: \"arraybuffer\"\n            })).data;\n            const gen = async function* g() {\n                yield resData;\n            };\n            data = gen();\n        } catch (error) {\n            console.error(`Error while trying to download contiguous data from gateway cache for ${id}`);\n            console.error(error);\n        }\n        if (!data) {\n            console.warn(`Falling back to chunks for ${id}`);\n            try {\n                const gen = this.chunks.concurrentChunkDownloader(id);\n                data = gen;\n            } catch (error) {\n                console.error(`Error while trying to download chunked data for ${id}`);\n                console.error(error);\n            }\n        }\n        if (!data) {\n            throw new Error(`${id} data was not found!`);\n        }\n        return data;\n    }\n    async sign(transaction, jwk, options) {\n        /** Non-exhaustive (only checks key names), but previously no jwk checking was done */ const isJwk = (obj)=>{\n            let valid = true;\n            [\n                \"n\",\n                \"e\",\n                \"d\",\n                \"p\",\n                \"q\",\n                \"dp\",\n                \"dq\",\n                \"qi\"\n            ].map((key)=>!(key in obj) && (valid = false));\n            return valid;\n        };\n        const validJwk = typeof jwk === \"object\" && isJwk(jwk);\n        const externalWallet = typeof arweaveWallet === \"object\";\n        if (!validJwk && !externalWallet) {\n            throw new Error(`No valid JWK or external wallet found to sign transaction.`);\n        } else if (externalWallet) {\n            try {\n                const existingPermissions = await arweaveWallet.getPermissions();\n                if (!existingPermissions.includes(\"SIGN_TRANSACTION\")) await arweaveWallet.connect([\n                    \"SIGN_TRANSACTION\"\n                ]);\n            } catch  {\n            // Permission is already granted\n            }\n            // for external compatibility\n            transaction.tags = transaction.tags.map((v)=>new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__.ArweaveTag(v.name, v.value));\n            const signedTransaction = await arweaveWallet.sign(transaction, options);\n            transaction.setSignature({\n                id: signedTransaction.id,\n                owner: signedTransaction.owner,\n                reward: signedTransaction.reward,\n                tags: signedTransaction.tags,\n                signature: signedTransaction.signature\n            });\n        } else if (validJwk) {\n            transaction.setOwner(jwk.n);\n            const dataToSign = await transaction.getSignatureData();\n            const rawSignature = await this.crypto.sign(jwk, dataToSign, options);\n            const id = await this.crypto.hash(rawSignature);\n            transaction.setSignature({\n                id: _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__.bufferTob64Url(id),\n                owner: jwk.n,\n                signature: _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__.bufferTob64Url(rawSignature)\n            });\n        } else {\n            // can't get here, but for sanity we'll throw an error.\n            throw new Error(`An error occurred while signing. Check wallet is valid`);\n        }\n    }\n    async verify(transaction) {\n        const signaturePayload = await transaction.getSignatureData();\n        /**\n         * The transaction ID should be a SHA-256 hash of the raw signature bytes, so this needs\n         * to be recalculated from the signature and checked against the transaction ID.\n         */ const rawSignature = transaction.get(\"signature\", {\n            decode: true,\n            string: false\n        });\n        const expectedId = _lib_utils_js__WEBPACK_IMPORTED_MODULE_2__.bufferTob64Url(await this.crypto.hash(rawSignature));\n        if (transaction.id !== expectedId) {\n            throw new Error(`Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.`);\n        }\n        /**\n         * Now verify the signature is valid and signed by the owner wallet (owner field = originating wallet public key).\n         */ return this.crypto.verify(transaction.owner, signaturePayload, rawSignature);\n    }\n    async post(transaction) {\n        if (typeof transaction === \"string\") {\n            transaction = new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                attributes: JSON.parse(transaction),\n                deps: {\n                    merkle: this.merkle,\n                    deepHash: this.deepHash\n                }\n            });\n        } else if (typeof transaction.readInt32BE === \"function\") {\n            transaction = new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                attributes: JSON.parse(transaction.toString()),\n                deps: {\n                    merkle: this.merkle,\n                    deepHash: this.deepHash\n                }\n            });\n        } else if (typeof transaction === \"object\" && !(transaction instanceof _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\n            transaction = new _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\n                attributes: transaction,\n                deps: {\n                    merkle: this.merkle,\n                    deepHash: this.deepHash\n                }\n            });\n        }\n        if (!(transaction instanceof _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\n            throw new Error(`Must be Transaction object`);\n        }\n        if (!transaction.chunks) {\n            await transaction.prepareChunks(transaction.data);\n        }\n        const uploader = await this.getUploader(transaction, transaction.data);\n        // Emulate existing error & return value behavior.\n        try {\n            while(!uploader.isComplete){\n                await uploader.uploadChunk();\n            }\n        } catch (e) {\n            if (uploader.lastResponseStatus > 0) {\n                return {\n                    status: uploader.lastResponseStatus,\n                    statusText: uploader.lastResponseError,\n                    data: {\n                        error: uploader.lastResponseError\n                    }\n                };\n            }\n            throw e;\n        }\n        return {\n            status: 200,\n            statusText: \"OK\",\n            data: {}\n        };\n    }\n    /**\n     * Gets an uploader than can be used to upload a transaction chunk by chunk, giving progress\n     * and the ability to resume.\n     *\n     * Usage example:\n     *\n     * ```\n     * const uploader = arweave.transactions.getUploader(transaction);\n     * while (!uploader.isComplete) {\n     *   await uploader.uploadChunk();\n     *   console.log(`${uploader.pctComplete}%`);\n     * }\n     * ```\n     *\n     * @param upload a Transaction object, a previously save progress object, or a transaction id.\n     * @param data the data of the transaction. Required when resuming an upload.\n     */ async getUploader(upload, data) {\n        let uploader;\n        if (data instanceof ArrayBuffer) {\n            data = new Uint8Array(data);\n        }\n        if (upload instanceof _lib_transaction_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n            if (!data) {\n                data = upload.data;\n            }\n            if (!(data instanceof Uint8Array)) {\n                throw new Error(\"Data format is invalid\");\n            }\n            if (!upload.chunks) {\n                await upload.prepareChunks(data);\n            }\n            uploader = new _lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__.TransactionUploader({\n                transaction: upload,\n                deps: {\n                    api: this.api,\n                    crypto: this.crypto,\n                    merkle: this.merkle,\n                    deepHash: this.deepHash\n                }\n            });\n            if (!uploader.data || uploader.data.length === 0) {\n                uploader.data = data;\n            }\n        } else {\n            if (typeof upload === \"string\") {\n                upload = await _lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__.TransactionUploader.fromTransactionId(this.api, upload);\n            }\n            if (!data || !(data instanceof Uint8Array)) {\n                throw new Error(`Must provide data when resuming upload`);\n            }\n            // upload should be a serialized upload.\n            uploader = await _lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__.TransactionUploader.fromSerialized({\n                deps: {\n                    api: this.api,\n                    merkle: this.merkle,\n                    crypto: this.crypto,\n                    deepHash: this.deepHash\n                },\n                serialized: upload,\n                data\n            });\n        }\n        return uploader;\n    }\n    /**\n     * Async generator version of uploader\n     *\n     * Usage example:\n     *\n     * ```\n     * for await (const uploader of arweave.transactions.upload(tx)) {\n     *  console.log(`${uploader.pctComplete}%`);\n     * }\n     * ```\n     *\n     * @param upload a Transaction object, a previously save uploader, or a transaction id.\n     * @param data the data of the transaction. Required when resuming an upload.\n     */ async *upload(upload, data) {\n        const uploader = await this.getUploader(upload, data);\n        while(!uploader.isComplete){\n            await uploader.uploadChunk();\n            yield uploader;\n        }\n        return uploader;\n    }\n} //# sourceMappingURL=transactions.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL3RyYW5zYWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwQztBQUNxQjtBQUNoQjtBQUNxQjtBQUNyRCxNQUFNSztJQU1qQkMsWUFBWSxFQUFFQyxJQUFJLEVBQUUsQ0FBRTtRQUNsQixJQUFJLENBQUNDLEdBQUcsR0FBR0QsS0FBS0MsR0FBRztRQUNuQixJQUFJLENBQUNDLE1BQU0sR0FBR0YsS0FBS0UsTUFBTTtRQUN6QixJQUFJLENBQUNDLE1BQU0sR0FBR0gsS0FBS0csTUFBTTtRQUN6QixJQUFJLENBQUNDLE1BQU0sR0FBR0osS0FBS0ksTUFBTTtRQUN6QixJQUFJLENBQUNDLFFBQVEsR0FBR0wsS0FBS0ssUUFBUTtJQUNqQztJQUNBQyx1QkFBdUI7UUFDbkI7Ozs7OztTQU1DLEdBQ0QsT0FBTyxJQUFJLENBQUNMLEdBQUcsQ0FBQ00sR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFBRUMsbUJBQW1CLEVBQUU7UUFBQyxHQUFHQyxJQUFJLENBQUMsQ0FBQ0M7WUFDOUQsT0FBT0EsU0FBU0MsSUFBSTtRQUN4QjtJQUNKO0lBQ0FDLFNBQVNDLFFBQVEsRUFBRUMsYUFBYSxFQUFFO1FBQzlCLE1BQU1DLFdBQVdELGdCQUFnQixDQUFDLE1BQU0sRUFBRUQsU0FBUyxDQUFDLEVBQUVDLGNBQWMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFRCxTQUFTLENBQUM7UUFDM0YsT0FBTyxJQUFJLENBQUNaLEdBQUcsQ0FDVk0sR0FBRyxDQUFDUSxVQUFVO1lBQ2ZQLG1CQUFtQjtnQkFDZjs7Ozs7O2lCQU1DLEdBQ0QsU0FBVUcsSUFBSTtvQkFDVixPQUFPQTtnQkFDWDthQUNIO1FBQ0wsR0FDS0YsSUFBSSxDQUFDLENBQUNDO1lBQ1AsT0FBT0EsU0FBU0MsSUFBSTtRQUN4QjtJQUNKO0lBQ0EsTUFBTUosSUFBSVMsRUFBRSxFQUFFO1FBQ1YsTUFBTU4sV0FBVyxNQUFNLElBQUksQ0FBQ1QsR0FBRyxDQUFDTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUVTLEdBQUcsQ0FBQztRQUM5QyxJQUFJTixTQUFTTyxNQUFNLElBQUksS0FBSztZQUN4QixNQUFNQyxZQUFZQyxTQUFTVCxTQUFTQyxJQUFJLENBQUNPLFNBQVM7WUFDbEQsSUFBSVIsU0FBU0MsSUFBSSxDQUFDUyxNQUFNLElBQUksS0FBS0YsWUFBWSxLQUFLQSxhQUFhLE9BQU8sT0FBTyxJQUFJO2dCQUM3RSxNQUFNUCxPQUFPLE1BQU0sSUFBSSxDQUFDVSxPQUFPLENBQUNMO2dCQUNoQyxPQUFPLElBQUl0QiwyREFBV0EsQ0FBQztvQkFDbkI0QixZQUFZO3dCQUNSLEdBQUdaLFNBQVNDLElBQUk7d0JBQ2hCQTtvQkFDSjtvQkFDQVgsTUFBTTt3QkFBRUksUUFBUSxJQUFJLENBQUNBLE1BQU07d0JBQUVDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO29CQUFDO2dCQUN6RDtZQUNKO1lBQ0EsT0FBTyxJQUFJWCwyREFBV0EsQ0FBQztnQkFDbkI0QixZQUFZO29CQUNSLEdBQUdaLFNBQVNDLElBQUk7b0JBQ2hCUyxRQUFRVixTQUFTQyxJQUFJLENBQUNTLE1BQU0sSUFBSTtnQkFDcEM7Z0JBQ0FwQixNQUFNO29CQUFFSSxRQUFRLElBQUksQ0FBQ0EsTUFBTTtvQkFBRUMsVUFBVSxJQUFJLENBQUNBLFFBQVE7Z0JBQUM7WUFDekQ7UUFDSjtRQUNBLElBQUlLLFNBQVNPLE1BQU0sS0FBSyxLQUFLO1lBQ3pCLE1BQU0sSUFBSXhCLHFEQUFZQSxDQUFDLGVBQWUsaUNBQWlDO1FBQzNFO1FBQ0EsSUFBSWlCLFNBQVNPLE1BQU0sS0FBSyxLQUFLO1lBQ3pCLE1BQU0sSUFBSXhCLHFEQUFZQSxDQUFDLFlBQVksOEJBQThCO1FBQ3JFO1FBQ0EsTUFBTSxJQUFJQSxxREFBWUEsQ0FBQyxhQUFhLCtCQUErQjtJQUN2RTtJQUNBOEIsUUFBUUQsVUFBVSxFQUFFO1FBQ2hCLE9BQU8sSUFBSTVCLDJEQUFXQSxDQUFDO1lBQUU0QjtZQUFZdEIsTUFBTTtnQkFBRUksUUFBUSxJQUFJLENBQUNBLE1BQU07Z0JBQUVDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQUM7UUFBRTtJQUNoRztJQUNBbUIsVUFBVVIsRUFBRSxFQUFFO1FBQ1YsT0FBTyxJQUFJLENBQUNmLEdBQUcsQ0FBQ00sR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFUyxHQUFHLE9BQU8sQ0FBQyxFQUFFUCxJQUFJLENBQUMsQ0FBQ0M7WUFDekMsSUFBSUEsU0FBU08sTUFBTSxLQUFLLEtBQUs7Z0JBQ3pCLE9BQU87b0JBQ0hBLFFBQVE7b0JBQ1JRLFdBQVdmLFNBQVNDLElBQUk7Z0JBQzVCO1lBQ0o7WUFDQSxPQUFPO2dCQUNITSxRQUFRUCxTQUFTTyxNQUFNO2dCQUN2QlEsV0FBVztZQUNmO1FBQ0o7SUFDSjtJQUNBLE1BQU1KLFFBQVFMLEVBQUUsRUFBRTtRQUNkLElBQUlMLE9BQU9lO1FBQ1gsSUFBSTtZQUNBZixPQUFPLENBQUMsTUFBTSxJQUFJLENBQUNWLEdBQUcsQ0FBQ00sR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFUyxHQUFHLENBQUMsRUFBRTtnQkFBRVcsY0FBYztZQUFjLEVBQUMsRUFBR2hCLElBQUk7UUFDL0UsRUFDQSxPQUFPaUIsT0FBTztZQUNWQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxzRUFBc0UsRUFBRVosR0FBRyxDQUFDO1lBQzNGYSxRQUFRRCxLQUFLLENBQUNBO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDakIsTUFBTTtZQUNQa0IsUUFBUUMsSUFBSSxDQUFDLENBQUMsMkJBQTJCLEVBQUVkLEdBQUcsQ0FBQztZQUMvQyxJQUFJO2dCQUNBTCxPQUFPLE1BQU0sSUFBSSxDQUFDUixNQUFNLENBQUM0QixtQkFBbUIsQ0FBQ2Y7WUFDakQsRUFDQSxPQUFPWSxPQUFPO2dCQUNWQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxnREFBZ0QsRUFBRVosR0FBRyxDQUFDO2dCQUNyRWEsUUFBUUQsS0FBSyxDQUFDQTtZQUNsQjtRQUNKO1FBQ0EsSUFBSSxDQUFDakIsTUFBTTtZQUNQLE1BQU0sSUFBSXFCLE1BQU0sQ0FBQyxFQUFFaEIsR0FBRyxvQkFBb0IsQ0FBQztRQUMvQztRQUNBLE9BQU9MO0lBQ1g7SUFDQSxNQUFNc0IsY0FBY2pCLEVBQUUsRUFBRTtRQUNwQixJQUFJTCxPQUFPZTtRQUNYLElBQUk7WUFDQSxNQUFNUSxVQUFVLENBQUMsTUFBTSxJQUFJLENBQUNqQyxHQUFHLENBQUNNLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRVMsR0FBRyxDQUFDLEVBQUU7Z0JBQUVXLGNBQWM7WUFBYyxFQUFDLEVBQUdoQixJQUFJO1lBQ3BGLE1BQU13QixNQUFNLGdCQUFnQkM7Z0JBQ3hCLE1BQU1GO1lBQ1Y7WUFDQXZCLE9BQU93QjtRQUNYLEVBQ0EsT0FBT1AsT0FBTztZQUNWQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxzRUFBc0UsRUFBRVosR0FBRyxDQUFDO1lBQzNGYSxRQUFRRCxLQUFLLENBQUNBO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDakIsTUFBTTtZQUNQa0IsUUFBUUMsSUFBSSxDQUFDLENBQUMsMkJBQTJCLEVBQUVkLEdBQUcsQ0FBQztZQUMvQyxJQUFJO2dCQUNBLE1BQU1tQixNQUFNLElBQUksQ0FBQ2hDLE1BQU0sQ0FBQ2tDLHlCQUF5QixDQUFDckI7Z0JBQ2xETCxPQUFPd0I7WUFDWCxFQUNBLE9BQU9QLE9BQU87Z0JBQ1ZDLFFBQVFELEtBQUssQ0FBQyxDQUFDLGdEQUFnRCxFQUFFWixHQUFHLENBQUM7Z0JBQ3JFYSxRQUFRRCxLQUFLLENBQUNBO1lBQ2xCO1FBQ0o7UUFDQSxJQUFJLENBQUNqQixNQUFNO1lBQ1AsTUFBTSxJQUFJcUIsTUFBTSxDQUFDLEVBQUVoQixHQUFHLG9CQUFvQixDQUFDO1FBQy9DO1FBQ0EsT0FBT0w7SUFDWDtJQUNBLE1BQU0yQixLQUFLQyxXQUFXLEVBQUVDLEdBQUcsRUFDM0JDLE9BQU8sRUFBRTtRQUNMLG9GQUFvRixHQUNwRixNQUFNQyxRQUFRLENBQUNDO1lBQ1gsSUFBSUMsUUFBUTtZQUNaO2dCQUFDO2dCQUFLO2dCQUFLO2dCQUFLO2dCQUFLO2dCQUFLO2dCQUFNO2dCQUFNO2FBQUssQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLE1BQVEsQ0FBRUEsQ0FBQUEsT0FBT0gsR0FBRSxLQUFPQyxDQUFBQSxRQUFRLEtBQUk7WUFDdkYsT0FBT0E7UUFDWDtRQUNBLE1BQU1HLFdBQVcsT0FBT1AsUUFBUSxZQUFZRSxNQUFNRjtRQUNsRCxNQUFNUSxpQkFBaUIsT0FBT0Msa0JBQWtCO1FBQ2hELElBQUksQ0FBQ0YsWUFBWSxDQUFDQyxnQkFBZ0I7WUFDOUIsTUFBTSxJQUFJaEIsTUFBTSxDQUFDLDBEQUEwRCxDQUFDO1FBQ2hGLE9BQ0ssSUFBSWdCLGdCQUFnQjtZQUNyQixJQUFJO2dCQUNBLE1BQU1FLHNCQUFzQixNQUFNRCxjQUFjRSxjQUFjO2dCQUM5RCxJQUFJLENBQUNELG9CQUFvQkUsUUFBUSxDQUFDLHFCQUM5QixNQUFNSCxjQUFjSSxPQUFPLENBQUM7b0JBQUM7aUJBQW1CO1lBQ3hELEVBQ0EsT0FBTTtZQUNGLGdDQUFnQztZQUNwQztZQUNBLDZCQUE2QjtZQUM3QmQsWUFBWWUsSUFBSSxHQUFHZixZQUFZZSxJQUFJLENBQUNULEdBQUcsQ0FBQyxDQUFDVSxJQUFNLElBQUk1RCwyREFBVUEsQ0FBQzRELEVBQUVDLElBQUksRUFBRUQsRUFBRUUsS0FBSztZQUM3RSxNQUFNQyxvQkFBb0IsTUFBTVQsY0FBY1gsSUFBSSxDQUFDQyxhQUFhRTtZQUNoRUYsWUFBWW9CLFlBQVksQ0FBQztnQkFDckIzQyxJQUFJMEMsa0JBQWtCMUMsRUFBRTtnQkFDeEI0QyxPQUFPRixrQkFBa0JFLEtBQUs7Z0JBQzlCQyxRQUFRSCxrQkFBa0JHLE1BQU07Z0JBQ2hDUCxNQUFNSSxrQkFBa0JKLElBQUk7Z0JBQzVCUSxXQUFXSixrQkFBa0JJLFNBQVM7WUFDMUM7UUFDSixPQUNLLElBQUlmLFVBQVU7WUFDZlIsWUFBWXdCLFFBQVEsQ0FBQ3ZCLElBQUl3QixDQUFDO1lBQzFCLE1BQU1DLGFBQWEsTUFBTTFCLFlBQVkyQixnQkFBZ0I7WUFDckQsTUFBTUMsZUFBZSxNQUFNLElBQUksQ0FBQ2pFLE1BQU0sQ0FBQ29DLElBQUksQ0FBQ0UsS0FBS3lCLFlBQVl4QjtZQUM3RCxNQUFNekIsS0FBSyxNQUFNLElBQUksQ0FBQ2QsTUFBTSxDQUFDa0UsSUFBSSxDQUFDRDtZQUNsQzVCLFlBQVlvQixZQUFZLENBQUM7Z0JBQ3JCM0MsSUFBSXBCLHlEQUEyQixDQUFDb0I7Z0JBQ2hDNEMsT0FBT3BCLElBQUl3QixDQUFDO2dCQUNaRixXQUFXbEUseURBQTJCLENBQUN1RTtZQUMzQztRQUNKLE9BQ0s7WUFDRCx1REFBdUQ7WUFDdkQsTUFBTSxJQUFJbkMsTUFBTSxDQUFDLHNEQUFzRCxDQUFDO1FBQzVFO0lBQ0o7SUFDQSxNQUFNc0MsT0FBTy9CLFdBQVcsRUFBRTtRQUN0QixNQUFNZ0MsbUJBQW1CLE1BQU1oQyxZQUFZMkIsZ0JBQWdCO1FBQzNEOzs7U0FHQyxHQUNELE1BQU1DLGVBQWU1QixZQUFZaEMsR0FBRyxDQUFDLGFBQWE7WUFDOUNpRSxRQUFRO1lBQ1JDLFFBQVE7UUFDWjtRQUNBLE1BQU1DLGFBQWE5RSx5REFBMkIsQ0FBQyxNQUFNLElBQUksQ0FBQ00sTUFBTSxDQUFDa0UsSUFBSSxDQUFDRDtRQUN0RSxJQUFJNUIsWUFBWXZCLEVBQUUsS0FBSzBELFlBQVk7WUFDL0IsTUFBTSxJQUFJMUMsTUFBTSxDQUFDLGlIQUFpSCxDQUFDO1FBQ3ZJO1FBQ0E7O1NBRUMsR0FDRCxPQUFPLElBQUksQ0FBQzlCLE1BQU0sQ0FBQ29FLE1BQU0sQ0FBQy9CLFlBQVlxQixLQUFLLEVBQUVXLGtCQUFrQko7SUFDbkU7SUFDQSxNQUFNUSxLQUFLcEMsV0FBVyxFQUFFO1FBQ3BCLElBQUksT0FBT0EsZ0JBQWdCLFVBQVU7WUFDakNBLGNBQWMsSUFBSTdDLDJEQUFXQSxDQUFDO2dCQUFFNEIsWUFBWXNELEtBQUtDLEtBQUssQ0FBQ3RDO2dCQUFjdkMsTUFBTTtvQkFBRUksUUFBUSxJQUFJLENBQUNBLE1BQU07b0JBQUVDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO2dCQUFDO1lBQUU7UUFDaEksT0FDSyxJQUFJLE9BQU9rQyxZQUFZdUMsV0FBVyxLQUFLLFlBQVk7WUFDcER2QyxjQUFjLElBQUk3QywyREFBV0EsQ0FBQztnQkFBRTRCLFlBQVlzRCxLQUFLQyxLQUFLLENBQUN0QyxZQUFZd0MsUUFBUTtnQkFBSy9FLE1BQU07b0JBQUVJLFFBQVEsSUFBSSxDQUFDQSxNQUFNO29CQUFFQyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtnQkFBQztZQUFFO1FBQzNJLE9BQ0ssSUFBSSxPQUFPa0MsZ0JBQWdCLFlBQVksQ0FBRUEsQ0FBQUEsdUJBQXVCN0MsMkRBQVUsR0FBSTtZQUMvRTZDLGNBQWMsSUFBSTdDLDJEQUFXQSxDQUFDO2dCQUFFNEIsWUFBWWlCO2dCQUFhdkMsTUFBTTtvQkFBRUksUUFBUSxJQUFJLENBQUNBLE1BQU07b0JBQUVDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO2dCQUFDO1lBQUU7UUFDcEg7UUFDQSxJQUFJLENBQUVrQyxDQUFBQSx1QkFBdUI3QywyREFBVSxHQUFJO1lBQ3ZDLE1BQU0sSUFBSXNDLE1BQU0sQ0FBQywwQkFBMEIsQ0FBQztRQUNoRDtRQUNBLElBQUksQ0FBQ08sWUFBWXBDLE1BQU0sRUFBRTtZQUNyQixNQUFNb0MsWUFBWXlDLGFBQWEsQ0FBQ3pDLFlBQVk1QixJQUFJO1FBQ3BEO1FBQ0EsTUFBTXNFLFdBQVcsTUFBTSxJQUFJLENBQUNDLFdBQVcsQ0FBQzNDLGFBQWFBLFlBQVk1QixJQUFJO1FBQ3JFLGtEQUFrRDtRQUNsRCxJQUFJO1lBQ0EsTUFBTyxDQUFDc0UsU0FBU0UsVUFBVSxDQUFFO2dCQUN6QixNQUFNRixTQUFTRyxXQUFXO1lBQzlCO1FBQ0osRUFDQSxPQUFPQyxHQUFHO1lBQ04sSUFBSUosU0FBU0ssa0JBQWtCLEdBQUcsR0FBRztnQkFDakMsT0FBTztvQkFDSHJFLFFBQVFnRSxTQUFTSyxrQkFBa0I7b0JBQ25DQyxZQUFZTixTQUFTTyxpQkFBaUI7b0JBQ3RDN0UsTUFBTTt3QkFDRmlCLE9BQU9xRCxTQUFTTyxpQkFBaUI7b0JBQ3JDO2dCQUNKO1lBQ0o7WUFDQSxNQUFNSDtRQUNWO1FBQ0EsT0FBTztZQUNIcEUsUUFBUTtZQUNSc0UsWUFBWTtZQUNaNUUsTUFBTSxDQUFDO1FBQ1g7SUFDSjtJQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0tBZ0JDLEdBQ0QsTUFBTXVFLFlBQVlPLE1BQU0sRUFBRTlFLElBQUksRUFBRTtRQUM1QixJQUFJc0U7UUFDSixJQUFJdEUsZ0JBQWdCK0UsYUFBYTtZQUM3Qi9FLE9BQU8sSUFBSWdGLFdBQVdoRjtRQUMxQjtRQUNBLElBQUk4RSxrQkFBa0IvRiwyREFBV0EsRUFBRTtZQUMvQixJQUFJLENBQUNpQixNQUFNO2dCQUNQQSxPQUFPOEUsT0FBTzlFLElBQUk7WUFDdEI7WUFDQSxJQUFJLENBQUVBLENBQUFBLGdCQUFnQmdGLFVBQVMsR0FBSTtnQkFDL0IsTUFBTSxJQUFJM0QsTUFBTTtZQUNwQjtZQUNBLElBQUksQ0FBQ3lELE9BQU90RixNQUFNLEVBQUU7Z0JBQ2hCLE1BQU1zRixPQUFPVCxhQUFhLENBQUNyRTtZQUMvQjtZQUNBc0UsV0FBVyxJQUFJcEYsNkVBQW1CQSxDQUFDO2dCQUMvQjBDLGFBQWFrRDtnQkFDYnpGLE1BQU07b0JBQUVDLEtBQUssSUFBSSxDQUFDQSxHQUFHO29CQUFFQyxRQUFRLElBQUksQ0FBQ0EsTUFBTTtvQkFBRUUsUUFBUSxJQUFJLENBQUNBLE1BQU07b0JBQUVDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO2dCQUFDO1lBQzdGO1lBQ0EsSUFBSSxDQUFDNEUsU0FBU3RFLElBQUksSUFBSXNFLFNBQVN0RSxJQUFJLENBQUNpRixNQUFNLEtBQUssR0FBRztnQkFDOUNYLFNBQVN0RSxJQUFJLEdBQUdBO1lBQ3BCO1FBQ0osT0FDSztZQUNELElBQUksT0FBTzhFLFdBQVcsVUFBVTtnQkFDNUJBLFNBQVMsTUFBTTVGLDZFQUFtQkEsQ0FBQ2dHLGlCQUFpQixDQUFDLElBQUksQ0FBQzVGLEdBQUcsRUFBRXdGO1lBQ25FO1lBQ0EsSUFBSSxDQUFDOUUsUUFBUSxDQUFFQSxDQUFBQSxnQkFBZ0JnRixVQUFTLEdBQUk7Z0JBQ3hDLE1BQU0sSUFBSTNELE1BQU0sQ0FBQyxzQ0FBc0MsQ0FBQztZQUM1RDtZQUNBLHdDQUF3QztZQUN4Q2lELFdBQVcsTUFBTXBGLDZFQUFtQkEsQ0FBQ2lHLGNBQWMsQ0FBQztnQkFDaEQ5RixNQUFNO29CQUFFQyxLQUFLLElBQUksQ0FBQ0EsR0FBRztvQkFBRUcsUUFBUSxJQUFJLENBQUNBLE1BQU07b0JBQUVGLFFBQVEsSUFBSSxDQUFDQSxNQUFNO29CQUFFRyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtnQkFBQztnQkFDekYwRixZQUFZTjtnQkFDWjlFO1lBQ0o7UUFDSjtRQUNBLE9BQU9zRTtJQUNYO0lBQ0E7Ozs7Ozs7Ozs7Ozs7S0FhQyxHQUNELE9BQU9RLE9BQU9BLE1BQU0sRUFBRTlFLElBQUksRUFBRTtRQUN4QixNQUFNc0UsV0FBVyxNQUFNLElBQUksQ0FBQ0MsV0FBVyxDQUFDTyxRQUFROUU7UUFDaEQsTUFBTyxDQUFDc0UsU0FBU0UsVUFBVSxDQUFFO1lBQ3pCLE1BQU1GLFNBQVNHLFdBQVc7WUFDMUIsTUFBTUg7UUFDVjtRQUNBLE9BQU9BO0lBQ1g7QUFDSixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL3RyYW5zYWN0aW9ucy5qcz82MjUxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBcndlYXZlRXJyb3IgZnJvbSBcIi4vbGliL2Vycm9yLmpzXCI7XG5pbXBvcnQgVHJhbnNhY3Rpb24sIHsgQXJ3ZWF2ZVRhZyB9IGZyb20gXCIuL2xpYi90cmFuc2FjdGlvbi5qc1wiO1xuaW1wb3J0ICogYXMgQXJ3ZWF2ZVV0aWxzIGZyb20gXCIuL2xpYi91dGlscy5qc1wiO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25VcGxvYWRlciB9IGZyb20gXCIuL2xpYi90cmFuc2FjdGlvbi11cGxvYWRlci5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNhY3Rpb25zIHtcbiAgICBhcGk7XG4gICAgY3J5cHRvO1xuICAgIGNodW5rcztcbiAgICBtZXJrbGU7XG4gICAgZGVlcEhhc2g7XG4gICAgY29uc3RydWN0b3IoeyBkZXBzIH0pIHtcbiAgICAgICAgdGhpcy5hcGkgPSBkZXBzLmFwaTtcbiAgICAgICAgdGhpcy5jcnlwdG8gPSBkZXBzLmNyeXB0bztcbiAgICAgICAgdGhpcy5jaHVua3MgPSBkZXBzLmNodW5rcztcbiAgICAgICAgdGhpcy5tZXJrbGUgPSBkZXBzLm1lcmtsZTtcbiAgICAgICAgdGhpcy5kZWVwSGFzaCA9IGRlcHMuZGVlcEhhc2g7XG4gICAgfVxuICAgIGdldFRyYW5zYWN0aW9uQW5jaG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFpbnRhaW4gY29tcGF0aWJpbGl0eSB3aXRoIGVyZGpzIHdoaWNoIHNldHMgYSBnbG9iYWwgYXhpb3MuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VcbiAgICAgICAgICogaW4gb3JkZXIgdG8gb3ZlcmNvbWUgc29tZSBvdGhlciBpc3N1ZSBpbjogIGh0dHBzOi8vZ2l0aHViLmNvbS9heGlvcy9heGlvcy9pc3N1ZXMvOTgzXG4gICAgICAgICAqXG4gICAgICAgICAqIEhvd2V2ZXIsIHRoaXMgaW50cm9kdWNlcyBhIHByb2JsZW0gd2l0aCBhcmRyaXZlLWpzLCBzbyB3ZSB3aWxsIGVuZm9yY2VcbiAgICAgICAgICogY29uZmlnID0gIHt0cmFuc2Zvcm1SZXNwb25zZTogW119IHdoZXJlIHdlIGRvIG5vdCByZXF1aXJlIGEgdHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0KGB0eF9hbmNob3JgLCB7IHRyYW5zZm9ybVJlc3BvbnNlOiBbXSB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQcmljZShieXRlU2l6ZSwgdGFyZ2V0QWRkcmVzcykge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRhcmdldEFkZHJlc3MgPyBgcHJpY2UvJHtieXRlU2l6ZX0vJHt0YXJnZXRBZGRyZXNzfWAgOiBgcHJpY2UvJHtieXRlU2l6ZX1gO1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlcbiAgICAgICAgICAgIC5nZXQoZW5kcG9pbnQsIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogV2UgbmVlZCB0byBzcGVjaWZ5IGEgcmVzcG9uc2UgdHJhbnNmb3JtZXIgdG8gb3ZlcnJpZGVcbiAgICAgICAgICAgICAgICAgKiB0aGUgZGVmYXVsdCBKU09OLnBhcnNlIGJlaGF2aW9yLCBhcyB0aGlzIGNhdXNlc1xuICAgICAgICAgICAgICAgICAqIHdpbnN0b24gdG8gYmUgY29udmVydGVkIHRvIGEgbnVtYmVyIGFuZCB3ZSB3YW50IHRvXG4gICAgICAgICAgICAgICAgICogcmV0dXJuIGl0IGFzIGEgd2luc3RvbiBzdHJpbmcuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGRhdGFcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXQoaWQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmFwaS5nZXQoYHR4LyR7aWR9YCk7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhX3NpemUgPSBwYXJzZUludChyZXNwb25zZS5kYXRhLmRhdGFfc2l6ZSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5mb3JtYXQgPj0gMiAmJiBkYXRhX3NpemUgPiAwICYmIGRhdGFfc2l6ZSA8PSAxMDI0ICogMTAyNCAqIDEyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RGF0YShpZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiB7IG1lcmtsZTogdGhpcy5tZXJrbGUsIGRlZXBIYXNoOiB0aGlzLmRlZXBIYXNoIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcmVzcG9uc2UuZGF0YS5mb3JtYXQgfHwgMSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlcHM6IHsgbWVya2xlOiB0aGlzLm1lcmtsZSwgZGVlcEhhc2g6IHRoaXMuZGVlcEhhc2ggfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyd2VhdmVFcnJvcihcIlRYX05PVF9GT1VORFwiIC8qIEFyd2VhdmVFcnJvclR5cGUuVFhfTk9UX0ZPVU5EICovKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcndlYXZlRXJyb3IoXCJUWF9GQUlMRURcIiAvKiBBcndlYXZlRXJyb3JUeXBlLlRYX0ZBSUxFRCAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEFyd2VhdmVFcnJvcihcIlRYX0lOVkFMSURcIiAvKiBBcndlYXZlRXJyb3JUeXBlLlRYX0lOVkFMSUQgKi8pO1xuICAgIH1cbiAgICBmcm9tUmF3KGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbih7IGF0dHJpYnV0ZXMsIGRlcHM6IHsgbWVya2xlOiB0aGlzLm1lcmtsZSwgZGVlcEhhc2g6IHRoaXMuZGVlcEhhc2ggfSB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdHVzKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaS5nZXQoYHR4LyR7aWR9L3N0YXR1c2ApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybWVkOiByZXNwb25zZS5kYXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgIGNvbmZpcm1lZDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBnZXREYXRhKGlkKSB7XG4gICAgICAgIGxldCBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YSA9IChhd2FpdCB0aGlzLmFwaS5nZXQoYC8ke2lkfWAsIHsgcmVzcG9uc2VUeXBlOiBcImFycmF5YnVmZmVyXCIgfSkpLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gZG93bmxvYWQgY29udGlndW91cyBkYXRhIGZyb20gZ2F0ZXdheSBjYWNoZSBmb3IgJHtpZH1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWxsaW5nIGJhY2sgdG8gY2h1bmtzIGZvciAke2lkfWApO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkYXRhID0gYXdhaXQgdGhpcy5jaHVua3MuZG93bmxvYWRDaHVua2VkRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gZG93bmxvYWQgY2h1bmtlZCBkYXRhIGZvciAke2lkfWApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2lkfSBkYXRhIHdhcyBub3QgZm91bmQhYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGFzeW5jIGdldERhdGFTdHJlYW0oaWQpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNEYXRhID0gKGF3YWl0IHRoaXMuYXBpLmdldChgLyR7aWR9YCwgeyByZXNwb25zZVR5cGU6IFwiYXJyYXlidWZmZXJcIiB9KSkuZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IGdlbiA9IGFzeW5jIGZ1bmN0aW9uKiBnKCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHJlc0RhdGE7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGF0YSA9IGdlbigpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGRvd25sb2FkIGNvbnRpZ3VvdXMgZGF0YSBmcm9tIGdhdGV3YXkgY2FjaGUgZm9yICR7aWR9YCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgRmFsbGluZyBiYWNrIHRvIGNodW5rcyBmb3IgJHtpZH1gKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VuID0gdGhpcy5jaHVua3MuY29uY3VycmVudENodW5rRG93bmxvYWRlcihpZCk7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGdlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIHRyeWluZyB0byBkb3dubG9hZCBjaHVua2VkIGRhdGEgZm9yICR7aWR9YCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7aWR9IGRhdGEgd2FzIG5vdCBmb3VuZCFgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbih0cmFuc2FjdGlvbiwgandrLCAvLyBcInVzZV93YWxsZXRcIiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgb25seVxuICAgIG9wdGlvbnMpIHtcbiAgICAgICAgLyoqIE5vbi1leGhhdXN0aXZlIChvbmx5IGNoZWNrcyBrZXkgbmFtZXMpLCBidXQgcHJldmlvdXNseSBubyBqd2sgY2hlY2tpbmcgd2FzIGRvbmUgKi9cbiAgICAgICAgY29uc3QgaXNKd2sgPSAob2JqKSA9PiB7XG4gICAgICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgW1wiblwiLCBcImVcIiwgXCJkXCIsIFwicFwiLCBcInFcIiwgXCJkcFwiLCBcImRxXCIsIFwicWlcIl0ubWFwKChrZXkpID0+ICEoa2V5IGluIG9iaikgJiYgKHZhbGlkID0gZmFsc2UpKTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdmFsaWRKd2sgPSB0eXBlb2YgandrID09PSBcIm9iamVjdFwiICYmIGlzSndrKGp3ayk7XG4gICAgICAgIGNvbnN0IGV4dGVybmFsV2FsbGV0ID0gdHlwZW9mIGFyd2VhdmVXYWxsZXQgPT09IFwib2JqZWN0XCI7XG4gICAgICAgIGlmICghdmFsaWRKd2sgJiYgIWV4dGVybmFsV2FsbGV0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbGlkIEpXSyBvciBleHRlcm5hbCB3YWxsZXQgZm91bmQgdG8gc2lnbiB0cmFuc2FjdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHRlcm5hbFdhbGxldCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1Blcm1pc3Npb25zID0gYXdhaXQgYXJ3ZWF2ZVdhbGxldC5nZXRQZXJtaXNzaW9ucygpO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdQZXJtaXNzaW9ucy5pbmNsdWRlcyhcIlNJR05fVFJBTlNBQ1RJT05cIikpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFyd2VhdmVXYWxsZXQuY29ubmVjdChbXCJTSUdOX1RSQU5TQUNUSU9OXCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBQZXJtaXNzaW9uIGlzIGFscmVhZHkgZ3JhbnRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yIGV4dGVybmFsIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnRhZ3MgPSB0cmFuc2FjdGlvbi50YWdzLm1hcCgodikgPT4gbmV3IEFyd2VhdmVUYWcodi5uYW1lLCB2LnZhbHVlKSk7XG4gICAgICAgICAgICBjb25zdCBzaWduZWRUcmFuc2FjdGlvbiA9IGF3YWl0IGFyd2VhdmVXYWxsZXQuc2lnbih0cmFuc2FjdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRTaWduYXR1cmUoe1xuICAgICAgICAgICAgICAgIGlkOiBzaWduZWRUcmFuc2FjdGlvbi5pZCxcbiAgICAgICAgICAgICAgICBvd25lcjogc2lnbmVkVHJhbnNhY3Rpb24ub3duZXIsXG4gICAgICAgICAgICAgICAgcmV3YXJkOiBzaWduZWRUcmFuc2FjdGlvbi5yZXdhcmQsXG4gICAgICAgICAgICAgICAgdGFnczogc2lnbmVkVHJhbnNhY3Rpb24udGFncyxcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25lZFRyYW5zYWN0aW9uLnNpZ25hdHVyZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbGlkSndrKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRPd25lcihqd2subik7XG4gICAgICAgICAgICBjb25zdCBkYXRhVG9TaWduID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0U2lnbmF0dXJlRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgcmF3U2lnbmF0dXJlID0gYXdhaXQgdGhpcy5jcnlwdG8uc2lnbihqd2ssIGRhdGFUb1NpZ24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCB0aGlzLmNyeXB0by5oYXNoKHJhd1NpZ25hdHVyZSk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRTaWduYXR1cmUoe1xuICAgICAgICAgICAgICAgIGlkOiBBcndlYXZlVXRpbHMuYnVmZmVyVG9iNjRVcmwoaWQpLFxuICAgICAgICAgICAgICAgIG93bmVyOiBqd2subixcbiAgICAgICAgICAgICAgICBzaWduYXR1cmU6IEFyd2VhdmVVdGlscy5idWZmZXJUb2I2NFVybChyYXdTaWduYXR1cmUpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjYW4ndCBnZXQgaGVyZSwgYnV0IGZvciBzYW5pdHkgd2UnbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHNpZ25pbmcuIENoZWNrIHdhbGxldCBpcyB2YWxpZGApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHZlcmlmeSh0cmFuc2FjdGlvbikge1xuICAgICAgICBjb25zdCBzaWduYXR1cmVQYXlsb2FkID0gYXdhaXQgdHJhbnNhY3Rpb24uZ2V0U2lnbmF0dXJlRGF0YSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zYWN0aW9uIElEIHNob3VsZCBiZSBhIFNIQS0yNTYgaGFzaCBvZiB0aGUgcmF3IHNpZ25hdHVyZSBieXRlcywgc28gdGhpcyBuZWVkc1xuICAgICAgICAgKiB0byBiZSByZWNhbGN1bGF0ZWQgZnJvbSB0aGUgc2lnbmF0dXJlIGFuZCBjaGVja2VkIGFnYWluc3QgdGhlIHRyYW5zYWN0aW9uIElELlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcmF3U2lnbmF0dXJlID0gdHJhbnNhY3Rpb24uZ2V0KFwic2lnbmF0dXJlXCIsIHtcbiAgICAgICAgICAgIGRlY29kZTogdHJ1ZSxcbiAgICAgICAgICAgIHN0cmluZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBleHBlY3RlZElkID0gQXJ3ZWF2ZVV0aWxzLmJ1ZmZlclRvYjY0VXJsKGF3YWl0IHRoaXMuY3J5cHRvLmhhc2gocmF3U2lnbmF0dXJlKSk7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5pZCAhPT0gZXhwZWN0ZWRJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRyYW5zYWN0aW9uIHNpZ25hdHVyZSBvciBJRCEgVGhlIHRyYW5zYWN0aW9uIElEIGRvZXNuJ3QgbWF0Y2ggdGhlIGV4cGVjdGVkIFNIQS0yNTYgaGFzaCBvZiB0aGUgc2lnbmF0dXJlLmApO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3cgdmVyaWZ5IHRoZSBzaWduYXR1cmUgaXMgdmFsaWQgYW5kIHNpZ25lZCBieSB0aGUgb3duZXIgd2FsbGV0IChvd25lciBmaWVsZCA9IG9yaWdpbmF0aW5nIHdhbGxldCBwdWJsaWMga2V5KS5cbiAgICAgICAgICovXG4gICAgICAgIHJldHVybiB0aGlzLmNyeXB0by52ZXJpZnkodHJhbnNhY3Rpb24ub3duZXIsIHNpZ25hdHVyZVBheWxvYWQsIHJhd1NpZ25hdHVyZSk7XG4gICAgfVxuICAgIGFzeW5jIHBvc3QodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmFuc2FjdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oeyBhdHRyaWJ1dGVzOiBKU09OLnBhcnNlKHRyYW5zYWN0aW9uKSwgZGVwczogeyBtZXJrbGU6IHRoaXMubWVya2xlLCBkZWVwSGFzaDogdGhpcy5kZWVwSGFzaCB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0cmFuc2FjdGlvbi5yZWFkSW50MzJCRSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IG5ldyBUcmFuc2FjdGlvbih7IGF0dHJpYnV0ZXM6IEpTT04ucGFyc2UodHJhbnNhY3Rpb24udG9TdHJpbmcoKSksIGRlcHM6IHsgbWVya2xlOiB0aGlzLm1lcmtsZSwgZGVlcEhhc2g6IHRoaXMuZGVlcEhhc2ggfSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdHJhbnNhY3Rpb24gPT09IFwib2JqZWN0XCIgJiYgISh0cmFuc2FjdGlvbiBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKSkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oeyBhdHRyaWJ1dGVzOiB0cmFuc2FjdGlvbiwgZGVwczogeyBtZXJrbGU6IHRoaXMubWVya2xlLCBkZWVwSGFzaDogdGhpcy5kZWVwSGFzaCB9IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKHRyYW5zYWN0aW9uIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE11c3QgYmUgVHJhbnNhY3Rpb24gb2JqZWN0YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0cmFuc2FjdGlvbi5jaHVua3MpIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnByZXBhcmVDaHVua3ModHJhbnNhY3Rpb24uZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXBsb2FkZXIgPSBhd2FpdCB0aGlzLmdldFVwbG9hZGVyKHRyYW5zYWN0aW9uLCB0cmFuc2FjdGlvbi5kYXRhKTtcbiAgICAgICAgLy8gRW11bGF0ZSBleGlzdGluZyBlcnJvciAmIHJldHVybiB2YWx1ZSBiZWhhdmlvci5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlICghdXBsb2FkZXIuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwbG9hZGVyLnVwbG9hZENodW5rKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICh1cGxvYWRlci5sYXN0UmVzcG9uc2VTdGF0dXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB1cGxvYWRlci5sYXN0UmVzcG9uc2VTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHVwbG9hZGVyLmxhc3RSZXNwb25zZUVycm9yLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogdXBsb2FkZXIubGFzdFJlc3BvbnNlRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJPS1wiLFxuICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gdXBsb2FkZXIgdGhhbiBjYW4gYmUgdXNlZCB0byB1cGxvYWQgYSB0cmFuc2FjdGlvbiBjaHVuayBieSBjaHVuaywgZ2l2aW5nIHByb2dyZXNzXG4gICAgICogYW5kIHRoZSBhYmlsaXR5IHRvIHJlc3VtZS5cbiAgICAgKlxuICAgICAqIFVzYWdlIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCB1cGxvYWRlciA9IGFyd2VhdmUudHJhbnNhY3Rpb25zLmdldFVwbG9hZGVyKHRyYW5zYWN0aW9uKTtcbiAgICAgKiB3aGlsZSAoIXVwbG9hZGVyLmlzQ29tcGxldGUpIHtcbiAgICAgKiAgIGF3YWl0IHVwbG9hZGVyLnVwbG9hZENodW5rKCk7XG4gICAgICogICBjb25zb2xlLmxvZyhgJHt1cGxvYWRlci5wY3RDb21wbGV0ZX0lYCk7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHVwbG9hZCBhIFRyYW5zYWN0aW9uIG9iamVjdCwgYSBwcmV2aW91c2x5IHNhdmUgcHJvZ3Jlc3Mgb2JqZWN0LCBvciBhIHRyYW5zYWN0aW9uIGlkLlxuICAgICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIG9mIHRoZSB0cmFuc2FjdGlvbi4gUmVxdWlyZWQgd2hlbiByZXN1bWluZyBhbiB1cGxvYWQuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXBsb2FkZXIodXBsb2FkLCBkYXRhKSB7XG4gICAgICAgIGxldCB1cGxvYWRlcjtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGxvYWQgaW5zdGFuY2VvZiBUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHVwbG9hZC5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBmb3JtYXQgaXMgaW52YWxpZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdXBsb2FkLmNodW5rcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwbG9hZC5wcmVwYXJlQ2h1bmtzKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBsb2FkZXIgPSBuZXcgVHJhbnNhY3Rpb25VcGxvYWRlcih7XG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb246IHVwbG9hZCxcbiAgICAgICAgICAgICAgICBkZXBzOiB7IGFwaTogdGhpcy5hcGksIGNyeXB0bzogdGhpcy5jcnlwdG8sIG1lcmtsZTogdGhpcy5tZXJrbGUsIGRlZXBIYXNoOiB0aGlzLmRlZXBIYXNoIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghdXBsb2FkZXIuZGF0YSB8fCB1cGxvYWRlci5kYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHVwbG9hZGVyLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGxvYWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB1cGxvYWQgPSBhd2FpdCBUcmFuc2FjdGlvblVwbG9hZGVyLmZyb21UcmFuc2FjdGlvbklkKHRoaXMuYXBpLCB1cGxvYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXRhIHx8ICEoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNdXN0IHByb3ZpZGUgZGF0YSB3aGVuIHJlc3VtaW5nIHVwbG9hZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBsb2FkIHNob3VsZCBiZSBhIHNlcmlhbGl6ZWQgdXBsb2FkLlxuICAgICAgICAgICAgdXBsb2FkZXIgPSBhd2FpdCBUcmFuc2FjdGlvblVwbG9hZGVyLmZyb21TZXJpYWxpemVkKHtcbiAgICAgICAgICAgICAgICBkZXBzOiB7IGFwaTogdGhpcy5hcGksIG1lcmtsZTogdGhpcy5tZXJrbGUsIGNyeXB0bzogdGhpcy5jcnlwdG8sIGRlZXBIYXNoOiB0aGlzLmRlZXBIYXNoIH0sXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZDogdXBsb2FkLFxuICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBsb2FkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFzeW5jIGdlbmVyYXRvciB2ZXJzaW9uIG9mIHVwbG9hZGVyXG4gICAgICpcbiAgICAgKiBVc2FnZSBleGFtcGxlOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogZm9yIGF3YWl0IChjb25zdCB1cGxvYWRlciBvZiBhcndlYXZlLnRyYW5zYWN0aW9ucy51cGxvYWQodHgpKSB7XG4gICAgICogIGNvbnNvbGUubG9nKGAke3VwbG9hZGVyLnBjdENvbXBsZXRlfSVgKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXBsb2FkIGEgVHJhbnNhY3Rpb24gb2JqZWN0LCBhIHByZXZpb3VzbHkgc2F2ZSB1cGxvYWRlciwgb3IgYSB0cmFuc2FjdGlvbiBpZC5cbiAgICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSBvZiB0aGUgdHJhbnNhY3Rpb24uIFJlcXVpcmVkIHdoZW4gcmVzdW1pbmcgYW4gdXBsb2FkLlxuICAgICAqL1xuICAgIGFzeW5jICp1cGxvYWQodXBsb2FkLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHVwbG9hZGVyID0gYXdhaXQgdGhpcy5nZXRVcGxvYWRlcih1cGxvYWQsIGRhdGEpO1xuICAgICAgICB3aGlsZSAoIXVwbG9hZGVyLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGF3YWl0IHVwbG9hZGVyLnVwbG9hZENodW5rKCk7XG4gICAgICAgICAgICB5aWVsZCB1cGxvYWRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXBsb2FkZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNhY3Rpb25zLmpzLm1hcCJdLCJuYW1lcyI6WyJBcndlYXZlRXJyb3IiLCJUcmFuc2FjdGlvbiIsIkFyd2VhdmVUYWciLCJBcndlYXZlVXRpbHMiLCJUcmFuc2FjdGlvblVwbG9hZGVyIiwiVHJhbnNhY3Rpb25zIiwiY29uc3RydWN0b3IiLCJkZXBzIiwiYXBpIiwiY3J5cHRvIiwiY2h1bmtzIiwibWVya2xlIiwiZGVlcEhhc2giLCJnZXRUcmFuc2FjdGlvbkFuY2hvciIsImdldCIsInRyYW5zZm9ybVJlc3BvbnNlIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsImdldFByaWNlIiwiYnl0ZVNpemUiLCJ0YXJnZXRBZGRyZXNzIiwiZW5kcG9pbnQiLCJpZCIsInN0YXR1cyIsImRhdGFfc2l6ZSIsInBhcnNlSW50IiwiZm9ybWF0IiwiZ2V0RGF0YSIsImF0dHJpYnV0ZXMiLCJmcm9tUmF3IiwiZ2V0U3RhdHVzIiwiY29uZmlybWVkIiwidW5kZWZpbmVkIiwicmVzcG9uc2VUeXBlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImRvd25sb2FkQ2h1bmtlZERhdGEiLCJFcnJvciIsImdldERhdGFTdHJlYW0iLCJyZXNEYXRhIiwiZ2VuIiwiZyIsImNvbmN1cnJlbnRDaHVua0Rvd25sb2FkZXIiLCJzaWduIiwidHJhbnNhY3Rpb24iLCJqd2siLCJvcHRpb25zIiwiaXNKd2siLCJvYmoiLCJ2YWxpZCIsIm1hcCIsImtleSIsInZhbGlkSndrIiwiZXh0ZXJuYWxXYWxsZXQiLCJhcndlYXZlV2FsbGV0IiwiZXhpc3RpbmdQZXJtaXNzaW9ucyIsImdldFBlcm1pc3Npb25zIiwiaW5jbHVkZXMiLCJjb25uZWN0IiwidGFncyIsInYiLCJuYW1lIiwidmFsdWUiLCJzaWduZWRUcmFuc2FjdGlvbiIsInNldFNpZ25hdHVyZSIsIm93bmVyIiwicmV3YXJkIiwic2lnbmF0dXJlIiwic2V0T3duZXIiLCJuIiwiZGF0YVRvU2lnbiIsImdldFNpZ25hdHVyZURhdGEiLCJyYXdTaWduYXR1cmUiLCJoYXNoIiwiYnVmZmVyVG9iNjRVcmwiLCJ2ZXJpZnkiLCJzaWduYXR1cmVQYXlsb2FkIiwiZGVjb2RlIiwic3RyaW5nIiwiZXhwZWN0ZWRJZCIsInBvc3QiLCJKU09OIiwicGFyc2UiLCJyZWFkSW50MzJCRSIsInRvU3RyaW5nIiwicHJlcGFyZUNodW5rcyIsInVwbG9hZGVyIiwiZ2V0VXBsb2FkZXIiLCJpc0NvbXBsZXRlIiwidXBsb2FkQ2h1bmsiLCJlIiwibGFzdFJlc3BvbnNlU3RhdHVzIiwic3RhdHVzVGV4dCIsImxhc3RSZXNwb25zZUVycm9yIiwidXBsb2FkIiwiQXJyYXlCdWZmZXIiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwiZnJvbVRyYW5zYWN0aW9uSWQiLCJmcm9tU2VyaWFsaXplZCIsInNlcmlhbGl6ZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/transactions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/wallets.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/wallets.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Wallets)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n\nclass Wallets {\n    constructor(api, crypto){\n        this.api = api;\n        this.crypto = crypto;\n    }\n    /**\n     * Get the wallet balance for the given address.\n     *\n     * @param {string} address - The arweave address to get the balance for.\n     *\n     * @returns {Promise<string>} - Promise which resolves with a winston string balance.\n     */ getBalance(address) {\n        return this.api.get(`wallet/${address}/balance`, {\n            transformResponse: [\n                /**\n                 * We need to specify a response transformer to override\n                 * the default JSON.parse behaviour, as this causes\n                 * balances to be converted to a number and we want to\n                 * return it as a winston string.\n                 * @param data\n                 */ function(data) {\n                    return data;\n                }\n            ]\n        }).then((response)=>{\n            return response.data;\n        });\n    }\n    /**\n     * Get the last transaction ID for the given wallet address.\n     *\n     * @param {string} address - The arweave address to get the transaction for.\n     *\n     * @returns {Promise<string>} - Promise which resolves with a transaction ID.\n     */ getLastTransactionID(address) {\n        return this.api.get(`wallet/${address}/last_tx`).then((response)=>{\n            return response.data;\n        });\n    }\n    generate() {\n        return this.crypto.generateJWK();\n    }\n    async jwkToAddress(jwk) {\n        if (!jwk || jwk === \"use_wallet\") {\n            return this.getAddress();\n        } else {\n            return this.getAddress(jwk);\n        }\n    }\n    async getAddress(jwk) {\n        if (!jwk || jwk === \"use_wallet\") {\n            try {\n                await arweaveWallet.connect([\n                    \"ACCESS_ADDRESS\"\n                ]);\n            } catch  {\n            // Permission is already granted\n            }\n            return arweaveWallet.getActiveAddress();\n        } else {\n            return this.ownerToAddress(jwk.n);\n        }\n    }\n    async ownerToAddress(owner) {\n        return _lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.bufferTob64Url(await this.crypto.hash(_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.b64UrlToBuffer(owner)));\n    }\n} //# sourceMappingURL=wallets.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vY29tbW9uL3dhbGxldHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDaEMsTUFBTUM7SUFHakJDLFlBQVlDLEdBQUcsRUFBRUMsTUFBTSxDQUFFO1FBQ3JCLElBQUksQ0FBQ0QsR0FBRyxHQUFHQTtRQUNYLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtJQUNsQjtJQUNBOzs7Ozs7S0FNQyxHQUNEQyxXQUFXQyxPQUFPLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUNILEdBQUcsQ0FDVkksR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFRCxRQUFRLFFBQVEsQ0FBQyxFQUFFO1lBQ2xDRSxtQkFBbUI7Z0JBQ2Y7Ozs7OztpQkFNQyxHQUNELFNBQVVDLElBQUk7b0JBQ1YsT0FBT0E7Z0JBQ1g7YUFDSDtRQUNMLEdBQ0tDLElBQUksQ0FBQyxDQUFDQztZQUNQLE9BQU9BLFNBQVNGLElBQUk7UUFDeEI7SUFDSjtJQUNBOzs7Ozs7S0FNQyxHQUNERyxxQkFBcUJOLE9BQU8sRUFBRTtRQUMxQixPQUFPLElBQUksQ0FBQ0gsR0FBRyxDQUFDSSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUVELFFBQVEsUUFBUSxDQUFDLEVBQUVJLElBQUksQ0FBQyxDQUFDQztZQUNuRCxPQUFPQSxTQUFTRixJQUFJO1FBQ3hCO0lBQ0o7SUFDQUksV0FBVztRQUNQLE9BQU8sSUFBSSxDQUFDVCxNQUFNLENBQUNVLFdBQVc7SUFDbEM7SUFDQSxNQUFNQyxhQUFhQyxHQUFHLEVBQUU7UUFDcEIsSUFBSSxDQUFDQSxPQUFPQSxRQUFRLGNBQWM7WUFDOUIsT0FBTyxJQUFJLENBQUNDLFVBQVU7UUFDMUIsT0FDSztZQUNELE9BQU8sSUFBSSxDQUFDQSxVQUFVLENBQUNEO1FBQzNCO0lBQ0o7SUFDQSxNQUFNQyxXQUFXRCxHQUFHLEVBQUU7UUFDbEIsSUFBSSxDQUFDQSxPQUFPQSxRQUFRLGNBQWM7WUFDOUIsSUFBSTtnQkFDQSxNQUFNRSxjQUFjQyxPQUFPLENBQUM7b0JBQUM7aUJBQWlCO1lBQ2xELEVBQ0EsT0FBTTtZQUNGLGdDQUFnQztZQUNwQztZQUNBLE9BQU9ELGNBQWNFLGdCQUFnQjtRQUN6QyxPQUNLO1lBQ0QsT0FBTyxJQUFJLENBQUNDLGNBQWMsQ0FBQ0wsSUFBSU0sQ0FBQztRQUNwQztJQUNKO0lBQ0EsTUFBTUQsZUFBZUUsS0FBSyxFQUFFO1FBQ3hCLE9BQU92Qix5REFBMkIsQ0FBQyxNQUFNLElBQUksQ0FBQ0ksTUFBTSxDQUFDcUIsSUFBSSxDQUFDekIseURBQTJCLENBQUN1QjtJQUMxRjtBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS9jb21tb24vd2FsbGV0cy5qcz8xNmQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFyd2VhdmVVdGlscyBmcm9tIFwiLi9saWIvdXRpbHMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGxldHMge1xuICAgIGFwaTtcbiAgICBjcnlwdG87XG4gICAgY29uc3RydWN0b3IoYXBpLCBjcnlwdG8pIHtcbiAgICAgICAgdGhpcy5hcGkgPSBhcGk7XG4gICAgICAgIHRoaXMuY3J5cHRvID0gY3J5cHRvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdhbGxldCBiYWxhbmNlIGZvciB0aGUgZ2l2ZW4gYWRkcmVzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzIC0gVGhlIGFyd2VhdmUgYWRkcmVzcyB0byBnZXQgdGhlIGJhbGFuY2UgZm9yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gLSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYSB3aW5zdG9uIHN0cmluZyBiYWxhbmNlLlxuICAgICAqL1xuICAgIGdldEJhbGFuY2UoYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlcbiAgICAgICAgICAgIC5nZXQoYHdhbGxldC8ke2FkZHJlc3N9L2JhbGFuY2VgLCB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogW1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFdlIG5lZWQgdG8gc3BlY2lmeSBhIHJlc3BvbnNlIHRyYW5zZm9ybWVyIHRvIG92ZXJyaWRlXG4gICAgICAgICAgICAgICAgICogdGhlIGRlZmF1bHQgSlNPTi5wYXJzZSBiZWhhdmlvdXIsIGFzIHRoaXMgY2F1c2VzXG4gICAgICAgICAgICAgICAgICogYmFsYW5jZXMgdG8gYmUgY29udmVydGVkIHRvIGEgbnVtYmVyIGFuZCB3ZSB3YW50IHRvXG4gICAgICAgICAgICAgICAgICogcmV0dXJuIGl0IGFzIGEgd2luc3RvbiBzdHJpbmcuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGRhdGFcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxhc3QgdHJhbnNhY3Rpb24gSUQgZm9yIHRoZSBnaXZlbiB3YWxsZXQgYWRkcmVzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzIC0gVGhlIGFyd2VhdmUgYWRkcmVzcyB0byBnZXQgdGhlIHRyYW5zYWN0aW9uIGZvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59IC0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGEgdHJhbnNhY3Rpb24gSUQuXG4gICAgICovXG4gICAgZ2V0TGFzdFRyYW5zYWN0aW9uSUQoYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0KGB3YWxsZXQvJHthZGRyZXNzfS9sYXN0X3R4YCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2VuZXJhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyeXB0by5nZW5lcmF0ZUpXSygpO1xuICAgIH1cbiAgICBhc3luYyBqd2tUb0FkZHJlc3MoandrKSB7XG4gICAgICAgIGlmICghandrIHx8IGp3ayA9PT0gXCJ1c2Vfd2FsbGV0XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEFkZHJlc3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEFkZHJlc3MoandrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBnZXRBZGRyZXNzKGp3aykge1xuICAgICAgICBpZiAoIWp3ayB8fCBqd2sgPT09IFwidXNlX3dhbGxldFwiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGFyd2VhdmVXYWxsZXQuY29ubmVjdChbXCJBQ0NFU1NfQUREUkVTU1wiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gUGVybWlzc2lvbiBpcyBhbHJlYWR5IGdyYW50ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcndlYXZlV2FsbGV0LmdldEFjdGl2ZUFkZHJlc3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm93bmVyVG9BZGRyZXNzKGp3ay5uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvd25lclRvQWRkcmVzcyhvd25lcikge1xuICAgICAgICByZXR1cm4gQXJ3ZWF2ZVV0aWxzLmJ1ZmZlclRvYjY0VXJsKGF3YWl0IHRoaXMuY3J5cHRvLmhhc2goQXJ3ZWF2ZVV0aWxzLmI2NFVybFRvQnVmZmVyKG93bmVyKSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhbGxldHMuanMubWFwIl0sIm5hbWVzIjpbIkFyd2VhdmVVdGlscyIsIldhbGxldHMiLCJjb25zdHJ1Y3RvciIsImFwaSIsImNyeXB0byIsImdldEJhbGFuY2UiLCJhZGRyZXNzIiwiZ2V0IiwidHJhbnNmb3JtUmVzcG9uc2UiLCJkYXRhIiwidGhlbiIsInJlc3BvbnNlIiwiZ2V0TGFzdFRyYW5zYWN0aW9uSUQiLCJnZW5lcmF0ZSIsImdlbmVyYXRlSldLIiwiandrVG9BZGRyZXNzIiwiandrIiwiZ2V0QWRkcmVzcyIsImFyd2VhdmVXYWxsZXQiLCJjb25uZWN0IiwiZ2V0QWN0aXZlQWRkcmVzcyIsIm93bmVyVG9BZGRyZXNzIiwibiIsIm93bmVyIiwiYnVmZmVyVG9iNjRVcmwiLCJoYXNoIiwiYjY0VXJsVG9CdWZmZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/wallets.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/arweave.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/arweave.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arweave: () => (/* binding */ Arweave),\n/* harmony export */   NodeArweave: () => (/* binding */ NodeArweave),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/index.js\");\n/* harmony import */ var _node_driver_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node-driver.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/node-driver.js\");\n/* harmony import */ var _stream_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stream/index.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/index.js\");\n\n\n\nclass Arweave extends _common_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    /**\n     * Constructor for a new `Arweave` instance - this one uses the node crypto driver\n     * @param gateways - Specify the Arweave gateway(s) you want to use for requests\n     * @param options - Other configuration options\n     * @param options.miners - A list of Arweave miners (peers) to use for requests\n     * @param options.gateways - A list of Arweave miners (peers) to use for requests\n     */ constructor(gateways, options){\n        super({\n            crypto: options?.crypto ?? new _node_driver_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](),\n            ...options,\n            gateways: gateways ?? \"https://arweave.net\"\n        });\n        this.stream = new _stream_index_js__WEBPACK_IMPORTED_MODULE_2__.Stream({\n            deps: {\n                crypto: this.crypto,\n                api: this.api,\n                merkle: this.merkle,\n                transactions: this.transactions,\n                deepHash: this.deepHash\n            }\n        });\n    }\n    static init(apiConfig) {\n        return new Arweave(apiConfig);\n    }\n}\nconst NodeArweave = Arweave;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Arweave); //# sourceMappingURL=arweave.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9hcndlYXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErQztBQUNDO0FBQ0w7QUFDcEMsTUFBTUcsZ0JBQWdCSCx3REFBYUE7SUFFdEM7Ozs7OztLQU1DLEdBQ0RJLFlBQVlDLFFBQVEsRUFBRUMsT0FBTyxDQUFFO1FBQzNCLEtBQUssQ0FBQztZQUFFQyxRQUFRRCxTQUFTQyxVQUFVLElBQUlOLHVEQUFnQkE7WUFBSSxHQUFHSyxPQUFPO1lBQUVELFVBQVVBLFlBQVk7UUFBc0I7UUFDbkgsSUFBSSxDQUFDRyxNQUFNLEdBQUcsSUFBSU4sb0RBQU1BLENBQUM7WUFDckJPLE1BQU07Z0JBQUVGLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUFFRyxLQUFLLElBQUksQ0FBQ0EsR0FBRztnQkFBRUMsUUFBUSxJQUFJLENBQUNBLE1BQU07Z0JBQUVDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO2dCQUFFQyxVQUFVLElBQUksQ0FBQ0EsUUFBUTtZQUFDO1FBQzlIO0lBQ0o7SUFDQSxPQUFPQyxLQUFLQyxTQUFTLEVBQUU7UUFDbkIsT0FBTyxJQUFJWixRQUFRWTtJQUN2QjtBQUNKO0FBQ08sTUFBTUMsY0FBY2IsUUFBUTtBQUNuQyxpRUFBZUEsT0FBT0EsRUFBQyxDQUN2QixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL25vZGUvYXJ3ZWF2ZS5qcz9kZDA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tb25BcndlYXZlIGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCBOb2RlQ3J5cHRvRHJpdmVyIGZyb20gXCIuL25vZGUtZHJpdmVyLmpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW0vaW5kZXguanNcIjtcbmV4cG9ydCBjbGFzcyBBcndlYXZlIGV4dGVuZHMgQ29tbW9uQXJ3ZWF2ZSB7XG4gICAgc3RyZWFtO1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIGZvciBhIG5ldyBgQXJ3ZWF2ZWAgaW5zdGFuY2UgLSB0aGlzIG9uZSB1c2VzIHRoZSBub2RlIGNyeXB0byBkcml2ZXJcbiAgICAgKiBAcGFyYW0gZ2F0ZXdheXMgLSBTcGVjaWZ5IHRoZSBBcndlYXZlIGdhdGV3YXkocykgeW91IHdhbnQgdG8gdXNlIGZvciByZXF1ZXN0c1xuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3RoZXIgY29uZmlndXJhdGlvbiBvcHRpb25zXG4gICAgICogQHBhcmFtIG9wdGlvbnMubWluZXJzIC0gQSBsaXN0IG9mIEFyd2VhdmUgbWluZXJzIChwZWVycykgdG8gdXNlIGZvciByZXF1ZXN0c1xuICAgICAqIEBwYXJhbSBvcHRpb25zLmdhdGV3YXlzIC0gQSBsaXN0IG9mIEFyd2VhdmUgbWluZXJzIChwZWVycykgdG8gdXNlIGZvciByZXF1ZXN0c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdhdGV3YXlzLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHsgY3J5cHRvOiBvcHRpb25zPy5jcnlwdG8gPz8gbmV3IE5vZGVDcnlwdG9Ecml2ZXIoKSwgLi4ub3B0aW9ucywgZ2F0ZXdheXM6IGdhdGV3YXlzID8/IFwiaHR0cHM6Ly9hcndlYXZlLm5ldFwiIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IG5ldyBTdHJlYW0oe1xuICAgICAgICAgICAgZGVwczogeyBjcnlwdG86IHRoaXMuY3J5cHRvLCBhcGk6IHRoaXMuYXBpLCBtZXJrbGU6IHRoaXMubWVya2xlLCB0cmFuc2FjdGlvbnM6IHRoaXMudHJhbnNhY3Rpb25zLCBkZWVwSGFzaDogdGhpcy5kZWVwSGFzaCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoYXBpQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ3ZWF2ZShhcGlDb25maWcpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBOb2RlQXJ3ZWF2ZSA9IEFyd2VhdmU7XG5leHBvcnQgZGVmYXVsdCBBcndlYXZlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJ3ZWF2ZS5qcy5tYXAiXSwibmFtZXMiOlsiQ29tbW9uQXJ3ZWF2ZSIsIk5vZGVDcnlwdG9Ecml2ZXIiLCJTdHJlYW0iLCJBcndlYXZlIiwiY29uc3RydWN0b3IiLCJnYXRld2F5cyIsIm9wdGlvbnMiLCJjcnlwdG8iLCJzdHJlYW0iLCJkZXBzIiwiYXBpIiwibWVya2xlIiwidHJhbnNhY3Rpb25zIiwiZGVlcEhhc2giLCJpbml0IiwiYXBpQ29uZmlnIiwiTm9kZUFyd2VhdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/arweave.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/index.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/index.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arweave: () => (/* reexport safe */ _arweave_js__WEBPACK_IMPORTED_MODULE_0__.Arweave),\n/* harmony export */   NodeArweave: () => (/* reexport safe */ _arweave_js__WEBPACK_IMPORTED_MODULE_0__.NodeArweave),\n/* harmony export */   \"default\": () => (/* reexport safe */ _arweave_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _arweave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arweave.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/arweave.js\");\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZCO0FBQ1UsQ0FDdkMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS9ub2RlL2luZGV4LmpzPzUwZmIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vYXJ3ZWF2ZS5qc1wiO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCIuL2Fyd2VhdmUuanNcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/node-driver.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/node-driver.js ***!
  \*********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeCryptoDriver: () => (/* binding */ NodeCryptoDriver),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_lib_crypto_pem_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/lib/crypto/pem.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/crypto/pem.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\nclass NodeCryptoDriver {\n    generateJWK() {\n        if (typeof crypto__WEBPACK_IMPORTED_MODULE_1__.generateKeyPair !== \"function\") {\n            throw new Error(\"Keypair generation not supported in this version of Node, only supported in versions 10+\");\n        }\n        return new Promise((resolve, reject)=>{\n            crypto__WEBPACK_IMPORTED_MODULE_1__.generateKeyPair(\"rsa\", {\n                modulusLength: this.keyLength,\n                publicExponent: this.publicExponent,\n                privateKeyEncoding: {\n                    type: \"pkcs1\",\n                    format: \"pem\"\n                },\n                publicKeyEncoding: {\n                    type: \"pkcs1\",\n                    format: \"pem\"\n                }\n            }, (err, _publicKey, privateKey)=>{\n                if (err) {\n                    reject(err);\n                }\n                resolve(this.pemToJWK(privateKey));\n            });\n        });\n    }\n    sign(jwk, data, { saltLength } = {}) {\n        return new Promise((resolve)=>{\n            resolve(crypto__WEBPACK_IMPORTED_MODULE_1__.createSign(this.hashAlgorithm).update(data).sign({\n                key: this.jwkToPem(jwk),\n                padding: crypto__WEBPACK_IMPORTED_MODULE_1__.constants.RSA_PKCS1_PSS_PADDING,\n                saltLength\n            }));\n        });\n    }\n    verify(publicModulus, data, signature) {\n        return new Promise((resolve)=>{\n            const publicKey = {\n                kty: \"RSA\",\n                e: \"AQAB\",\n                n: publicModulus\n            };\n            const pem = this.jwkToPem(publicKey);\n            resolve(crypto__WEBPACK_IMPORTED_MODULE_1__.createVerify(this.hashAlgorithm).update(data).verify({\n                key: pem,\n                padding: crypto__WEBPACK_IMPORTED_MODULE_1__.constants.RSA_PKCS1_PSS_PADDING\n            }, signature));\n        });\n    }\n    hash(data, algorithm = \"SHA-256\") {\n        return new Promise((resolve)=>{\n            resolve(crypto__WEBPACK_IMPORTED_MODULE_1__.createHash(this.parseHashAlgorithm(algorithm)).update(data).digest());\n        });\n    }\n    /**\n     * If a key is passed as a buffer it *must* be exactly 32 bytes.\n     * If a key is passed as a string then any length may be used.\n     *\n     * @param {Buffer} data\n     * @param {(string | Buffer)} key\n     * @returns {Promise<Uint8Array>}\n     */ async encrypt(data, key, salt) {\n        // create a random string for deriving the key\n        // const salt = crypto.randomBytes(16);\n        // console.log(salt);\n        // As we're using CBC with a randomised IV per cypher we don't really need\n        // an additional random salt per passphrase.\n        const derivedKey = crypto__WEBPACK_IMPORTED_MODULE_1__.pbkdf2Sync(key, salt = salt ? salt : \"salt\", 100000, 32, this.hashAlgorithm);\n        const iv = crypto__WEBPACK_IMPORTED_MODULE_1__.randomBytes(16);\n        const cipher = crypto__WEBPACK_IMPORTED_MODULE_1__.createCipheriv(this.encryptionAlgorithm, derivedKey, iv);\n        const encrypted = Buffer.concat([\n            iv,\n            cipher.update(data),\n            cipher.final()\n        ]);\n        return encrypted;\n    }\n    /**\n     * If a key is passed as a buffer it *must* be exactly 32 bytes.\n     * If a key is passed as a string then any length may be used.\n     *\n     * @param {Buffer} encrypted\n     * @param {(string | Buffer)} key\n     * @returns {Promise<Uint8Array>}\n     */ async decrypt(encrypted, key, salt) {\n        try {\n            // create a random string for deriving the key\n            // const salt = crypto.randomBytes(16).toString('hex');\n            // As we're using CBC with a randomised IV per cypher we don't really need\n            // an additional random salt per passphrase.\n            const derivedKey = crypto__WEBPACK_IMPORTED_MODULE_1__.pbkdf2Sync(key, salt = salt ? salt : \"salt\", 100000, 32, this.hashAlgorithm);\n            const iv = encrypted.slice(0, 16);\n            const data = encrypted.slice(16);\n            const decipher = crypto__WEBPACK_IMPORTED_MODULE_1__.createDecipheriv(this.encryptionAlgorithm, derivedKey, iv);\n            const decrypted = Buffer.concat([\n                decipher.update(data),\n                decipher.final()\n            ]);\n            return decrypted;\n        } catch (error) {\n            throw new Error(\"Failed to decrypt\");\n        }\n    }\n    jwkToPem(jwk) {\n        return (0,_common_lib_crypto_pem_js__WEBPACK_IMPORTED_MODULE_0__.jwkTopem)(jwk);\n    }\n    pemToJWK(pem) {\n        const jwk = (0,_common_lib_crypto_pem_js__WEBPACK_IMPORTED_MODULE_0__.pemTojwk)(pem);\n        return jwk;\n    }\n    parseHashAlgorithm(algorithm) {\n        switch(algorithm){\n            case \"SHA-256\":\n                return \"sha256\";\n            case \"SHA-384\":\n                return \"sha384\";\n            default:\n                throw new Error(`Algorithm not supported: ${algorithm}`);\n        }\n    }\n    constructor(){\n        this.keyLength = 4096;\n        this.publicExponent = 0x10001;\n        this.hashAlgorithm = \"sha256\";\n        this.encryptionAlgorithm = \"aes-256-cbc\";\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NodeCryptoDriver); //# sourceMappingURL=node-driver.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9ub2RlLWRyaXZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlFO0FBQ2hDO0FBQzFCLE1BQU1HO0lBS1RDLGNBQWM7UUFDVixJQUFJLE9BQU9GLG1EQUFzQixLQUFLLFlBQVk7WUFDOUMsTUFBTSxJQUFJSSxNQUFNO1FBQ3BCO1FBQ0EsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1lBQ3pCUCxtREFBc0IsQ0FBQyxPQUFPO2dCQUMxQlEsZUFBZSxJQUFJLENBQUNDLFNBQVM7Z0JBQzdCQyxnQkFBZ0IsSUFBSSxDQUFDQSxjQUFjO2dCQUNuQ0Msb0JBQW9CO29CQUNoQkMsTUFBTTtvQkFDTkMsUUFBUTtnQkFDWjtnQkFDQUMsbUJBQW1CO29CQUFFRixNQUFNO29CQUFTQyxRQUFRO2dCQUFNO1lBQ3RELEdBQUcsQ0FBQ0UsS0FBS0MsWUFBWUM7Z0JBQ2pCLElBQUlGLEtBQUs7b0JBQ0xSLE9BQU9RO2dCQUNYO2dCQUNBVCxRQUFRLElBQUksQ0FBQ1ksUUFBUSxDQUFDRDtZQUMxQjtRQUNKO0lBQ0o7SUFDQUUsS0FBS0MsR0FBRyxFQUFFQyxJQUFJLEVBQUUsRUFBRUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFDakMsT0FBTyxJQUFJakIsUUFBUSxDQUFDQztZQUNoQkEsUUFBUU4sOENBQ08sQ0FBQyxJQUFJLENBQUN3QixhQUFhLEVBQzdCQyxNQUFNLENBQUNKLE1BQ1BGLElBQUksQ0FBQztnQkFDTk8sS0FBSyxJQUFJLENBQUNDLFFBQVEsQ0FBQ1A7Z0JBQ25CUSxTQUFTNUIsNkNBQWdCLENBQUM4QixxQkFBcUI7Z0JBQy9DUjtZQUNKO1FBQ0o7SUFDSjtJQUNBUyxPQUFPQyxhQUFhLEVBQUVYLElBQUksRUFBRVksU0FBUyxFQUFFO1FBQ25DLE9BQU8sSUFBSTVCLFFBQVEsQ0FBQ0M7WUFDaEIsTUFBTTRCLFlBQVk7Z0JBQ2RDLEtBQUs7Z0JBQ0xDLEdBQUc7Z0JBQ0hDLEdBQUdMO1lBQ1A7WUFDQSxNQUFNTSxNQUFNLElBQUksQ0FBQ1gsUUFBUSxDQUFDTztZQUMxQjVCLFFBQVFOLGdEQUFtQixDQUFDLElBQUksQ0FBQ3dCLGFBQWEsRUFBRUMsTUFBTSxDQUFDSixNQUFNVSxNQUFNLENBQUM7Z0JBQ2hFTCxLQUFLWTtnQkFDTFYsU0FBUzVCLDZDQUFnQixDQUFDOEIscUJBQXFCO1lBQ25ELEdBQUdHO1FBQ1A7SUFDSjtJQUNBTyxLQUFLbkIsSUFBSSxFQUFFb0IsWUFBWSxTQUFTLEVBQUU7UUFDOUIsT0FBTyxJQUFJcEMsUUFBUSxDQUFDQztZQUNoQkEsUUFBUU4sOENBQWlCLENBQUMsSUFBSSxDQUFDMkMsa0JBQWtCLENBQUNGLFlBQVloQixNQUFNLENBQUNKLE1BQU11QixNQUFNO1FBQ3JGO0lBQ0o7SUFDQTs7Ozs7OztLQU9DLEdBQ0QsTUFBTUMsUUFBUXhCLElBQUksRUFBRUssR0FBRyxFQUFFb0IsSUFBSSxFQUFFO1FBQzNCLDhDQUE4QztRQUM5Qyx1Q0FBdUM7UUFDdkMscUJBQXFCO1FBQ3JCLDBFQUEwRTtRQUMxRSw0Q0FBNEM7UUFDNUMsTUFBTUMsYUFBYS9DLDhDQUFpQixDQUFDMEIsS0FBTW9CLE9BQU9BLE9BQU9BLE9BQU8sUUFBUyxRQUFRLElBQUksSUFBSSxDQUFDdEIsYUFBYTtRQUN2RyxNQUFNeUIsS0FBS2pELCtDQUFrQixDQUFDO1FBQzlCLE1BQU1tRCxTQUFTbkQsa0RBQXFCLENBQUMsSUFBSSxDQUFDcUQsbUJBQW1CLEVBQUVOLFlBQVlFO1FBQzNFLE1BQU1LLFlBQVlDLE9BQU9DLE1BQU0sQ0FBQztZQUFDUDtZQUFJRSxPQUFPMUIsTUFBTSxDQUFDSjtZQUFPOEIsT0FBT00sS0FBSztTQUFHO1FBQ3pFLE9BQU9IO0lBQ1g7SUFDQTs7Ozs7OztLQU9DLEdBQ0QsTUFBTUksUUFBUUosU0FBUyxFQUFFNUIsR0FBRyxFQUFFb0IsSUFBSSxFQUFFO1FBQ2hDLElBQUk7WUFDQSw4Q0FBOEM7WUFDOUMsdURBQXVEO1lBQ3ZELDBFQUEwRTtZQUMxRSw0Q0FBNEM7WUFDNUMsTUFBTUMsYUFBYS9DLDhDQUFpQixDQUFDMEIsS0FBTW9CLE9BQU9BLE9BQU9BLE9BQU8sUUFBUyxRQUFRLElBQUksSUFBSSxDQUFDdEIsYUFBYTtZQUN2RyxNQUFNeUIsS0FBS0ssVUFBVUssS0FBSyxDQUFDLEdBQUc7WUFDOUIsTUFBTXRDLE9BQU9pQyxVQUFVSyxLQUFLLENBQUM7WUFDN0IsTUFBTUMsV0FBVzVELG9EQUF1QixDQUFDLElBQUksQ0FBQ3FELG1CQUFtQixFQUFFTixZQUFZRTtZQUMvRSxNQUFNYSxZQUFZUCxPQUFPQyxNQUFNLENBQUM7Z0JBQUNJLFNBQVNuQyxNQUFNLENBQUNKO2dCQUFPdUMsU0FBU0gsS0FBSzthQUFHO1lBQ3pFLE9BQU9LO1FBQ1gsRUFDQSxPQUFPQyxPQUFPO1lBQ1YsTUFBTSxJQUFJM0QsTUFBTTtRQUNwQjtJQUNKO0lBQ0F1QixTQUFTUCxHQUFHLEVBQUU7UUFDVixPQUFPckIsbUVBQVFBLENBQUNxQjtJQUNwQjtJQUNBRixTQUFTb0IsR0FBRyxFQUFFO1FBQ1YsTUFBTWxCLE1BQU10QixtRUFBUUEsQ0FBQ3dDO1FBQ3JCLE9BQU9sQjtJQUNYO0lBQ0F1QixtQkFBbUJGLFNBQVMsRUFBRTtRQUMxQixPQUFRQTtZQUNKLEtBQUs7Z0JBQ0QsT0FBTztZQUNYLEtBQUs7Z0JBQ0QsT0FBTztZQUNYO2dCQUNJLE1BQU0sSUFBSXJDLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRXFDLFVBQVUsQ0FBQztRQUMvRDtJQUNKOzthQXJIQWhDLFlBQVk7YUFDWkMsaUJBQWlCO2FBQ2pCYyxnQkFBZ0I7YUFDaEI2QixzQkFBc0I7O0FBbUgxQjtBQUNBLGlFQUFlcEQsZ0JBQWdCQSxFQUFDLENBQ2hDLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9ub2RlLWRyaXZlci5qcz82MTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBlbVRvandrLCBqd2tUb3BlbSB9IGZyb20gXCIuLi9jb21tb24vbGliL2NyeXB0by9wZW0uanNcIjtcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5leHBvcnQgY2xhc3MgTm9kZUNyeXB0b0RyaXZlciB7XG4gICAga2V5TGVuZ3RoID0gNDA5NjtcbiAgICBwdWJsaWNFeHBvbmVudCA9IDB4MTAwMDE7XG4gICAgaGFzaEFsZ29yaXRobSA9IFwic2hhMjU2XCI7XG4gICAgZW5jcnlwdGlvbkFsZ29yaXRobSA9IFwiYWVzLTI1Ni1jYmNcIjtcbiAgICBnZW5lcmF0ZUpXSygpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8uZ2VuZXJhdGVLZXlQYWlyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIktleXBhaXIgZ2VuZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGluIHRoaXMgdmVyc2lvbiBvZiBOb2RlLCBvbmx5IHN1cHBvcnRlZCBpbiB2ZXJzaW9ucyAxMCtcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNyeXB0by5nZW5lcmF0ZUtleVBhaXIoXCJyc2FcIiwge1xuICAgICAgICAgICAgICAgIG1vZHVsdXNMZW5ndGg6IHRoaXMua2V5TGVuZ3RoLFxuICAgICAgICAgICAgICAgIHB1YmxpY0V4cG9uZW50OiB0aGlzLnB1YmxpY0V4cG9uZW50LFxuICAgICAgICAgICAgICAgIHByaXZhdGVLZXlFbmNvZGluZzoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBrY3MxXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJwZW1cIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHB1YmxpY0tleUVuY29kaW5nOiB7IHR5cGU6IFwicGtjczFcIiwgZm9ybWF0OiBcInBlbVwiIH0sXG4gICAgICAgICAgICB9LCAoZXJyLCBfcHVibGljS2V5LCBwcml2YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnBlbVRvSldLKHByaXZhdGVLZXkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2lnbihqd2ssIGRhdGEsIHsgc2FsdExlbmd0aCB9ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGNyeXB0b1xuICAgICAgICAgICAgICAgIC5jcmVhdGVTaWduKHRoaXMuaGFzaEFsZ29yaXRobSlcbiAgICAgICAgICAgICAgICAudXBkYXRlKGRhdGEpXG4gICAgICAgICAgICAgICAgLnNpZ24oe1xuICAgICAgICAgICAgICAgIGtleTogdGhpcy5qd2tUb1BlbShqd2spLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IGNyeXB0by5jb25zdGFudHMuUlNBX1BLQ1MxX1BTU19QQURESU5HLFxuICAgICAgICAgICAgICAgIHNhbHRMZW5ndGgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2ZXJpZnkocHVibGljTW9kdWx1cywgZGF0YSwgc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0ge1xuICAgICAgICAgICAgICAgIGt0eTogXCJSU0FcIixcbiAgICAgICAgICAgICAgICBlOiBcIkFRQUJcIixcbiAgICAgICAgICAgICAgICBuOiBwdWJsaWNNb2R1bHVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBlbSA9IHRoaXMuandrVG9QZW0ocHVibGljS2V5KTtcbiAgICAgICAgICAgIHJlc29sdmUoY3J5cHRvLmNyZWF0ZVZlcmlmeSh0aGlzLmhhc2hBbGdvcml0aG0pLnVwZGF0ZShkYXRhKS52ZXJpZnkoe1xuICAgICAgICAgICAgICAgIGtleTogcGVtLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IGNyeXB0by5jb25zdGFudHMuUlNBX1BLQ1MxX1BTU19QQURESU5HLFxuICAgICAgICAgICAgfSwgc2lnbmF0dXJlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYXNoKGRhdGEsIGFsZ29yaXRobSA9IFwiU0hBLTI1NlwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShjcnlwdG8uY3JlYXRlSGFzaCh0aGlzLnBhcnNlSGFzaEFsZ29yaXRobShhbGdvcml0aG0pKS51cGRhdGUoZGF0YSkuZGlnZXN0KCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgYSBrZXkgaXMgcGFzc2VkIGFzIGEgYnVmZmVyIGl0ICptdXN0KiBiZSBleGFjdGx5IDMyIGJ5dGVzLlxuICAgICAqIElmIGEga2V5IGlzIHBhc3NlZCBhcyBhIHN0cmluZyB0aGVuIGFueSBsZW5ndGggbWF5IGJlIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YVxuICAgICAqIEBwYXJhbSB7KHN0cmluZyB8IEJ1ZmZlcil9IGtleVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFVpbnQ4QXJyYXk+fVxuICAgICAqL1xuICAgIGFzeW5jIGVuY3J5cHQoZGF0YSwga2V5LCBzYWx0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHJhbmRvbSBzdHJpbmcgZm9yIGRlcml2aW5nIHRoZSBrZXlcbiAgICAgICAgLy8gY29uc3Qgc2FsdCA9IGNyeXB0by5yYW5kb21CeXRlcygxNik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHNhbHQpO1xuICAgICAgICAvLyBBcyB3ZSdyZSB1c2luZyBDQkMgd2l0aCBhIHJhbmRvbWlzZWQgSVYgcGVyIGN5cGhlciB3ZSBkb24ndCByZWFsbHkgbmVlZFxuICAgICAgICAvLyBhbiBhZGRpdGlvbmFsIHJhbmRvbSBzYWx0IHBlciBwYXNzcGhyYXNlLlxuICAgICAgICBjb25zdCBkZXJpdmVkS2V5ID0gY3J5cHRvLnBia2RmMlN5bmMoa2V5LCAoc2FsdCA9IHNhbHQgPyBzYWx0IDogXCJzYWx0XCIpLCAxMDAwMDAsIDMyLCB0aGlzLmhhc2hBbGdvcml0aG0pO1xuICAgICAgICBjb25zdCBpdiA9IGNyeXB0by5yYW5kb21CeXRlcygxNik7XG4gICAgICAgIGNvbnN0IGNpcGhlciA9IGNyeXB0by5jcmVhdGVDaXBoZXJpdih0aGlzLmVuY3J5cHRpb25BbGdvcml0aG0sIGRlcml2ZWRLZXksIGl2KTtcbiAgICAgICAgY29uc3QgZW5jcnlwdGVkID0gQnVmZmVyLmNvbmNhdChbaXYsIGNpcGhlci51cGRhdGUoZGF0YSksIGNpcGhlci5maW5hbCgpXSk7XG4gICAgICAgIHJldHVybiBlbmNyeXB0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGEga2V5IGlzIHBhc3NlZCBhcyBhIGJ1ZmZlciBpdCAqbXVzdCogYmUgZXhhY3RseSAzMiBieXRlcy5cbiAgICAgKiBJZiBhIGtleSBpcyBwYXNzZWQgYXMgYSBzdHJpbmcgdGhlbiBhbnkgbGVuZ3RoIG1heSBiZSB1c2VkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGVuY3J5cHRlZFxuICAgICAqIEBwYXJhbSB7KHN0cmluZyB8IEJ1ZmZlcil9IGtleVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFVpbnQ4QXJyYXk+fVxuICAgICAqL1xuICAgIGFzeW5jIGRlY3J5cHQoZW5jcnlwdGVkLCBrZXksIHNhbHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIHJhbmRvbSBzdHJpbmcgZm9yIGRlcml2aW5nIHRoZSBrZXlcbiAgICAgICAgICAgIC8vIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKTtcbiAgICAgICAgICAgIC8vIEFzIHdlJ3JlIHVzaW5nIENCQyB3aXRoIGEgcmFuZG9taXNlZCBJViBwZXIgY3lwaGVyIHdlIGRvbid0IHJlYWxseSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhZGRpdGlvbmFsIHJhbmRvbSBzYWx0IHBlciBwYXNzcGhyYXNlLlxuICAgICAgICAgICAgY29uc3QgZGVyaXZlZEtleSA9IGNyeXB0by5wYmtkZjJTeW5jKGtleSwgKHNhbHQgPSBzYWx0ID8gc2FsdCA6IFwic2FsdFwiKSwgMTAwMDAwLCAzMiwgdGhpcy5oYXNoQWxnb3JpdGhtKTtcbiAgICAgICAgICAgIGNvbnN0IGl2ID0gZW5jcnlwdGVkLnNsaWNlKDAsIDE2KTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBlbmNyeXB0ZWQuc2xpY2UoMTYpO1xuICAgICAgICAgICAgY29uc3QgZGVjaXBoZXIgPSBjcnlwdG8uY3JlYXRlRGVjaXBoZXJpdih0aGlzLmVuY3J5cHRpb25BbGdvcml0aG0sIGRlcml2ZWRLZXksIGl2KTtcbiAgICAgICAgICAgIGNvbnN0IGRlY3J5cHRlZCA9IEJ1ZmZlci5jb25jYXQoW2RlY2lwaGVyLnVwZGF0ZShkYXRhKSwgZGVjaXBoZXIuZmluYWwoKV0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlY3J5cHRlZDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBkZWNyeXB0XCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGp3a1RvUGVtKGp3aykge1xuICAgICAgICByZXR1cm4gandrVG9wZW0oandrKTtcbiAgICB9XG4gICAgcGVtVG9KV0socGVtKSB7XG4gICAgICAgIGNvbnN0IGp3ayA9IHBlbVRvandrKHBlbSk7XG4gICAgICAgIHJldHVybiBqd2s7XG4gICAgfVxuICAgIHBhcnNlSGFzaEFsZ29yaXRobShhbGdvcml0aG0pIHtcbiAgICAgICAgc3dpdGNoIChhbGdvcml0aG0pIHtcbiAgICAgICAgICAgIGNhc2UgXCJTSEEtMjU2XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2hhMjU2XCI7XG4gICAgICAgICAgICBjYXNlIFwiU0hBLTM4NFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcInNoYTM4NFwiO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFsZ29yaXRobSBub3Qgc3VwcG9ydGVkOiAke2FsZ29yaXRobX1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE5vZGVDcnlwdG9Ecml2ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLWRyaXZlci5qcy5tYXAiXSwibmFtZXMiOlsicGVtVG9qd2siLCJqd2tUb3BlbSIsImNyeXB0byIsIk5vZGVDcnlwdG9Ecml2ZXIiLCJnZW5lcmF0ZUpXSyIsImdlbmVyYXRlS2V5UGFpciIsIkVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJtb2R1bHVzTGVuZ3RoIiwia2V5TGVuZ3RoIiwicHVibGljRXhwb25lbnQiLCJwcml2YXRlS2V5RW5jb2RpbmciLCJ0eXBlIiwiZm9ybWF0IiwicHVibGljS2V5RW5jb2RpbmciLCJlcnIiLCJfcHVibGljS2V5IiwicHJpdmF0ZUtleSIsInBlbVRvSldLIiwic2lnbiIsImp3ayIsImRhdGEiLCJzYWx0TGVuZ3RoIiwiY3JlYXRlU2lnbiIsImhhc2hBbGdvcml0aG0iLCJ1cGRhdGUiLCJrZXkiLCJqd2tUb1BlbSIsInBhZGRpbmciLCJjb25zdGFudHMiLCJSU0FfUEtDUzFfUFNTX1BBRERJTkciLCJ2ZXJpZnkiLCJwdWJsaWNNb2R1bHVzIiwic2lnbmF0dXJlIiwicHVibGljS2V5Iiwia3R5IiwiZSIsIm4iLCJwZW0iLCJjcmVhdGVWZXJpZnkiLCJoYXNoIiwiYWxnb3JpdGhtIiwiY3JlYXRlSGFzaCIsInBhcnNlSGFzaEFsZ29yaXRobSIsImRpZ2VzdCIsImVuY3J5cHQiLCJzYWx0IiwiZGVyaXZlZEtleSIsInBia2RmMlN5bmMiLCJpdiIsInJhbmRvbUJ5dGVzIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJlbmNyeXB0aW9uQWxnb3JpdGhtIiwiZW5jcnlwdGVkIiwiQnVmZmVyIiwiY29uY2F0IiwiZmluYWwiLCJkZWNyeXB0Iiwic2xpY2UiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJkZWNyeXB0ZWQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/node-driver.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/chunker.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/chunker.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChunkBuffer: () => (/* binding */ ChunkBuffer),\n/* harmony export */   chunker: () => (/* binding */ chunker)\n/* harmony export */ });\nclass ChunkBuffer {\n    get empty() {\n        return this.buffers.length === 0;\n    }\n    push(...buffers) {\n        this.buffers.push(...buffers);\n    }\n    pop(expectedChunkSize) {\n        let totalBufferSize = 0;\n        for (const [i, chunk] of this.buffers.entries()){\n            totalBufferSize += chunk.byteLength;\n            if (totalBufferSize === expectedChunkSize) {\n                return Buffer.concat(this.buffers.splice(0, i + 1));\n            } else if (totalBufferSize > expectedChunkSize) {\n                const chunkOverflowAmount = totalBufferSize - expectedChunkSize;\n                const chunkWatermark = chunk.byteLength - chunkOverflowAmount;\n                const chunkBelowWatermark = chunk.slice(0, chunkWatermark);\n                const chunkOverflow = chunk.slice(chunkWatermark);\n                const chunkBuffers = this.buffers.splice(0, i);\n                chunkBuffers.push(chunkBelowWatermark);\n                this.buffers[0] = chunkOverflow;\n                return Buffer.concat(chunkBuffers);\n            }\n        }\n        return null;\n    }\n    flush() {\n        const remaining = Buffer.concat(this.buffers);\n        this.buffers.length = 0;\n        return remaining;\n    }\n    constructor(){\n        this.buffers = [];\n    }\n}\nfunction chunker(expectedChunkSize, { flush } = {\n    flush: false\n}) {\n    return async function*(stream) {\n        const chunkBuffer = new ChunkBuffer();\n        for await (const chunk of stream){\n            chunkBuffer.push(chunk);\n            while(true){\n                const sizedChunk = chunkBuffer.pop(expectedChunkSize);\n                if (!sizedChunk) {\n                    break;\n                }\n                yield sizedChunk;\n            }\n        }\n        if (flush) {\n            const flushedBuffer = chunkBuffer.flush();\n            if (flushedBuffer.byteLength > 0) {\n                yield flushedBuffer;\n            }\n        }\n    };\n} //# sourceMappingURL=chunker.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9zdHJlYW0vY2h1bmtlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU1BO0lBRVQsSUFBSUMsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLE1BQU0sS0FBSztJQUNuQztJQUNBQyxLQUFLLEdBQUdGLE9BQU8sRUFBRTtRQUNiLElBQUksQ0FBQ0EsT0FBTyxDQUFDRSxJQUFJLElBQUlGO0lBQ3pCO0lBQ0FHLElBQUlDLGlCQUFpQixFQUFFO1FBQ25CLElBQUlDLGtCQUFrQjtRQUN0QixLQUFLLE1BQU0sQ0FBQ0MsR0FBR0MsTUFBTSxJQUFJLElBQUksQ0FBQ1AsT0FBTyxDQUFDUSxPQUFPLEdBQUk7WUFDN0NILG1CQUFtQkUsTUFBTUUsVUFBVTtZQUNuQyxJQUFJSixvQkFBb0JELG1CQUFtQjtnQkFDdkMsT0FBT00sT0FBT0MsTUFBTSxDQUFDLElBQUksQ0FBQ1gsT0FBTyxDQUFDWSxNQUFNLENBQUMsR0FBR04sSUFBSTtZQUNwRCxPQUNLLElBQUlELGtCQUFrQkQsbUJBQW1CO2dCQUMxQyxNQUFNUyxzQkFBc0JSLGtCQUFrQkQ7Z0JBQzlDLE1BQU1VLGlCQUFpQlAsTUFBTUUsVUFBVSxHQUFHSTtnQkFDMUMsTUFBTUUsc0JBQXNCUixNQUFNUyxLQUFLLENBQUMsR0FBR0Y7Z0JBQzNDLE1BQU1HLGdCQUFnQlYsTUFBTVMsS0FBSyxDQUFDRjtnQkFDbEMsTUFBTUksZUFBZSxJQUFJLENBQUNsQixPQUFPLENBQUNZLE1BQU0sQ0FBQyxHQUFHTjtnQkFDNUNZLGFBQWFoQixJQUFJLENBQUNhO2dCQUNsQixJQUFJLENBQUNmLE9BQU8sQ0FBQyxFQUFFLEdBQUdpQjtnQkFDbEIsT0FBT1AsT0FBT0MsTUFBTSxDQUFDTztZQUN6QjtRQUNKO1FBQ0EsT0FBTztJQUNYO0lBQ0FDLFFBQVE7UUFDSixNQUFNQyxZQUFZVixPQUFPQyxNQUFNLENBQUMsSUFBSSxDQUFDWCxPQUFPO1FBQzVDLElBQUksQ0FBQ0EsT0FBTyxDQUFDQyxNQUFNLEdBQUc7UUFDdEIsT0FBT21CO0lBQ1g7O2FBL0JBcEIsVUFBVSxFQUFFOztBQWdDaEI7QUFDTyxTQUFTcUIsUUFBUWpCLGlCQUFpQixFQUFFLEVBQUVlLEtBQUssRUFBRSxHQUFHO0lBQUVBLE9BQU87QUFBTSxDQUFDO0lBQ25FLE9BQU8sZ0JBQWlCRyxNQUFNO1FBQzFCLE1BQU1DLGNBQWMsSUFBSXpCO1FBQ3hCLFdBQVcsTUFBTVMsU0FBU2UsT0FBUTtZQUM5QkMsWUFBWXJCLElBQUksQ0FBQ0s7WUFDakIsTUFBTyxLQUFNO2dCQUNULE1BQU1pQixhQUFhRCxZQUFZcEIsR0FBRyxDQUFDQztnQkFDbkMsSUFBSSxDQUFDb0IsWUFBWTtvQkFDYjtnQkFDSjtnQkFDQSxNQUFNQTtZQUNWO1FBQ0o7UUFDQSxJQUFJTCxPQUFPO1lBQ1AsTUFBTU0sZ0JBQWdCRixZQUFZSixLQUFLO1lBQ3ZDLElBQUlNLGNBQWNoQixVQUFVLEdBQUcsR0FBRztnQkFDOUIsTUFBTWdCO1lBQ1Y7UUFDSjtJQUNKO0FBQ0osRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL25vZGUvc3RyZWFtL2NodW5rZXIuanM/YTM2MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2h1bmtCdWZmZXIge1xuICAgIGJ1ZmZlcnMgPSBbXTtcbiAgICBnZXQgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBwdXNoKC4uLmJ1ZmZlcnMpIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goLi4uYnVmZmVycyk7XG4gICAgfVxuICAgIHBvcChleHBlY3RlZENodW5rU2l6ZSkge1xuICAgICAgICBsZXQgdG90YWxCdWZmZXJTaXplID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgY2h1bmtdIG9mIHRoaXMuYnVmZmVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIHRvdGFsQnVmZmVyU2l6ZSArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRvdGFsQnVmZmVyU2l6ZSA9PT0gZXhwZWN0ZWRDaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdCh0aGlzLmJ1ZmZlcnMuc3BsaWNlKDAsIGkgKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b3RhbEJ1ZmZlclNpemUgPiBleHBlY3RlZENodW5rU2l6ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rT3ZlcmZsb3dBbW91bnQgPSB0b3RhbEJ1ZmZlclNpemUgLSBleHBlY3RlZENodW5rU2l6ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVua1dhdGVybWFyayA9IGNodW5rLmJ5dGVMZW5ndGggLSBjaHVua092ZXJmbG93QW1vdW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rQmVsb3dXYXRlcm1hcmsgPSBjaHVuay5zbGljZSgwLCBjaHVua1dhdGVybWFyayk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2h1bmtPdmVyZmxvdyA9IGNodW5rLnNsaWNlKGNodW5rV2F0ZXJtYXJrKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVua0J1ZmZlcnMgPSB0aGlzLmJ1ZmZlcnMuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgIGNodW5rQnVmZmVycy5wdXNoKGNodW5rQmVsb3dXYXRlcm1hcmspO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyc1swXSA9IGNodW5rT3ZlcmZsb3c7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoY2h1bmtCdWZmZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZmx1c2goKSB7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IEJ1ZmZlci5jb25jYXQodGhpcy5idWZmZXJzKTtcbiAgICAgICAgdGhpcy5idWZmZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiByZW1haW5pbmc7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNodW5rZXIoZXhwZWN0ZWRDaHVua1NpemUsIHsgZmx1c2ggfSA9IHsgZmx1c2g6IGZhbHNlIH0pIHtcbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24qIChzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgY2h1bmtCdWZmZXIgPSBuZXcgQ2h1bmtCdWZmZXIoKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIGNodW5rQnVmZmVyLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplZENodW5rID0gY2h1bmtCdWZmZXIucG9wKGV4cGVjdGVkQ2h1bmtTaXplKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNpemVkQ2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHlpZWxkIHNpemVkQ2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsdXNoKSB7XG4gICAgICAgICAgICBjb25zdCBmbHVzaGVkQnVmZmVyID0gY2h1bmtCdWZmZXIuZmx1c2goKTtcbiAgICAgICAgICAgIGlmIChmbHVzaGVkQnVmZmVyLmJ5dGVMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgZmx1c2hlZEJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVua2VyLmpzLm1hcCJdLCJuYW1lcyI6WyJDaHVua0J1ZmZlciIsImVtcHR5IiwiYnVmZmVycyIsImxlbmd0aCIsInB1c2giLCJwb3AiLCJleHBlY3RlZENodW5rU2l6ZSIsInRvdGFsQnVmZmVyU2l6ZSIsImkiLCJjaHVuayIsImVudHJpZXMiLCJieXRlTGVuZ3RoIiwiQnVmZmVyIiwiY29uY2F0Iiwic3BsaWNlIiwiY2h1bmtPdmVyZmxvd0Ftb3VudCIsImNodW5rV2F0ZXJtYXJrIiwiY2h1bmtCZWxvd1dhdGVybWFyayIsInNsaWNlIiwiY2h1bmtPdmVyZmxvdyIsImNodW5rQnVmZmVycyIsImZsdXNoIiwicmVtYWluaW5nIiwiY2h1bmtlciIsInN0cmVhbSIsImNodW5rQnVmZmVyIiwic2l6ZWRDaHVuayIsImZsdXNoZWRCdWZmZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/chunker.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/index.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/index.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Stream: () => (/* binding */ Stream)\n/* harmony export */ });\n/* harmony import */ var stream_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stream/promises */ \"stream/promises\");\n/* harmony import */ var _common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/lib/merkle.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/merkle.js\");\n/* harmony import */ var _common_lib_transaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/lib/transaction.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction.js\");\n/* harmony import */ var _common_lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/lib/transaction-uploader.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/transaction-uploader.js\");\n/* harmony import */ var _common_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n/* harmony import */ var _chunker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunker.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/chunker.js\");\n\n\n\n\n\n\nconst MAX_CONCURRENT_CHUNK_UPLOAD_COUNT = 128;\nclass Stream {\n    constructor({ deps }){\n        this.crypto = deps.crypto;\n        this.merkle = deps.merkle;\n        this.api = deps.api;\n        this.transactions = deps.transactions;\n        this.deepHash = deps.deepHash;\n    }\n    /**\n     * Creates an Arweave transaction from the piped data stream.\n     */ createTransactionAsync(attributes, jwk) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const oThis = this;\n        return async (source)=>{\n            const chunks = await (0,stream_promises__WEBPACK_IMPORTED_MODULE_0__.pipeline)(source, oThis.generateTransactionChunksAsync());\n            const txAttrs = Object.assign({}, attributes);\n            txAttrs.owner ??= jwk?.n;\n            txAttrs.last_tx ??= await oThis.transactions.getTransactionAnchor();\n            const lastChunk = chunks.chunks[chunks.chunks.length - 1];\n            const dataByteLength = lastChunk.maxByteRange;\n            txAttrs.reward ??= await oThis.transactions.getPrice(dataByteLength, txAttrs.target);\n            txAttrs.data_size = dataByteLength.toString();\n            const tx = new _common_lib_transaction_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n                attributes: txAttrs,\n                deps: {\n                    merkle: oThis.merkle,\n                    deepHash: oThis.deepHash\n                }\n            });\n            tx.chunks = chunks;\n            tx.data_root = (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__.bufferTob64Url)(chunks.data_root);\n            return tx;\n        };\n    }\n    /**\n     * Generates the Arweave transaction chunk information from the piped data stream.\n     */ generateTransactionChunksAsync() {\n        const crypto = this.crypto;\n        return async (source)=>{\n            const chunks = [];\n            /**\n             * @param chunkByteIndex the index the start of the specified chunk is located at within its original data stream.\n             */ const addChunk = async (chunkByteIndex, chunk)=>{\n                const dataHash = await crypto.hash(chunk);\n                const chunkRep = {\n                    dataHash,\n                    minByteRange: chunkByteIndex,\n                    maxByteRange: chunkByteIndex + chunk.byteLength\n                };\n                chunks.push(chunkRep);\n                return chunkRep;\n            };\n            let chunkStreamByteIndex = 0;\n            let previousDataChunk;\n            let expectChunkGenerationCompleted = false;\n            await (0,stream_promises__WEBPACK_IMPORTED_MODULE_0__.pipeline)(source, (0,_chunker_js__WEBPACK_IMPORTED_MODULE_5__.chunker)(_common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MAX_CHUNK_SIZE, {\n                flush: true\n            }), async (chunkedSource)=>{\n                for await (const chunk of chunkedSource){\n                    if (expectChunkGenerationCompleted) {\n                        throw Error(\"Expected chunk generation to have completed.\");\n                    }\n                    if (chunk.byteLength >= _common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MIN_CHUNK_SIZE && chunk.byteLength <= _common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MAX_CHUNK_SIZE) {\n                        await addChunk(chunkStreamByteIndex, chunk);\n                    } else if (chunk.byteLength < _common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MIN_CHUNK_SIZE) {\n                        if (previousDataChunk) {\n                            // If this final chunk is smaller than the minimum chunk size, rebalance this final chunk and\n                            // the previous chunk to keep the final chunk size above the minimum threshold.\n                            const remainingBytes = Buffer.concat([\n                                previousDataChunk,\n                                chunk\n                            ], previousDataChunk.byteLength + chunk.byteLength);\n                            const rebalancedSizeForPreviousChunk = Math.ceil(remainingBytes.byteLength / 2);\n                            const previousChunk = chunks.pop();\n                            const rebalancedPreviousChunk = await addChunk(previousChunk.minByteRange, remainingBytes.slice(0, rebalancedSizeForPreviousChunk));\n                            await addChunk(rebalancedPreviousChunk.maxByteRange, remainingBytes.slice(rebalancedSizeForPreviousChunk));\n                        } else {\n                            // This entire stream should be smaller than the minimum chunk size, just add the chunk in.\n                            await addChunk(chunkStreamByteIndex, chunk);\n                        }\n                        expectChunkGenerationCompleted = true;\n                    } else if (chunk.byteLength > _common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MAX_CHUNK_SIZE) {\n                        throw Error(\"Encountered chunk larger than max chunk size.\");\n                    }\n                    chunkStreamByteIndex += chunk.byteLength;\n                    previousDataChunk = chunk;\n                }\n            });\n            const leaves = await this.merkle.generateLeaves(chunks);\n            const root = await this.merkle.buildLayers(leaves);\n            const proofs = this.merkle.generateProofs(root);\n            return {\n                data_root: root.id,\n                chunks,\n                proofs\n            };\n        };\n    }\n    /**\n     * Uploads the piped data to the specified transaction.\n     *\n     * @param tx\n     * @param arweave\n     * @param createTx whether or not the passed transaction should be created on the network.\n     * This can be false if we want to reseed an existing transaction,\n     * @param debugOpts\n     */ uploadTransactionAsync(tx, createTx = true, debugOpts) {\n        const txId = tx.id;\n        const log = (message)=>{\n            if (debugOpts?.log) debugOpts.log(`[uploadTransactionAsync:${txId}] ${message}`);\n        };\n        log(`Starting chunked upload - ${tx.chunks?.chunks?.length} chunks / ${tx.data_size} total bytes`);\n        return async (source)=>{\n            if (!tx.chunks) {\n                throw Error(\"Transaction has no computed chunks!\");\n            }\n            if (createTx) {\n                // Ensure the transaction data field is blank.\n                // We'll upload this data in chunks instead.\n                tx.data = new Uint8Array(0);\n                const createTxRes = await this.api.post(`tx`, tx);\n                if (!(createTxRes.status >= 200 && createTxRes.status < 300)) {\n                    throw new Error(`Failed to create transaction: status ${createTxRes.status} / data ${createTxRes.data}`);\n                }\n            }\n            const txChunkData = tx.chunks;\n            const { chunks, proofs } = txChunkData;\n            function prepareChunkUploadPayload(chunkIndex, chunkData) {\n                const proof = proofs[chunkIndex];\n                return {\n                    data_root: tx.data_root,\n                    data_size: tx.data_size,\n                    data_path: (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__.bufferTob64Url)(proof.proof),\n                    offset: proof.offset.toString(),\n                    chunk: (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__.bufferTob64Url)(chunkData)\n                };\n            }\n            log(`Starting pipe - MAX_CHUNK_SIZE=${_common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MAX_CHUNK_SIZE}`);\n            await (0,stream_promises__WEBPACK_IMPORTED_MODULE_0__.pipeline)(source, (0,_chunker_js__WEBPACK_IMPORTED_MODULE_5__.chunker)(_common_lib_merkle_js__WEBPACK_IMPORTED_MODULE_1__.MAX_CHUNK_SIZE, {\n                flush: true\n            }), async (chunkedSource)=>{\n                let chunkIndex = 0;\n                let dataRebalancedIntoFinalChunk;\n                const activeChunkUploads = [];\n                for await (const chunkData of chunkedSource){\n                    const currentChunk = chunks[chunkIndex];\n                    const chunkSize = currentChunk.maxByteRange - currentChunk.minByteRange;\n                    log(`Got chunk - ${chunkData.byteLength} bytes / chunkSize ${chunkSize}`);\n                    const expectedToBeFinalRebalancedChunk = dataRebalancedIntoFinalChunk != null;\n                    let chunkPayload;\n                    if (chunkData.byteLength === chunkSize) {\n                        // If the transaction data chunks was never rebalanced this is the only code path that\n                        // will execute as the incoming chunked data as the will always be equivalent to `chunkSize`.\n                        chunkPayload = prepareChunkUploadPayload(chunkIndex, chunkData);\n                    } else if (chunkData.byteLength > chunkSize) {\n                        // If the incoming chunk data is larger than the expected size of the current chunk\n                        // it means that the transaction had chunks that were rebalanced to meet the minimum chunk size.\n                        //\n                        // It also means that the chunk we're currently processing should be the second to last\n                        // chunk.\n                        chunkPayload = prepareChunkUploadPayload(chunkIndex, chunkData.slice(0, chunkSize));\n                        dataRebalancedIntoFinalChunk = chunkData.slice(chunkSize);\n                    } else if (chunkData.byteLength < chunkSize && expectedToBeFinalRebalancedChunk) {\n                        // If this is the final rebalanced chunk, create the upload payload by concatenating the previous\n                        // chunk's data that was moved into this and the remaining stream data.\n                        chunkPayload = prepareChunkUploadPayload(chunkIndex, Buffer.concat([\n                            dataRebalancedIntoFinalChunk,\n                            chunkData\n                        ], dataRebalancedIntoFinalChunk.length + chunkData.length));\n                    } else {\n                        throw Error(\"Transaction data stream terminated incorrectly.\");\n                    }\n                    const chunkValid = await this.merkle.validatePath(txChunkData.data_root, parseInt(chunkPayload.offset), 0, parseInt(chunkPayload.data_size), (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_4__.b64UrlToBuffer)(chunkPayload.data_path));\n                    if (!chunkValid) {\n                        throw new Error(`Unable to validate chunk ${chunkIndex}.`);\n                    }\n                    // Upload multiple transaction chunks in parallel to speed up the upload.\n                    // If we are already at the maximum concurrent chunk upload limit,\n                    // wait till all of them to complete first before continuing.\n                    if (activeChunkUploads.length >= MAX_CONCURRENT_CHUNK_UPLOAD_COUNT) {\n                        await Promise.all(activeChunkUploads);\n                        // Clear the active chunk uploads array.\n                        activeChunkUploads.length = 0;\n                    }\n                    // TODO: allow for this abort code behaviour\n                    activeChunkUploads.push(this.api.post(\"chunk\", chunkPayload, {\n                        retry: {\n                            onRetry: (err)=>!_common_lib_transaction_uploader_js__WEBPACK_IMPORTED_MODULE_3__.FATAL_CHUNK_UPLOAD_ERRORS.includes(err.message)\n                        }\n                    }));\n                    chunkIndex++;\n                    log(`Chunk process done - ${chunkIndex}`);\n                }\n                log(`Active chunks to upload - ${activeChunkUploads.length}`);\n                await Promise.all(activeChunkUploads);\n                if (chunkIndex < chunks.length) {\n                    throw Error(`Transaction upload incomplete: ${chunkIndex + 1}/${chunks.length} chunks uploaded.`);\n                }\n            }).catch((e)=>{\n                log(e.message);\n                throw e;\n            });\n        };\n    }\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9zdHJlYW0vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyQztBQUNpQztBQUNsQjtBQUMyQjtBQUNWO0FBQ3BDO0FBQ3ZDLE1BQU1RLG9DQUFvQztBQUNuQyxNQUFNQztJQU1UQyxZQUFZLEVBQUVDLElBQUksRUFBRyxDQUFFO1FBQ25CLElBQUksQ0FBQ0MsTUFBTSxHQUFHRCxLQUFLQyxNQUFNO1FBQ3pCLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixLQUFLRSxNQUFNO1FBQ3pCLElBQUksQ0FBQ0MsR0FBRyxHQUFHSCxLQUFLRyxHQUFHO1FBQ25CLElBQUksQ0FBQ0MsWUFBWSxHQUFHSixLQUFLSSxZQUFZO1FBQ3JDLElBQUksQ0FBQ0MsUUFBUSxHQUFHTCxLQUFLSyxRQUFRO0lBQ2pDO0lBQ0E7O0tBRUMsR0FDREMsdUJBQXVCQyxVQUFVLEVBQUVDLEdBQUcsRUFBRTtRQUNwQyw0REFBNEQ7UUFDNUQsTUFBTUMsUUFBUSxJQUFJO1FBQ2xCLE9BQU8sT0FBT0M7WUFDVixNQUFNQyxTQUFTLE1BQU10Qix5REFBUUEsQ0FBQ3FCLFFBQVFELE1BQU1HLDhCQUE4QjtZQUMxRSxNQUFNQyxVQUFVQyxPQUFPQyxNQUFNLENBQUMsQ0FBQyxHQUFHUjtZQUNsQ00sUUFBUUcsS0FBSyxLQUFLUixLQUFLUztZQUN2QkosUUFBUUssT0FBTyxLQUFLLE1BQU1ULE1BQU1MLFlBQVksQ0FBQ2Usb0JBQW9CO1lBQ2pFLE1BQU1DLFlBQVlULE9BQU9BLE1BQU0sQ0FBQ0EsT0FBT0EsTUFBTSxDQUFDVSxNQUFNLEdBQUcsRUFBRTtZQUN6RCxNQUFNQyxpQkFBaUJGLFVBQVVHLFlBQVk7WUFDN0NWLFFBQVFXLE1BQU0sS0FBSyxNQUFNZixNQUFNTCxZQUFZLENBQUNxQixRQUFRLENBQUNILGdC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RStCLGFBQWEsRUFBRSxDQUFDLEVBQUVqRSxPQUFPVSxNQUFNLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3BHO1lBQ0osR0FBRzJFLEtBQUssQ0FBQyxDQUFDQztnQkFDTjlCLElBQUk4QixFQUFFN0IsT0FBTztnQkFDYixNQUFNNkI7WUFDVjtRQUNKO0lBQ0o7QUFDSixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vbm9kZS9zdHJlYW0vaW5kZXguanM/M2NjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwaXBlbGluZSB9IGZyb20gXCJzdHJlYW0vcHJvbWlzZXNcIjtcbmltcG9ydCB7IE1BWF9DSFVOS19TSVpFLCBNSU5fQ0hVTktfU0laRSB9IGZyb20gXCIuLi8uLi9jb21tb24vbGliL21lcmtsZS5qc1wiO1xuaW1wb3J0IFRyYW5zYWN0aW9uIGZyb20gXCIuLi8uLi9jb21tb24vbGliL3RyYW5zYWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBGQVRBTF9DSFVOS19VUExPQURfRVJST1JTIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9saWIvdHJhbnNhY3Rpb24tdXBsb2FkZXIuanNcIjtcbmltcG9ydCB7IGI2NFVybFRvQnVmZmVyLCBidWZmZXJUb2I2NFVybCB9IGZyb20gXCIuLi8uLi9jb21tb24vbGliL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBjaHVua2VyIH0gZnJvbSBcIi4vY2h1bmtlci5qc1wiO1xuY29uc3QgTUFYX0NPTkNVUlJFTlRfQ0hVTktfVVBMT0FEX0NPVU5UID0gMTI4O1xuZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gICAgY3J5cHRvO1xuICAgIG1lcmtsZTtcbiAgICBhcGk7XG4gICAgdHJhbnNhY3Rpb25zO1xuICAgIGRlZXBIYXNoO1xuICAgIGNvbnN0cnVjdG9yKHsgZGVwcywgfSkge1xuICAgICAgICB0aGlzLmNyeXB0byA9IGRlcHMuY3J5cHRvO1xuICAgICAgICB0aGlzLm1lcmtsZSA9IGRlcHMubWVya2xlO1xuICAgICAgICB0aGlzLmFwaSA9IGRlcHMuYXBpO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IGRlcHMudHJhbnNhY3Rpb25zO1xuICAgICAgICB0aGlzLmRlZXBIYXNoID0gZGVwcy5kZWVwSGFzaDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBBcndlYXZlIHRyYW5zYWN0aW9uIGZyb20gdGhlIHBpcGVkIGRhdGEgc3RyZWFtLlxuICAgICAqL1xuICAgIGNyZWF0ZVRyYW5zYWN0aW9uQXN5bmMoYXR0cmlidXRlcywgandrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICBjb25zdCBvVGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBhc3luYyAoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaHVua3MgPSBhd2FpdCBwaXBlbGluZShzb3VyY2UsIG9UaGlzLmdlbmVyYXRlVHJhbnNhY3Rpb25DaHVua3NBc3luYygpKTtcbiAgICAgICAgICAgIGNvbnN0IHR4QXR0cnMgPSBPYmplY3QuYXNzaWduKHt9LCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIHR4QXR0cnMub3duZXIgPz89IGp3az8ubjtcbiAgICAgICAgICAgIHR4QXR0cnMubGFzdF90eCA/Pz0gYXdhaXQgb1RoaXMudHJhbnNhY3Rpb25zLmdldFRyYW5zYWN0aW9uQW5jaG9yKCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q2h1bmsgPSBjaHVua3MuY2h1bmtzW2NodW5rcy5jaHVua3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBjb25zdCBkYXRhQnl0ZUxlbmd0aCA9IGxhc3RDaHVuay5tYXhCeXRlUmFuZ2U7XG4gICAgICAgICAgICB0eEF0dHJzLnJld2FyZCA/Pz0gYXdhaXQgb1RoaXMudHJhbnNhY3Rpb25zLmdldFByaWNlKGRhdGFCeXRlTGVuZ3RoLCB0eEF0dHJzLnRhcmdldCk7XG4gICAgICAgICAgICB0eEF0dHJzLmRhdGFfc2l6ZSA9IGRhdGFCeXRlTGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCB0eCA9IG5ldyBUcmFuc2FjdGlvbih7IGF0dHJpYnV0ZXM6IHR4QXR0cnMsIGRlcHM6IHsgbWVya2xlOiBvVGhpcy5tZXJrbGUsIGRlZXBIYXNoOiBvVGhpcy5kZWVwSGFzaCB9IH0pO1xuICAgICAgICAgICAgdHguY2h1bmtzID0gY2h1bmtzO1xuICAgICAgICAgICAgdHguZGF0YV9yb290ID0gYnVmZmVyVG9iNjRVcmwoY2h1bmtzLmRhdGFfcm9vdCk7XG4gICAgICAgICAgICByZXR1cm4gdHg7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgQXJ3ZWF2ZSB0cmFuc2FjdGlvbiBjaHVuayBpbmZvcm1hdGlvbiBmcm9tIHRoZSBwaXBlZCBkYXRhIHN0cmVhbS5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZVRyYW5zYWN0aW9uQ2h1bmtzQXN5bmMoKSB7XG4gICAgICAgIGNvbnN0IGNyeXB0byA9IHRoaXMuY3J5cHRvO1xuICAgICAgICByZXR1cm4gYXN5bmMgKHNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSBjaHVua0J5dGVJbmRleCB0aGUgaW5kZXggdGhlIHN0YXJ0IG9mIHRoZSBzcGVjaWZpZWQgY2h1bmsgaXMgbG9jYXRlZCBhdCB3aXRoaW4gaXRzIG9yaWdpbmFsIGRhdGEgc3RyZWFtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBhZGRDaHVuayA9IGFzeW5jIChjaHVua0J5dGVJbmRleCwgY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhSGFzaCA9IGF3YWl0IGNyeXB0by5oYXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaHVua1JlcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YUhhc2gsXG4gICAgICAgICAgICAgICAgICAgIG1pbkJ5dGVSYW5nZTogY2h1bmtCeXRlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG1heEJ5dGVSYW5nZTogY2h1bmtCeXRlSW5kZXggKyBjaHVuay5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmtSZXApO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaHVua1JlcDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgY2h1bmtTdHJlYW1CeXRlSW5kZXggPSAwO1xuICAgICAgICAgICAgbGV0IHByZXZpb3VzRGF0YUNodW5rO1xuICAgICAgICAgICAgbGV0IGV4cGVjdENodW5rR2VuZXJhdGlvbkNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYXdhaXQgcGlwZWxpbmUoc291cmNlLCBjaHVua2VyKE1BWF9DSFVOS19TSVpFLCB7IGZsdXNoOiB0cnVlIH0pLCBhc3luYyAoY2h1bmtlZFNvdXJjZSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgY2h1bmtlZFNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwZWN0Q2h1bmtHZW5lcmF0aW9uQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIGNodW5rIGdlbmVyYXRpb24gdG8gaGF2ZSBjb21wbGV0ZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID49IE1JTl9DSFVOS19TSVpFICYmIGNodW5rLmJ5dGVMZW5ndGggPD0gTUFYX0NIVU5LX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFkZENodW5rKGNodW5rU3RyZWFtQnl0ZUluZGV4LCBjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmsuYnl0ZUxlbmd0aCA8IE1JTl9DSFVOS19TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNEYXRhQ2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGZpbmFsIGNodW5rIGlzIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBjaHVuayBzaXplLCByZWJhbGFuY2UgdGhpcyBmaW5hbCBjaHVuayBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgY2h1bmsgdG8ga2VlcCB0aGUgZmluYWwgY2h1bmsgc2l6ZSBhYm92ZSB0aGUgbWluaW11bSB0aHJlc2hvbGQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nQnl0ZXMgPSBCdWZmZXIuY29uY2F0KFtwcmV2aW91c0RhdGFDaHVuaywgY2h1bmtdLCBwcmV2aW91c0RhdGFDaHVuay5ieXRlTGVuZ3RoICsgY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmViYWxhbmNlZFNpemVGb3JQcmV2aW91c0NodW5rID0gTWF0aC5jZWlsKHJlbWFpbmluZ0J5dGVzLmJ5dGVMZW5ndGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0NodW5rID0gY2h1bmtzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYmFsYW5jZWRQcmV2aW91c0NodW5rID0gYXdhaXQgYWRkQ2h1bmsocHJldmlvdXNDaHVuay5taW5CeXRlUmFuZ2UsIHJlbWFpbmluZ0J5dGVzLnNsaWNlKDAsIHJlYmFsYW5jZWRTaXplRm9yUHJldmlvdXNDaHVuaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFkZENodW5rKHJlYmFsYW5jZWRQcmV2aW91c0NodW5rLm1heEJ5dGVSYW5nZSwgcmVtYWluaW5nQnl0ZXMuc2xpY2UocmViYWxhbmNlZFNpemVGb3JQcmV2aW91c0NodW5rKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGVudGlyZSBzdHJlYW0gc2hvdWxkIGJlIHNtYWxsZXIgdGhhbiB0aGUgbWluaW11bSBjaHVuayBzaXplLCBqdXN0IGFkZCB0aGUgY2h1bmsgaW4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWRkQ2h1bmsoY2h1bmtTdHJlYW1CeXRlSW5kZXgsIGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdENodW5rR2VuZXJhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmsuYnl0ZUxlbmd0aCA+IE1BWF9DSFVOS19TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkVuY291bnRlcmVkIGNodW5rIGxhcmdlciB0aGFuIG1heCBjaHVuayBzaXplLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaHVua1N0cmVhbUJ5dGVJbmRleCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0RhdGFDaHVuayA9IGNodW5rO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbGVhdmVzID0gYXdhaXQgdGhpcy5tZXJrbGUuZ2VuZXJhdGVMZWF2ZXMoY2h1bmtzKTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBhd2FpdCB0aGlzLm1lcmtsZS5idWlsZExheWVycyhsZWF2ZXMpO1xuICAgICAgICAgICAgY29uc3QgcHJvb2ZzID0gdGhpcy5tZXJrbGUuZ2VuZXJhdGVQcm9vZnMocm9vdCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGFfcm9vdDogcm9vdC5pZCxcbiAgICAgICAgICAgICAgICBjaHVua3MsXG4gICAgICAgICAgICAgICAgcHJvb2ZzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcGlwZWQgZGF0YSB0byB0aGUgc3BlY2lmaWVkIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHR4XG4gICAgICogQHBhcmFtIGFyd2VhdmVcbiAgICAgKiBAcGFyYW0gY3JlYXRlVHggd2hldGhlciBvciBub3QgdGhlIHBhc3NlZCB0cmFuc2FjdGlvbiBzaG91bGQgYmUgY3JlYXRlZCBvbiB0aGUgbmV0d29yay5cbiAgICAgKiBUaGlzIGNhbiBiZSBmYWxzZSBpZiB3ZSB3YW50IHRvIHJlc2VlZCBhbiBleGlzdGluZyB0cmFuc2FjdGlvbixcbiAgICAgKiBAcGFyYW0gZGVidWdPcHRzXG4gICAgICovXG4gICAgdXBsb2FkVHJhbnNhY3Rpb25Bc3luYyh0eCwgY3JlYXRlVHggPSB0cnVlLCBkZWJ1Z09wdHMpIHtcbiAgICAgICAgY29uc3QgdHhJZCA9IHR4LmlkO1xuICAgICAgICBjb25zdCBsb2cgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlYnVnT3B0cz8ubG9nKVxuICAgICAgICAgICAgICAgIGRlYnVnT3B0cy5sb2coYFt1cGxvYWRUcmFuc2FjdGlvbkFzeW5jOiR7dHhJZH1dICR7bWVzc2FnZX1gKTtcbiAgICAgICAgfTtcbiAgICAgICAgbG9nKGBTdGFydGluZyBjaHVua2VkIHVwbG9hZCAtICR7dHguY2h1bmtzPy5jaHVua3M/Lmxlbmd0aH0gY2h1bmtzIC8gJHt0eC5kYXRhX3NpemV9IHRvdGFsIGJ5dGVzYCk7XG4gICAgICAgIHJldHVybiBhc3luYyAoc291cmNlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXR4LmNodW5rcykge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVHJhbnNhY3Rpb24gaGFzIG5vIGNvbXB1dGVkIGNodW5rcyFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3JlYXRlVHgpIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgdGhlIHRyYW5zYWN0aW9uIGRhdGEgZmllbGQgaXMgYmxhbmsuXG4gICAgICAgICAgICAgICAgLy8gV2UnbGwgdXBsb2FkIHRoaXMgZGF0YSBpbiBjaHVua3MgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICB0eC5kYXRhID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlVHhSZXMgPSBhd2FpdCB0aGlzLmFwaS5wb3N0KGB0eGAsIHR4KTtcbiAgICAgICAgICAgICAgICBpZiAoIShjcmVhdGVUeFJlcy5zdGF0dXMgPj0gMjAwICYmIGNyZWF0ZVR4UmVzLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIHRyYW5zYWN0aW9uOiBzdGF0dXMgJHtjcmVhdGVUeFJlcy5zdGF0dXN9IC8gZGF0YSAke2NyZWF0ZVR4UmVzLmRhdGF9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHhDaHVua0RhdGEgPSB0eC5jaHVua3M7XG4gICAgICAgICAgICBjb25zdCB7IGNodW5rcywgcHJvb2ZzIH0gPSB0eENodW5rRGF0YTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVDaHVua1VwbG9hZFBheWxvYWQoY2h1bmtJbmRleCwgY2h1bmtEYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvb2YgPSBwcm9vZnNbY2h1bmtJbmRleF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YV9yb290OiB0eC5kYXRhX3Jvb3QsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFfc2l6ZTogdHguZGF0YV9zaXplLFxuICAgICAgICAgICAgICAgICAgICBkYXRhX3BhdGg6IGJ1ZmZlclRvYjY0VXJsKHByb29mLnByb29mKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBwcm9vZi5vZmZzZXQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgY2h1bms6IGJ1ZmZlclRvYjY0VXJsKGNodW5rRGF0YSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZyhgU3RhcnRpbmcgcGlwZSAtIE1BWF9DSFVOS19TSVpFPSR7TUFYX0NIVU5LX1NJWkV9YCk7XG4gICAgICAgICAgICBhd2FpdCBwaXBlbGluZShzb3VyY2UsIGNodW5rZXIoTUFYX0NIVU5LX1NJWkUsIHsgZmx1c2g6IHRydWUgfSksIGFzeW5jIChjaHVua2VkU291cmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGNodW5rSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhUmViYWxhbmNlZEludG9GaW5hbENodW5rO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNodW5rVXBsb2FkcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmtEYXRhIG9mIGNodW5rZWRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENodW5rID0gY2h1bmtzW2NodW5rSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua1NpemUgPSBjdXJyZW50Q2h1bmsubWF4Qnl0ZVJhbmdlIC0gY3VycmVudENodW5rLm1pbkJ5dGVSYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgbG9nKGBHb3QgY2h1bmsgLSAke2NodW5rRGF0YS5ieXRlTGVuZ3RofSBieXRlcyAvIGNodW5rU2l6ZSAke2NodW5rU2l6ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRUb0JlRmluYWxSZWJhbGFuY2VkQ2h1bmsgPSBkYXRhUmViYWxhbmNlZEludG9GaW5hbENodW5rICE9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaHVua1BheWxvYWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaHVua0RhdGEuYnl0ZUxlbmd0aCA9PT0gY2h1bmtTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gZGF0YSBjaHVua3Mgd2FzIG5ldmVyIHJlYmFsYW5jZWQgdGhpcyBpcyB0aGUgb25seSBjb2RlIHBhdGggdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBleGVjdXRlIGFzIHRoZSBpbmNvbWluZyBjaHVua2VkIGRhdGEgYXMgdGhlIHdpbGwgYWx3YXlzIGJlIGVxdWl2YWxlbnQgdG8gYGNodW5rU2l6ZWAuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua1BheWxvYWQgPSBwcmVwYXJlQ2h1bmtVcGxvYWRQYXlsb2FkKGNodW5rSW5kZXgsIGNodW5rRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmtEYXRhLmJ5dGVMZW5ndGggPiBjaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBpbmNvbWluZyBjaHVuayBkYXRhIGlzIGxhcmdlciB0aGFuIHRoZSBleHBlY3RlZCBzaXplIG9mIHRoZSBjdXJyZW50IGNodW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBtZWFucyB0aGF0IHRoZSB0cmFuc2FjdGlvbiBoYWQgY2h1bmtzIHRoYXQgd2VyZSByZWJhbGFuY2VkIHRvIG1lZXQgdGhlIG1pbmltdW0gY2h1bmsgc2l6ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCBhbHNvIG1lYW5zIHRoYXQgdGhlIGNodW5rIHdlJ3JlIGN1cnJlbnRseSBwcm9jZXNzaW5nIHNob3VsZCBiZSB0aGUgc2Vjb25kIHRvIGxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNodW5rLlxuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtQYXlsb2FkID0gcHJlcGFyZUNodW5rVXBsb2FkUGF5bG9hZChjaHVua0luZGV4LCBjaHVua0RhdGEuc2xpY2UoMCwgY2h1bmtTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhUmViYWxhbmNlZEludG9GaW5hbENodW5rID0gY2h1bmtEYXRhLnNsaWNlKGNodW5rU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2h1bmtEYXRhLmJ5dGVMZW5ndGggPCBjaHVua1NpemUgJiYgZXhwZWN0ZWRUb0JlRmluYWxSZWJhbGFuY2VkQ2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpbmFsIHJlYmFsYW5jZWQgY2h1bmssIGNyZWF0ZSB0aGUgdXBsb2FkIHBheWxvYWQgYnkgY29uY2F0ZW5hdGluZyB0aGUgcHJldmlvdXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNodW5rJ3MgZGF0YSB0aGF0IHdhcyBtb3ZlZCBpbnRvIHRoaXMgYW5kIHRoZSByZW1haW5pbmcgc3RyZWFtIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHVua1BheWxvYWQgPSBwcmVwYXJlQ2h1bmtVcGxvYWRQYXlsb2FkKGNodW5rSW5kZXgsIEJ1ZmZlci5jb25jYXQoW2RhdGFSZWJhbGFuY2VkSW50b0ZpbmFsQ2h1bmssIGNodW5rRGF0YV0sIGRhdGFSZWJhbGFuY2VkSW50b0ZpbmFsQ2h1bmsubGVuZ3RoICsgY2h1bmtEYXRhLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJUcmFuc2FjdGlvbiBkYXRhIHN0cmVhbSB0ZXJtaW5hdGVkIGluY29ycmVjdGx5LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaHVua1ZhbGlkID0gYXdhaXQgdGhpcy5tZXJrbGUudmFsaWRhdGVQYXRoKHR4Q2h1bmtEYXRhLmRhdGFfcm9vdCwgcGFyc2VJbnQoY2h1bmtQYXlsb2FkLm9mZnNldCksIDAsIHBhcnNlSW50KGNodW5rUGF5bG9hZC5kYXRhX3NpemUpLCBiNjRVcmxUb0J1ZmZlcihjaHVua1BheWxvYWQuZGF0YV9wYXRoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2h1bmtWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gdmFsaWRhdGUgY2h1bmsgJHtjaHVua0luZGV4fS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBVcGxvYWQgbXVsdGlwbGUgdHJhbnNhY3Rpb24gY2h1bmtzIGluIHBhcmFsbGVsIHRvIHNwZWVkIHVwIHRoZSB1cGxvYWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBhbHJlYWR5IGF0IHRoZSBtYXhpbXVtIGNvbmN1cnJlbnQgY2h1bmsgdXBsb2FkIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IHRpbGwgYWxsIG9mIHRoZW0gdG8gY29tcGxldGUgZmlyc3QgYmVmb3JlIGNvbnRpbnVpbmcuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDaHVua1VwbG9hZHMubGVuZ3RoID49IE1BWF9DT05DVVJSRU5UX0NIVU5LX1VQTE9BRF9DT1VOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYWN0aXZlQ2h1bmtVcGxvYWRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBhY3RpdmUgY2h1bmsgdXBsb2FkcyBhcnJheS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNodW5rVXBsb2Fkcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFsbG93IGZvciB0aGlzIGFib3J0IGNvZGUgYmVoYXZpb3VyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNodW5rVXBsb2Fkcy5wdXNoKHRoaXMuYXBpLnBvc3QoXCJjaHVua1wiLCBjaHVua1BheWxvYWQsIHsgcmV0cnk6IHsgb25SZXRyeTogKGVycikgPT4gIUZBVEFMX0NIVU5LX1VQTE9BRF9FUlJPUlMuaW5jbHVkZXMoZXJyLm1lc3NhZ2UpIH0gfSkpO1xuICAgICAgICAgICAgICAgICAgICBjaHVua0luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGxvZyhgQ2h1bmsgcHJvY2VzcyBkb25lIC0gJHtjaHVua0luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2coYEFjdGl2ZSBjaHVua3MgdG8gdXBsb2FkIC0gJHthY3RpdmVDaHVua1VwbG9hZHMubGVuZ3RofWApO1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGFjdGl2ZUNodW5rVXBsb2Fkcyk7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rSW5kZXggPCBjaHVua3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKGBUcmFuc2FjdGlvbiB1cGxvYWQgaW5jb21wbGV0ZTogJHtjaHVua0luZGV4ICsgMX0vJHtjaHVua3MubGVuZ3RofSBjaHVua3MgdXBsb2FkZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsb2coZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbInBpcGVsaW5lIiwiTUFYX0NIVU5LX1NJWkUiLCJNSU5fQ0hVTktfU0laRSIsIlRyYW5zYWN0aW9uIiwiRkFUQUxfQ0hVTktfVVBMT0FEX0VSUk9SUyIsImI2NFVybFRvQnVmZmVyIiwiYnVmZmVyVG9iNjRVcmwiLCJjaHVua2VyIiwiTUFYX0NPTkNVUlJFTlRfQ0hVTktfVVBMT0FEX0NPVU5UIiwiU3RyZWFtIiwiY29uc3RydWN0b3IiLCJkZXBzIiwiY3J5cHRvIiwibWVya2xlIiwiYXBpIiwidHJhbnNhY3Rpb25zIiwiZGVlcEhhc2giLCJjcmVhdGVUcmFuc2FjdGlvbkFzeW5jIiwiYXR0cmlidXRlcyIsImp3ayIsIm9UaGlzIiwic291cmNlIiwiY2h1bmtzIiwiZ2VuZXJhdGVUcmFuc2FjdGlvbkNodW5rc0FzeW5jIiwidHhBdHRycyIsIk9iamVjdCIsImFzc2lnbiIsIm93bmVyIiwibiIsImxhc3RfdHgiLCJnZXRUcmFuc2FjdGlvbkFuY2hvciIsImxhc3RDaHVuayIsImxlbmd0aCIsImRhdGFCeXRlTGVuZ3RoIiwibWF4Qnl0ZVJhbmdlIiwicmV3YXJkIiwiZ2V0UHJpY2UiLCJ0YXJnZXQiLCJkYXRhX3NpemUiLCJ0b1N0cmluZyIsInR4IiwiZGF0YV9yb290IiwiYWRkQ2h1bmsiLCJjaHVua0J5dGVJbmRleCIsImNodW5rIiwiZGF0YUhhc2giLCJoYXNoIiwiY2h1bmtSZXAiLCJtaW5CeXRlUmFuZ2UiLCJieXRlTGVuZ3RoIiwicHVzaCIsImNodW5rU3RyZWFtQnl0ZUluZGV4IiwicHJldmlvdXNEYXRhQ2h1bmsiLCJleHBlY3RDaHVua0dlbmVyYXRpb25Db21wbGV0ZWQiLCJmbHVzaCIsImNodW5rZWRTb3VyY2UiLCJFcnJvciIsInJlbWFpbmluZ0J5dGVzIiwiQnVmZmVyIiwiY29uY2F0IiwicmViYWxhbmNlZFNpemVGb3JQcmV2aW91c0NodW5rIiwiTWF0aCIsImNlaWwiLCJwcmV2aW91c0NodW5rIiwicG9wIiwicmViYWxhbmNlZFByZXZpb3VzQ2h1bmsiLCJzbGljZSIsImxlYXZlcyIsImdlbmVyYXRlTGVhdmVzIiwicm9vdCIsImJ1aWxkTGF5ZXJzIiwicHJvb2ZzIiwiZ2VuZXJhdGVQcm9vZnMiLCJpZCIsInVwbG9hZFRyYW5zYWN0aW9uQXN5bmMiLCJjcmVhdGVUeCIsImRlYnVnT3B0cyIsInR4SWQiLCJsb2ciLCJtZXNzYWdlIiwiZGF0YSIsIlVpbnQ4QXJyYXkiLCJjcmVhdGVUeFJlcyIsInBvc3QiLCJzdGF0dXMiLCJ0eENodW5rRGF0YSIsInByZXBhcmVDaHVua1VwbG9hZFBheWxvYWQiLCJjaHVua0luZGV4IiwiY2h1bmtEYXRhIiwicHJvb2YiLCJkYXRhX3BhdGgiLCJvZmZzZXQiLCJkYXRhUmViYWxhbmNlZEludG9GaW5hbENodW5rIiwiYWN0aXZlQ2h1bmtVcGxvYWRzIiwiY3VycmVudENodW5rIiwiY2h1bmtTaXplIiwiZXhwZWN0ZWRUb0JlRmluYWxSZWJhbGFuY2VkQ2h1bmsiLCJjaHVua1BheWxvYWQiLCJjaHVua1ZhbGlkIiwidmFsaWRhdGVQYXRoIiwicGFyc2VJbnQiLCJQcm9taXNlIiwiYWxsIiwicmV0cnkiLCJvblJldHJ5IiwiZXJyIiwiaW5jbHVkZXMiLCJjYXRjaCIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/node/stream/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/arweave.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/arweave.js ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arweave: () => (/* binding */ Arweave),\n/* harmony export */   WebArweave: () => (/* binding */ WebArweave),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/index.js\");\n/* harmony import */ var _webcrypto_driver_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./webcrypto-driver.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/webcrypto-driver.js\");\n\n\nclass Arweave extends _common_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    /**\n     * Constructor for a new `Arweave` instance - this one uses the web crypto driver\n     * @param gatways - Specify the Arweave gateway(s) you want to use for requests\n     * @param options - Other configuration options\n     * @param options.miners - A list of Arweave miners (peers) to use for requests\n     * @param options.gateways - A list of Arweave miners (peers) to use for requests\n     */ constructor(gateways, options){\n        super({\n            crypto: options?.crypto ?? new _webcrypto_driver_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](),\n            ...options,\n            gateways: gateways ?? \"https://arweave.net\"\n        });\n    }\n    static init(apiConfig) {\n        return new Arweave(apiConfig);\n    }\n}\nconst WebArweave = Arweave;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Arweave); //# sourceMappingURL=arweave.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vd2ViL2Fyd2VhdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBK0M7QUFDSztBQUM3QyxNQUFNRSxnQkFBZ0JGLHdEQUFhQTtJQUN0Qzs7Ozs7O0tBTUMsR0FDREcsWUFBWUMsUUFBUSxFQUFFQyxPQUFPLENBQUU7UUFDM0IsS0FBSyxDQUFDO1lBQUVDLFFBQVFELFNBQVNDLFVBQVUsSUFBSUwsNERBQWVBO1lBQUksR0FBR0ksT0FBTztZQUFFRCxVQUFVQSxZQUFZO1FBQXNCO0lBQ3RIO0lBQ0EsT0FBT0csS0FBS0MsU0FBUyxFQUFFO1FBQ25CLE9BQU8sSUFBSU4sUUFBUU07SUFDdkI7QUFDSjtBQUNPLE1BQU1DLGFBQWFQLFFBQVE7QUFDbEMsaUVBQWVBLE9BQU9BLEVBQUMsQ0FDdkIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AaXJ5cythcndlYXZlQDAuMC4yX2RlYnVnQDQuNC4wL25vZGVfbW9kdWxlcy9AaXJ5cy9hcndlYXZlL2J1aWxkL2VzbS93ZWIvYXJ3ZWF2ZS5qcz81OTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tb25BcndlYXZlIGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCBXZWJDcnlwdG9Ecml2ZXIgZnJvbSBcIi4vd2ViY3J5cHRvLWRyaXZlci5qc1wiO1xuZXhwb3J0IGNsYXNzIEFyd2VhdmUgZXh0ZW5kcyBDb21tb25BcndlYXZlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBuZXcgYEFyd2VhdmVgIGluc3RhbmNlIC0gdGhpcyBvbmUgdXNlcyB0aGUgd2ViIGNyeXB0byBkcml2ZXJcbiAgICAgKiBAcGFyYW0gZ2F0d2F5cyAtIFNwZWNpZnkgdGhlIEFyd2VhdmUgZ2F0ZXdheShzKSB5b3Ugd2FudCB0byB1c2UgZm9yIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPdGhlciBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5taW5lcnMgLSBBIGxpc3Qgb2YgQXJ3ZWF2ZSBtaW5lcnMgKHBlZXJzKSB0byB1c2UgZm9yIHJlcXVlc3RzXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZ2F0ZXdheXMgLSBBIGxpc3Qgb2YgQXJ3ZWF2ZSBtaW5lcnMgKHBlZXJzKSB0byB1c2UgZm9yIHJlcXVlc3RzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZ2F0ZXdheXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoeyBjcnlwdG86IG9wdGlvbnM/LmNyeXB0byA/PyBuZXcgV2ViQ3J5cHRvRHJpdmVyKCksIC4uLm9wdGlvbnMsIGdhdGV3YXlzOiBnYXRld2F5cyA/PyBcImh0dHBzOi8vYXJ3ZWF2ZS5uZXRcIiB9KTtcbiAgICB9XG4gICAgc3RhdGljIGluaXQoYXBpQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXJ3ZWF2ZShhcGlDb25maWcpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBXZWJBcndlYXZlID0gQXJ3ZWF2ZTtcbmV4cG9ydCBkZWZhdWx0IEFyd2VhdmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcndlYXZlLmpzLm1hcCJdLCJuYW1lcyI6WyJDb21tb25BcndlYXZlIiwiV2ViQ3J5cHRvRHJpdmVyIiwiQXJ3ZWF2ZSIsImNvbnN0cnVjdG9yIiwiZ2F0ZXdheXMiLCJvcHRpb25zIiwiY3J5cHRvIiwiaW5pdCIsImFwaUNvbmZpZyIsIldlYkFyd2VhdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/arweave.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/webcrypto-driver.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/webcrypto-driver.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WebCryptoDriver)\n/* harmony export */ });\n/* harmony import */ var _common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/lib/utils.js */ \"(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/common/lib/utils.js\");\n\nclass WebCryptoDriver {\n    constructor(){\n        this.keyLength = 4096;\n        this.publicExponent = 0x10001;\n        this.hashAlgorithm = \"sha256\";\n        this.driver = crypto?.subtle;\n    }\n    async generateJWK() {\n        const cryptoKey = await this.driver.generateKey({\n            name: \"RSA-PSS\",\n            modulusLength: 4096,\n            publicExponent: new Uint8Array([\n                0x01,\n                0x00,\n                0x01\n            ]),\n            hash: {\n                name: \"SHA-256\"\n            }\n        }, true, [\n            \"sign\"\n        ]);\n        const jwk = await this.driver.exportKey(\"jwk\", cryptoKey.privateKey);\n        return {\n            kty: jwk.kty,\n            e: jwk.e,\n            n: jwk.n,\n            d: jwk.d,\n            p: jwk.p,\n            q: jwk.q,\n            dp: jwk.dp,\n            dq: jwk.dq,\n            qi: jwk.qi\n        };\n    }\n    async sign(jwk, data, { saltLength } = {\n        saltLength: 32\n    }) {\n        const signature = await this.driver.sign({\n            name: \"RSA-PSS\",\n            saltLength\n        }, await this.jwkToCryptoKey(jwk), data);\n        return new Uint8Array(signature);\n    }\n    async hash(data, algorithm = \"SHA-256\") {\n        const digest = await this.driver.digest(algorithm, data);\n        return new Uint8Array(digest);\n    }\n    async verify(publicModulus, data, signature) {\n        const publicKey = {\n            kty: \"RSA\",\n            e: \"AQAB\",\n            n: publicModulus\n        };\n        const key = await this.jwkToPublicCryptoKey(publicKey);\n        const digest = await this.driver.digest(\"SHA-256\", data);\n        const salt0 = await this.driver.verify({\n            name: \"RSA-PSS\",\n            saltLength: 0\n        }, key, signature, data);\n        const salt32 = await this.driver.verify({\n            name: \"RSA-PSS\",\n            saltLength: 32\n        }, key, signature, data);\n        // saltN's salt-length is derived from a formula described here\n        // https://developer.mozilla.org/en-US/docs/Web/API/RsaPssParams\n        const saltN = await this.driver.verify({\n            name: \"RSA-PSS\",\n            saltLength: Math.ceil((key.algorithm.modulusLength - 1) / 8) - digest.byteLength - 2\n        }, key, signature, data);\n        return salt0 || salt32 || saltN;\n    }\n    async jwkToCryptoKey(jwk) {\n        return this.driver.importKey(\"jwk\", jwk, {\n            name: \"RSA-PSS\",\n            hash: {\n                name: \"SHA-256\"\n            }\n        }, false, [\n            \"sign\"\n        ]);\n    }\n    async jwkToPublicCryptoKey(publicJwk) {\n        return this.driver.importKey(\"jwk\", publicJwk, {\n            name: \"RSA-PSS\",\n            hash: {\n                name: \"SHA-256\"\n            }\n        }, false, [\n            \"verify\"\n        ]);\n    }\n    // private detectWebCrypto() {\n    //   if (typeof crypto === \"undefined\") {\n    //     return false;\n    //   }\n    //   const subtle = crypto?.subtle;\n    //   if (subtle === undefined) {\n    //     return false;\n    //   }\n    //   const names = [\"generateKey\", \"importKey\", \"exportKey\", \"digest\", \"sign\"] as const;\n    //   return names.every((name) => typeof subtle[name] === \"function\");\n    // }\n    async encrypt(data, key, salt) {\n        const initialKey = await this.driver.importKey(\"raw\", typeof key === \"string\" ? (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(key) : key, {\n            name: \"PBKDF2\",\n            length: 32\n        }, false, [\n            \"deriveKey\"\n        ]);\n        // const salt = ArweaveUtils.stringToBuffer(\"salt\");\n        // create a random string for deriving the key\n        // const salt = this.driver.randomBytes(16).toString('hex');\n        const derivedkey = await this.driver.deriveKey({\n            name: \"PBKDF2\",\n            salt: salt ? (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(salt) : (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(\"salt\"),\n            iterations: 100000,\n            hash: \"SHA-256\"\n        }, initialKey, {\n            name: \"AES-CBC\",\n            length: 256\n        }, false, [\n            \"encrypt\",\n            \"decrypt\"\n        ]);\n        const iv = new Uint8Array(16);\n        crypto.getRandomValues(iv);\n        const encryptedData = await this.driver.encrypt({\n            name: \"AES-CBC\",\n            iv: iv\n        }, derivedkey, data);\n        return (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBuffers)([\n            iv,\n            encryptedData\n        ]);\n    }\n    async decrypt(encrypted, key, salt) {\n        const initialKey = await this.driver.importKey(\"raw\", typeof key === \"string\" ? (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(key) : key, {\n            name: \"PBKDF2\",\n            length: 32\n        }, false, [\n            \"deriveKey\"\n        ]);\n        // const salt = ArweaveUtils.stringToBuffer(\"pepper\");\n        const derivedkey = await this.driver.deriveKey({\n            name: \"PBKDF2\",\n            salt: salt ? (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(salt) : (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.stringToBuffer)(\"salt\"),\n            iterations: 100000,\n            hash: \"SHA-256\"\n        }, initialKey, {\n            name: \"AES-CBC\",\n            length: 256\n        }, false, [\n            \"encrypt\",\n            \"decrypt\"\n        ]);\n        const iv = encrypted.slice(0, 16);\n        const data = await this.driver.decrypt({\n            name: \"AES-CBC\",\n            iv: iv\n        }, derivedkey, encrypted.slice(16));\n        // We're just using concat to convert from an array buffer to uint8array\n        return (0,_common_lib_utils_js__WEBPACK_IMPORTED_MODULE_0__.concatBuffers)([\n            data\n        ]);\n    }\n} //# sourceMappingURL=webcrypto-driver.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGlyeXMrYXJ3ZWF2ZUAwLjAuMl9kZWJ1Z0A0LjQuMC9ub2RlX21vZHVsZXMvQGlyeXMvYXJ3ZWF2ZS9idWlsZC9lc20vd2ViL3dlYmNyeXB0by1kcml2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUU7QUFDeEQsTUFBTUU7SUFLakJDLGFBQWM7YUFKZEMsWUFBWTthQUNaQyxpQkFBaUI7YUFDakJDLGdCQUFnQjtRQUdaLElBQUksQ0FBQ0MsTUFBTSxHQUFHQyxRQUFRQztJQUMxQjtJQUNBLE1BQU1DLGNBQWM7UUFDaEIsTUFBTUMsWUFBWSxNQUFNLElBQUksQ0FBQ0osTUFBTSxDQUFDSyxXQUFXLENBQUM7WUFDNUNDLE1BQU07WUFDTkMsZUFBZTtZQUNmVCxnQkFBZ0IsSUFBSVUsV0FBVztnQkFBQztnQkFBTTtnQkFBTTthQUFLO1lBQ2pEQyxNQUFNO2dCQUNGSCxNQUFNO1lBQ1Y7UUFDSixHQUFHLE1BQU07WUFBQztTQUFPO1FBQ2pCLE1BQU1JLE1BQU0sTUFBTSxJQUFJLENBQUNWLE1BQU0sQ0FBQ1csU0FBUyxDQUFDLE9BQU9QLFVBQVVRLFVBQVU7UUFDbkUsT0FBTztZQUNIQyxLQUFLSCxJQUFJRyxHQUFHO1lBQ1pDLEdBQUdKLElBQUlJLENBQUM7WUFDUkMsR0FBR0wsSUFBSUssQ0FBQztZQUNSQyxHQUFHTixJQUFJTSxDQUFDO1lBQ1JDLEdBQUdQLElBQUlPLENBQUM7WUFDUkMsR0FBR1IsSUFBSVEsQ0FBQztZQUNSQyxJQUFJVCxJQUFJUyxFQUFFO1lBQ1ZDLElBQUlWLElBQUlVLEVBQUU7WUFDVkMsSUFBSVgsSUFBSVcsRUFBRTtRQUNkO0lBQ0o7SUFDQSxNQUFNQyxLQUFLWixHQUFHLEVBQUVhLElBQUksRUFBRSxFQUFFQyxVQUFVLEVBQUUsR0FBRztRQUFFQSxZQUFZO0lBQUcsQ0FBQyxFQUFFO1FBQ3ZELE1BQU1DLFlBQVksTUFBTSxJQUFJLENBQUN6QixNQUFNLENBQUNzQixJQUFJLENBQUM7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cm9qZWN0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BpcnlzK2Fyd2VhdmVAMC4wLjJfZGVidWdANC40LjAvbm9kZV9tb2R1bGVzL0BpcnlzL2Fyd2VhdmUvYnVpbGQvZXNtL3dlYi93ZWJjcnlwdG8tZHJpdmVyLmpzPzRiM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uY2F0QnVmZmVycywgc3RyaW5nVG9CdWZmZXIgfSBmcm9tIFwiLi4vY29tbW9uL2xpYi91dGlscy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViQ3J5cHRvRHJpdmVyIHtcbiAgICBrZXlMZW5ndGggPSA0MDk2O1xuICAgIHB1YmxpY0V4cG9uZW50ID0gMHgxMDAwMTtcbiAgICBoYXNoQWxnb3JpdGhtID0gXCJzaGEyNTZcIjtcbiAgICBkcml2ZXI7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZHJpdmVyID0gY3J5cHRvPy5zdWJ0bGU7XG4gICAgfVxuICAgIGFzeW5jIGdlbmVyYXRlSldLKCkge1xuICAgICAgICBjb25zdCBjcnlwdG9LZXkgPSBhd2FpdCB0aGlzLmRyaXZlci5nZW5lcmF0ZUtleSh7XG4gICAgICAgICAgICBuYW1lOiBcIlJTQS1QU1NcIixcbiAgICAgICAgICAgIG1vZHVsdXNMZW5ndGg6IDQwOTYsXG4gICAgICAgICAgICBwdWJsaWNFeHBvbmVudDogbmV3IFVpbnQ4QXJyYXkoWzB4MDEsIDB4MDAsIDB4MDFdKSxcbiAgICAgICAgICAgIGhhc2g6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIlNIQS0yNTZcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIHRydWUsIFtcInNpZ25cIl0pO1xuICAgICAgICBjb25zdCBqd2sgPSBhd2FpdCB0aGlzLmRyaXZlci5leHBvcnRLZXkoXCJqd2tcIiwgY3J5cHRvS2V5LnByaXZhdGVLZXkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga3R5OiBqd2sua3R5LFxuICAgICAgICAgICAgZTogandrLmUsXG4gICAgICAgICAgICBuOiBqd2subixcbiAgICAgICAgICAgIGQ6IGp3ay5kLFxuICAgICAgICAgICAgcDogandrLnAsXG4gICAgICAgICAgICBxOiBqd2sucSxcbiAgICAgICAgICAgIGRwOiBqd2suZHAsXG4gICAgICAgICAgICBkcTogandrLmRxLFxuICAgICAgICAgICAgcWk6IGp3ay5xaSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbihqd2ssIGRhdGEsIHsgc2FsdExlbmd0aCB9ID0geyBzYWx0TGVuZ3RoOiAzMiB9KSB7XG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuZHJpdmVyLnNpZ24oe1xuICAgICAgICAgICAgbmFtZTogXCJSU0EtUFNTXCIsXG4gICAgICAgICAgICBzYWx0TGVuZ3RoLFxuICAgICAgICB9LCBhd2FpdCB0aGlzLmp3a1RvQ3J5cHRvS2V5KGp3ayksIGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKTtcbiAgICB9XG4gICAgYXN5bmMgaGFzaChkYXRhLCBhbGdvcml0aG0gPSBcIlNIQS0yNTZcIikge1xuICAgICAgICBjb25zdCBkaWdlc3QgPSBhd2FpdCB0aGlzLmRyaXZlci5kaWdlc3QoYWxnb3JpdGhtLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRpZ2VzdCk7XG4gICAgfVxuICAgIGFzeW5jIHZlcmlmeShwdWJsaWNNb2R1bHVzLCBkYXRhLCBzaWduYXR1cmUpIHtcbiAgICAgICAgY29uc3QgcHVibGljS2V5ID0ge1xuICAgICAgICAgICAga3R5OiBcIlJTQVwiLFxuICAgICAgICAgICAgZTogXCJBUUFCXCIsXG4gICAgICAgICAgICBuOiBwdWJsaWNNb2R1bHVzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCB0aGlzLmp3a1RvUHVibGljQ3J5cHRvS2V5KHB1YmxpY0tleSk7XG4gICAgICAgIGNvbnN0IGRpZ2VzdCA9IGF3YWl0IHRoaXMuZHJpdmVyLmRpZ2VzdChcIlNIQS0yNTZcIiwgZGF0YSk7XG4gICAgICAgIGNvbnN0IHNhbHQwID0gYXdhaXQgdGhpcy5kcml2ZXIudmVyaWZ5KHtcbiAgICAgICAgICAgIG5hbWU6IFwiUlNBLVBTU1wiLFxuICAgICAgICAgICAgc2FsdExlbmd0aDogMCxcbiAgICAgICAgfSwga2V5LCBzaWduYXR1cmUsIGRhdGEpO1xuICAgICAgICBjb25zdCBzYWx0MzIgPSBhd2FpdCB0aGlzLmRyaXZlci52ZXJpZnkoe1xuICAgICAgICAgICAgbmFtZTogXCJSU0EtUFNTXCIsXG4gICAgICAgICAgICBzYWx0TGVuZ3RoOiAzMixcbiAgICAgICAgfSwga2V5LCBzaWduYXR1cmUsIGRhdGEpO1xuICAgICAgICAvLyBzYWx0TidzIHNhbHQtbGVuZ3RoIGlzIGRlcml2ZWQgZnJvbSBhIGZvcm11bGEgZGVzY3JpYmVkIGhlcmVcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JzYVBzc1BhcmFtc1xuICAgICAgICBjb25zdCBzYWx0TiA9IGF3YWl0IHRoaXMuZHJpdmVyLnZlcmlmeSh7XG4gICAgICAgICAgICBuYW1lOiBcIlJTQS1QU1NcIixcbiAgICAgICAgICAgIHNhbHRMZW5ndGg6IE1hdGguY2VpbCgoa2V5LmFsZ29yaXRobS5tb2R1bHVzTGVuZ3RoIC0gMSkgLyA4KSAtIGRpZ2VzdC5ieXRlTGVuZ3RoIC0gMixcbiAgICAgICAgfSwga2V5LCBzaWduYXR1cmUsIGRhdGEpO1xuICAgICAgICByZXR1cm4gc2FsdDAgfHwgc2FsdDMyIHx8IHNhbHROO1xuICAgIH1cbiAgICBhc3luYyBqd2tUb0NyeXB0b0tleShqd2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJpdmVyLmltcG9ydEtleShcImp3a1wiLCBqd2ssIHtcbiAgICAgICAgICAgIG5hbWU6IFwiUlNBLVBTU1wiLFxuICAgICAgICAgICAgaGFzaDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiU0hBLTI1NlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgZmFsc2UsIFtcInNpZ25cIl0pO1xuICAgIH1cbiAgICBhc3luYyBqd2tUb1B1YmxpY0NyeXB0b0tleShwdWJsaWNKd2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJpdmVyLmltcG9ydEtleShcImp3a1wiLCBwdWJsaWNKd2ssIHtcbiAgICAgICAgICAgIG5hbWU6IFwiUlNBLVBTU1wiLFxuICAgICAgICAgICAgaGFzaDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiU0hBLTI1NlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgZmFsc2UsIFtcInZlcmlmeVwiXSk7XG4gICAgfVxuICAgIC8vIHByaXZhdGUgZGV0ZWN0V2ViQ3J5cHRvKCkge1xuICAgIC8vICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vICAgfVxuICAgIC8vICAgY29uc3Qgc3VidGxlID0gY3J5cHRvPy5zdWJ0bGU7XG4gICAgLy8gICBpZiAoc3VidGxlID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vICAgfVxuICAgIC8vICAgY29uc3QgbmFtZXMgPSBbXCJnZW5lcmF0ZUtleVwiLCBcImltcG9ydEtleVwiLCBcImV4cG9ydEtleVwiLCBcImRpZ2VzdFwiLCBcInNpZ25cIl0gYXMgY29uc3Q7XG4gICAgLy8gICByZXR1cm4gbmFtZXMuZXZlcnkoKG5hbWUpID0+IHR5cGVvZiBzdWJ0bGVbbmFtZV0gPT09IFwiZnVuY3Rpb25cIik7XG4gICAgLy8gfVxuICAgIGFzeW5jIGVuY3J5cHQoZGF0YSwga2V5LCBzYWx0KSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxLZXkgPSBhd2FpdCB0aGlzLmRyaXZlci5pbXBvcnRLZXkoXCJyYXdcIiwgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiA/IHN0cmluZ1RvQnVmZmVyKGtleSkgOiBrZXksIHtcbiAgICAgICAgICAgIG5hbWU6IFwiUEJLREYyXCIsXG4gICAgICAgICAgICBsZW5ndGg6IDMyLFxuICAgICAgICB9LCBmYWxzZSwgW1wiZGVyaXZlS2V5XCJdKTtcbiAgICAgICAgLy8gY29uc3Qgc2FsdCA9IEFyd2VhdmVVdGlscy5zdHJpbmdUb0J1ZmZlcihcInNhbHRcIik7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHJhbmRvbSBzdHJpbmcgZm9yIGRlcml2aW5nIHRoZSBrZXlcbiAgICAgICAgLy8gY29uc3Qgc2FsdCA9IHRoaXMuZHJpdmVyLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4Jyk7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRrZXkgPSBhd2FpdCB0aGlzLmRyaXZlci5kZXJpdmVLZXkoe1xuICAgICAgICAgICAgbmFtZTogXCJQQktERjJcIixcbiAgICAgICAgICAgIHNhbHQ6IHNhbHQgPyBzdHJpbmdUb0J1ZmZlcihzYWx0KSA6IHN0cmluZ1RvQnVmZmVyKFwic2FsdFwiKSxcbiAgICAgICAgICAgIGl0ZXJhdGlvbnM6IDEwMDAwMCxcbiAgICAgICAgICAgIGhhc2g6IFwiU0hBLTI1NlwiLFxuICAgICAgICB9LCBpbml0aWFsS2V5LCB7XG4gICAgICAgICAgICBuYW1lOiBcIkFFUy1DQkNcIixcbiAgICAgICAgICAgIGxlbmd0aDogMjU2LFxuICAgICAgICB9LCBmYWxzZSwgW1wiZW5jcnlwdFwiLCBcImRlY3J5cHRcIl0pO1xuICAgICAgICBjb25zdCBpdiA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhpdik7XG4gICAgICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCB0aGlzLmRyaXZlci5lbmNyeXB0KHtcbiAgICAgICAgICAgIG5hbWU6IFwiQUVTLUNCQ1wiLFxuICAgICAgICAgICAgaXY6IGl2LFxuICAgICAgICB9LCBkZXJpdmVka2V5LCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGNvbmNhdEJ1ZmZlcnMoW2l2LCBlbmNyeXB0ZWREYXRhXSk7XG4gICAgfVxuICAgIGFzeW5jIGRlY3J5cHQoZW5jcnlwdGVkLCBrZXksIHNhbHQpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbEtleSA9IGF3YWl0IHRoaXMuZHJpdmVyLmltcG9ydEtleShcInJhd1wiLCB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiID8gc3RyaW5nVG9CdWZmZXIoa2V5KSA6IGtleSwge1xuICAgICAgICAgICAgbmFtZTogXCJQQktERjJcIixcbiAgICAgICAgICAgIGxlbmd0aDogMzIsXG4gICAgICAgIH0sIGZhbHNlLCBbXCJkZXJpdmVLZXlcIl0pO1xuICAgICAgICAvLyBjb25zdCBzYWx0ID0gQXJ3ZWF2ZVV0aWxzLnN0cmluZ1RvQnVmZmVyKFwicGVwcGVyXCIpO1xuICAgICAgICBjb25zdCBkZXJpdmVka2V5ID0gYXdhaXQgdGhpcy5kcml2ZXIuZGVyaXZlS2V5KHtcbiAgICAgICAgICAgIG5hbWU6IFwiUEJLREYyXCIsXG4gICAgICAgICAgICBzYWx0OiBzYWx0ID8gc3RyaW5nVG9CdWZmZXIoc2FsdCkgOiBzdHJpbmdUb0J1ZmZlcihcInNhbHRcIiksXG4gICAgICAgICAgICBpdGVyYXRpb25zOiAxMDAwMDAsXG4gICAgICAgICAgICBoYXNoOiBcIlNIQS0yNTZcIixcbiAgICAgICAgfSwgaW5pdGlhbEtleSwge1xuICAgICAgICAgICAgbmFtZTogXCJBRVMtQ0JDXCIsXG4gICAgICAgICAgICBsZW5ndGg6IDI1NixcbiAgICAgICAgfSwgZmFsc2UsIFtcImVuY3J5cHRcIiwgXCJkZWNyeXB0XCJdKTtcbiAgICAgICAgY29uc3QgaXYgPSBlbmNyeXB0ZWQuc2xpY2UoMCwgMTYpO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5kcml2ZXIuZGVjcnlwdCh7XG4gICAgICAgICAgICBuYW1lOiBcIkFFUy1DQkNcIixcbiAgICAgICAgICAgIGl2OiBpdixcbiAgICAgICAgfSwgZGVyaXZlZGtleSwgZW5jcnlwdGVkLnNsaWNlKDE2KSk7XG4gICAgICAgIC8vIFdlJ3JlIGp1c3QgdXNpbmcgY29uY2F0IHRvIGNvbnZlcnQgZnJvbSBhbiBhcnJheSBidWZmZXIgdG8gdWludDhhcnJheVxuICAgICAgICByZXR1cm4gY29uY2F0QnVmZmVycyhbZGF0YV0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdlYmNyeXB0by1kcml2ZXIuanMubWFwIl0sIm5hbWVzIjpbImNvbmNhdEJ1ZmZlcnMiLCJzdHJpbmdUb0J1ZmZlciIsIldlYkNyeXB0b0RyaXZlciIsImNvbnN0cnVjdG9yIiwia2V5TGVuZ3RoIiwicHVibGljRXhwb25lbnQiLCJoYXNoQWxnb3JpdGhtIiwiZHJpdmVyIiwiY3J5cHRvIiwic3VidGxlIiwiZ2VuZXJhdGVKV0siLCJjcnlwdG9LZXkiLCJnZW5lcmF0ZUtleSIsIm5hbWUiLCJtb2R1bHVzTGVuZ3RoIiwiVWludDhBcnJheSIsImhhc2giLCJqd2siLCJleHBvcnRLZXkiLCJwcml2YXRlS2V5Iiwia3R5IiwiZSIsIm4iLCJkIiwicCIsInEiLCJkcCIsImRxIiwicWkiLCJzaWduIiwiZGF0YSIsInNhbHRMZW5ndGgiLCJzaWduYXR1cmUiLCJqd2tUb0NyeXB0b0tleSIsImFsZ29yaXRobSIsImRpZ2VzdCIsInZlcmlmeSIsInB1YmxpY01vZHVsdXMiLCJwdWJsaWNLZXkiLCJrZXkiLCJqd2tUb1B1YmxpY0NyeXB0b0tleSIsInNhbHQwIiwic2FsdDMyIiwic2FsdE4iLCJNYXRoIiwiY2VpbCIsImJ5dGVMZW5ndGgiLCJpbXBvcnRLZXkiLCJwdWJsaWNKd2siLCJlbmNyeXB0Iiwic2FsdCIsImluaXRpYWxLZXkiLCJsZW5ndGgiLCJkZXJpdmVka2V5IiwiZGVyaXZlS2V5IiwiaXRlcmF0aW9ucyIsIml2IiwiZ2V0UmFuZG9tVmFsdWVzIiwiZW5jcnlwdGVkRGF0YSIsImRlY3J5cHQiLCJlbmNyeXB0ZWQiLCJzbGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@irys+arweave@0.0.2_debug@4.4.0/node_modules/@irys/arweave/build/esm/web/webcrypto-driver.js\n");

/***/ })

};
;